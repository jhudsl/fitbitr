{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///demo/tagViz.js","webpack:///webpack/bootstrap 322e8928952ec4bc4fca","webpack:///./node_modules/rambda/index.js","webpack:///./node_modules/d3/build/d3.js","webpack:///./src/chartFunctions/trySelect.js","webpack:///./src/timeHelpers/secondsToTime.js","webpack:///./node_modules/moment/moment.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/chartFunctions/disableBrushes.js","webpack:///./node_modules/redux/es/index.js","webpack:///./node_modules/redux/es/createStore.js","webpack:///./node_modules/lodash-es/isPlainObject.js","webpack:///./node_modules/lodash-es/_Symbol.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/redux/es/utils/warning.js","webpack:///./node_modules/redux/es/compose.js","webpack:///./src/chartFunctions/transition.js","webpack:///./src/main.js","webpack:///./src/chartFunctions/dateToId.js","webpack:///./src/chartFunctions/makeScales.js","webpack:///./src/dataFunctions/subsetData.js","webpack:///./src/dataFunctions/groupData.js","webpack:///./src/timeHelpers/stringToDate.js","webpack:///./src/dataFunctions/groupTags.js","webpack:///./src/chartFunctions/makeTagInput.js","webpack:///./src/actions/addTag.js","webpack:///./src/actions/deleteTag.js","webpack:///./src/actions/addData.js","webpack:///./node_modules/lodash-es/_baseGetTag.js","webpack:///./node_modules/lodash-es/_root.js","webpack:///./node_modules/lodash-es/_freeGlobal.js","webpack:///./node_modules/lodash-es/_getRawTag.js","webpack:///./node_modules/lodash-es/_objectToString.js","webpack:///./node_modules/lodash-es/_getPrototype.js","webpack:///./node_modules/lodash-es/_overArg.js","webpack:///./node_modules/lodash-es/isObjectLike.js","webpack:///./node_modules/symbol-observable/index.js","webpack:///./node_modules/symbol-observable/lib/index.js","webpack:///./node_modules/symbol-observable/lib/ponyfill.js","webpack:///./node_modules/redux/es/combineReducers.js","webpack:///./node_modules/redux/es/bindActionCreators.js","webpack:///./node_modules/redux/es/applyMiddleware.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/dataReducer.js","webpack:///./src/reducers/tagReducer.js","webpack:///./src/reducers/tagColorsReducer.js","webpack:///./src/Tagger/TagLegend.js","webpack:///./src/DayChart.js","webpack:///./src/chartFunctions/drawAxes.js","webpack:///./src/chartFunctions/writeDate.js","webpack:///./src/timeHelpers/toMonthDay.js","webpack:///./src/chartFunctions/drawLine.js","webpack:///./src/chartFunctions/drawTags.js","webpack:///./src/chartFunctions/lineGenerators.js","webpack:///./src/chartFunctions/editTagInput.js","webpack:///./src/timeHelpers/getTimeOfDay.js","webpack:///./src/chartFunctions/resetBrushes.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","curry","fn","x","y","undefined","yHolder","type","a","Array","isArray","RegExp","asStr","toString","startsWith","includes","curryThree","z","zHolder","baseSlice","array","start","end","index","length","result","any","arr","counter","contains","val","flag","equals","drop","dropNumber","slice","b","aType","aClone","from","bClone","sort","aKeys","keys","map","aValType","filter","resIndex","len","willReturn","merge","obj","newProps","assign","addIndex","functor","cnt","newFn","_len2","arguments","args","_key2","apply","concat","_len","rest","_key","adjust","key","all","condition","arrHolder","allPass","conditions","xHolder","append","clone","push","both","input","compose","fns","list","pop","_toConsumableArray","arr2","f","defaultTo","defaultArgument","inputArgument","inputArgumentHolder","dropLast","either","find","findIndex","flatten","has","prop","head","ifElse","conditionFn","ifFn","elseFn","indexOf","question","init","helper","method","mathHelper","operation","oppositeHelper","propHelper","simpleHelper","last","match","regex","str","omit","objHolder","split","trim","partialCurry","inputArguments","inputArgumentsHolder","Promise","resolve","reject","then","catch","path","pathArr","holder","pick","pluck","keyToPluck","prepend","unshift","propEq","range","reduce","initialValue","repeat","num","fill","replace","replacer","sortBy","fnA","fnB","glue","splitEvery","tail","take","takeNumber","takeLast","tap","test","search","uniq","update","newValue","values","add","always","complement","Boolean","divide","endsWith","F","identity","join","lastIndexOf","modulo","multiply","not","padEnd","padStart","reverse","subtract","T","toLower","toUpper","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","global","ascendingComparator","ascending","pair","tickIncrement","stop","count","step","Math","max","power","floor","log","LN10","error","pow","e10","e5","e2","tickStep","step0","abs","step1","translateX","translateY","number$1","scale","center","offset","bandwidth","round","entering","__axis","axis","orient","context","tickValues","ticks","tickArguments","domain","format","tickFormat","identity$1","spacing","tickSizeInner","tickPadding","range0","range1","position","copy","selection","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","attr","line","select","text","insert","k","top","bottom","transition","epsilon","isFinite","transform","getAttribute","parentNode","remove","left","right","tickSizeOuter","each","_","slice$1","tickSize","axisTop","axisRight","axisBottom","axisLeft","dispatch","t","Error","Dispatch","parseTypenames","typenames","types","set","callback","noop","creatorInherit","document","ownerDocument","uri","namespaceURI","xhtml","documentElement","createElement","createElementNS","creatorFixed","fullname","space","local","local$1","Local","nextId","filterContextListener","listener","group","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","parseTypenames$1","onRemove","typename","on","__on","j","removeEventListener","capture","onAdd","wrap","filterEvents","addEventListener","customEvent","that","sourceEvent","none","empty$1","EnterNode","parent","datum","_next","_parent","bindIndex","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","keyPrefix","ascending$1","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","defaultView","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","nopropagation","stopImmediatePropagation","yesdrag","view","noclick","selection$$1","noevent","setTimeout","MozUserSelect","__noselect","DragEvent","target","subject","id","active","dx","dy","identifier","defaultFilter$1","button","defaultContainer","defaultSubject","touchable","extend","definition","create","Color","color","toLowerCase","reHex3","exec","parseInt","Rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reRgbaInteger","rgba","reRgbaPercent","reHslPercent","hsla","reHslaPercent","named","r","g","rgbConvert","rgb","opacity","h","Hsl","hslConvert","min","hsl","hsl2rgb","m1","m2","labConvert","Lab","Hcl","deg2rad","cos","sin","rgb2xyz","xyz2lab","Xn","Yn","Zn","lab","t3","t2","t0","lab2xyz","t1","xyz2rgb","hclConvert","atan2","rad2deg","sqrt","hcl","cubehelixConvert","Cubehelix","BC_DA","ED","EB","bl","E","C","D","cubehelix","basis","v0","v1","v2","v3","linear","exponential","hue","constant$3","isNaN","gamma","nogamma","rgbSpline","spline","colors","color$$1","zero","one","parseCss","identity$2","cssNode","cssRoot","cssView","decompose","parseSvg","svgNode","baseVal","consolidate","matrix","e","interpolateTransform","parse","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","q","reinterpolate","rotate","skewX","scaleX","scaleY","cosh","exp","sinh","tanh","hsl$1","hue$$1","lab$1","hcl$1","cubehelix$1","cubehelixGamma","cubehelix$$1","now","clockNow","setFrame","clearNow","clock","clockSkew","Timer","_call","_time","timer","delay","time","restart","timerFlush","frame","taskHead","wake","clockLast","timeout","nap","poke","pokeDelay","Infinity","taskTail","sleep","clearTimeout","interval","clearInterval","setInterval","schedule","__transition","state","CREATED","set$1","STARTING","get$1","self","elapsed","SCHEDULED","schedules","STARTED","timeout$1","RUNNING","ENDED","tween","duration","ease","ENDING","tweenRemove","tween0","tween1","schedule$$1","splice","tweenFunction","tweenValue","_id","attrRemove$1","attrRemoveNS$1","attrConstant$1","interpolate$$1","value1","value00","interpolate0","value0","attrConstantNS$1","getAttributeNS","attrFunction$1","value10","attrFunctionNS$1","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","every","onFunction","on0","on1","sit","removeFunction","styleRemove$1","styleRemoveEnd","styleConstant$1","styleFunction$1","styleTween","textConstant$1","textFunction$1","Transition","_name","newId","linear$1","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","sinIn","halfPi","sinOut","sinInOut","pi","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","b1","b0","b3","b2","b4","b6","b5","b7","b8","b9","bounceInOut","inherit","timing","defaultTiming","nopropagation$1","defaultFilter","defaultExtent","svg","ownerSVGElement","width","height","local$$1","__brush","empty","extent","brushSelection","dim","output","brushX","brush$1","X","brushY","Y","brush","overlay","initialize","cursors","handle","handles","redraw","started","handleSize","emitter","Emitter","moved","point1","mouse","shifting","lockX","lockY","point","moving","noevent$1","move","point0","mode","MODE_SPACE","MODE_DRAG","signX","W","w0","e0","w1","e1","signY","N","n0","S","s0","n1","s1","MODE_HANDLE","MODE_CENTER","flipX","flipY","emit","ended","touches","touchending","keydowned","keyCode","keyupped","altKey","changedTouches","metaKey","signsX","signsY","shiftKey","beforestart","dragDisable","interrupt","listeners","selection1","selection0","interpolateValue","starting","BrushEvent","constant$4","compareValue","compare","source","Path","_x0","_y0","_x1","_y1","defaultSource","defaultTarget","defaultRadius","radius","defaultStartAngle","startAngle","defaultEndAngle","endAngle","Map","map$1","createObject","setObject","createMap","setMap","Set","set$2","objectConverter","columns","Function","JSON","stringify","customConverter","row","inferColumns","rows","columnSet","forEach","column","tree","xm","ym","xp","yp","_root","leaf","x0","y0","x1","y1","_x","_y","next","addAll","xz","yz","cover","removeAll","defaultX","defaultY","quadtree","nodes","Quadtree","leaf_copy","vx","vy","nodeById","nodeId","x$1","y$1","formatSpecifier","specifier","FormatSpecifier","re","align","sign","symbol","comma","precision","formatTypes","defaultLocale","locale$1","formatLocale","formatPrefix","Adder","reset","add$1","adder","bv","av","acos","pi$3","asin","halfPi$2","haversin","sin$1","noop$1","streamGeometry","geometry","stream","streamGeometryType","streamLine","coordinates","closed","coordinate","lineStart","lineEnd","streamPolygon","polygonStart","polygonEnd","areaRingStart","areaStream","areaPointFirst","areaRingEnd","areaPoint","lambda00","phi00","lambda","phi","radians","lambda0","cosPhi0","cos$1","quarterPi","sinPhi0","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","areaRingSum","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","boundsPoint","ranges","lambda0$1","lambda1","phi0","phi1","linePoint","p0","normal","equatorial","inflection","phii","delta","lambda2","sign$$1","lambdai","degrees$1","antimeridian","angle","boundsLineStart","boundsStream","boundsLineEnd","boundsRingPoint","deltaSum","lambda00$1","phi00$1","boundsRingStart","boundsRingEnd","epsilon$2","rangeCompare","rangeContains","centroidPoint","centroidPointCartesian","W0","X0","Y0","Z0","centroidLineStart","centroidStream","centroidLinePointFirst","z0","centroidLinePoint","w","W1","X1","Y1","Z1","centroidLineEnd","centroidRingStart","centroidRingPointFirst","centroidRingEnd","centroidRingPoint","lambda00$2","phi00$2","cx","cy","cz","X2","Y2","Z2","rotationIdentity","tau$3","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","invert","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","circleStream","direction","cosRadius","sinRadius","circleRadius","Intersection","points","other","entry","link$1","clipExtent","visible","interpolate","to","a1","corner","comparePoint","compareIntersection","ca","cb","activeStream","polygonInside","winding","polygon","a0","ring","bufferStream","segments","clean","startInside","cleanInside","clipPolygon","clipStream","first","v_","x_","y_","x__","y__","v__","rejoin","clipMin","clipMax","clipLine","clipBuffer","lengthLineStart","lengthStream","lengthPointFirst","lengthLineEnd","lambda0$2","sinPhi0$1","cosPhi0$1","lengthPoint","cosDelta","sinDelta","lengthSum","containsGeometry","containsGeometryType","containsPoint","distance","containsLine","ab","containsPolygon","polygonContains","ringRadians","pointRadians","graticuleX","sequence","graticuleY","graticule","lines","ceil","DX","DY","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","areaRingStart$1","areaStream$1","areaPointFirst$1","areaPoint$1","x00","x0$1","y00","y0$1","areaRingSum$1","areaRingEnd$1","boundsPoint$1","x0$2","y0$2","centroidPoint$1","X0$1","Y0$1","Z0$1","centroidLineStart$1","centroidStream$1","centroidPointFirstLine","centroidPointLine","x0$3","y0$3","X1$1","Y1$1","Z1$1","centroidLineEnd$1","centroidRingStart$1","centroidPointFirstRing","centroidRingEnd$1","centroidPointRing","x00$1","y00$1","X2$1","Y2$1","Z2$1","PathContext","_context","lengthPointFirst$1","lengthStream$1","lengthPoint$1","x00$2","x0$4","y00$2","y0$4","lengthSum$1","PathString","_string","circle$1","validSegment","segment","clipAntimeridianLine","sign0","sign1","clipAntimeridianIntersect","cosPhi1","sinLambda0Lambda1","atan","clipAntimeridianInterpolate","transformer","methods","TransformStream","fitExtent","projection","clip","geoStream","boundsStream$1","fitSize","size","resampleNone","project","resample$1","delta2","resampleLineTo","c0","c1","depth","d2","phi2","x2","y2","dx2","dy2","dz","cosMinDistance","resampleStream","maxDepth","ringStart","ringPoint","ringEnd","a00","b00","c00","projectionMutator","projectAt","projectRotate","projectTransform","recenter","cache","cacheStream","theta","preclip","clipAntimeridian","postclip","identity$4","projectResample","resample","transformRadians","clipAngle","clipCircle","conicProjection","parallels","cylindricalEqualAreaRaw","forward","conicEqualAreaRaw","r0","sy0","r0y","multiplex","streams","sphere","azimuthalRaw","azimuthalInvert","sc","cc","mercatorRaw","tan","mercatorProjection","reclip","tany","conicConformalRaw","cy0","fy","equirectangularRaw","conicEquidistantRaw","gy","nx","gnomonicRaw","scaleTranslate","kx","ky","tx","ty","orthographicRaw","stereographicRaw","transverseMercatorRaw","defaultSeparation","meanX","children","meanXReduce","maxY","maxYReduce","leafLeft","leafRight","sum","leastCommonAncestor","aNodes","ancestors","bNodes","hierarchy","child","childs","Node","valued","defaultChildren","eachBefore","computeHeight","node_copy","copyData","shuffle$1","random","extendBasis","B","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","enclosesWeak","encloseBasis","encloseBasis1","r1","r2","x21","y21","r21","x3","y3","r3","a2","a3","c2","c3","d1","d3","A","place","ax","ay","da","db","dc","intersects","score","Node$1","circle","previous","packEnclose","circles","aa","sj","sk","pack","enclose","optional","required","constantZero","defaultRadius$1","radiusLeaf","packChildren","padding","translateChild","defaultId","defaultParentId","parentId","defaultSeparation$1","nextLeft","nextRight","moveSubtree","wm","wp","shift","change","executeShifts","nextAncestor","vim","ancestor","TreeNode","treeRoot","squarifyRatio","ratio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","i0","i1","dice","treemapDice","treemapSlice","lexicographicOrder","computeUpperHullIndexes","indexes","cross$1","Queue","_size","_error","_tasks","_data","_waiting","_active","_ended","_start","poke$1","start$1","abort","noabort","maybeNotify","queue","concurrency","fixCallback","xhr","hasResponse","responseType","response","responseText","responseOf","request$$1","ordinal","unknown","implicit","slice$5","band","rescale","paddingInner","paddingOuter","ordinalRange","rangeRound","pointish","point$1","deinterpolateLinear","constant$9","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate$$1","bimap","d0","polymap","bisectRight","clamp","continuous","piecewise","unit","map$3","number$2","interpolateRound","linearish","nice","linear$2","identity$6","reinterpolate$1","pow10","powp","base","logp","log10","log2","reflect","log$1","logs","pows","raise$1","exponent","pow$1","sqrt$1","quantile","thresholds","threshold","invertExtent","quantiles","quantize$1","threshold$1","newInterval","floori","offseti","field","date","Date","setTime","t0$1","t1$1","weekday","setDate","getDate","getDay","setHours","getTimezoneOffset","durationMinute$1","durationWeek$1","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","localDate","H","M","L","setFullYear","utcDate","UTC","setUTCFullYear","newYear","formatLocale$1","locale","newFormat","formats","pad","charCodeAt","pads","charAt","newParse","newDate","parseSpecifier","day$$1","U","Z","parses","parsePeriod","periodRe","periodLookup","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","formatMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","periods","days","shortDays","months","shortMonths","formatRe","formatLookup","formatDayOfMonth","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","%","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","utcFormat","utcParse","requote","requoteRe","numberRe","percentRe","day","year","getMilliseconds","getMinutes","getSeconds","sunday","monday","getFullYear","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","defaultLocale$1","locale$2","timeFormat","timeParse","formatIsoNative","toISOString","parseIsoNative","date$1","number$3","calendar","year$$1","month$$1","week","hour$$1","minute$$1","second$$1","millisecond$$1","date$$1","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickInterval","interval$$1","bisector","tickIntervals","durationYear","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","ramp","sequential","interpolator","acos$1","pi$4","asin$1","halfPi$3","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","padAngle","intersect","x10","y10","x32","y32","cornerTangents","rc","cw","x01","y01","lo","sqrt$2","ox","oy","x11","y11","max$2","cx0","cx1","cy1","dx0","dy0","dx1","dy1","Linear","x$3","y$3","Radial","curve","_curve","curveRadial","radial","lineRadial","linkSource","linkTarget","link$2","link","buffer","argv","slice$6","constant$10","curveHorizontal","moveTo","bezierCurveTo","curveVertical","curveRadial$1","pointRadial","p1","p2","p3","linkHorizontal","linkVertical","linkRadial","point$2","Basis","BasisClosed","BasisOpen","Bundle","_basis","_beta","point$3","_k","_x2","_y2","Cardinal","tension","CardinalClosed","CardinalOpen","point$4","_l01_a","epsilon$3","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","CatmullRomClosed","CatmullRomOpen","LinearClosed","sign$1","slope3","h0","h1","slope2","point$5","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","Step","_t","stepBefore","stepAfter","stackValue","sum$2","series","x$4","y$4","RedBlackTree","RedBlackNode","R","P","RedBlackRotateLeft","RedBlackRotateRight","RedBlackFirst","createEdge","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","bx","by","connectEdge","fm","fb","lx","ly","rx","ry","fx","clipEdges","epsilon$4","createCell","site","cellHalfedgeAngle","cell","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","clipCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","v00","v01","v11","v10","Circle","arc","attachCircle","lArc","rArc","lSite","cSite","rSite","epsilon2$2","ha","hc","circlePool","before","firstCircle","detachCircle","Beach","createBeach","beach","beachPool","detachBeach","beaches","removeBeach","disappearing","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","triangleArea","lexicographic","Diagram","sites","ZoomEvent","Transform","transform$1","__zoom","identity$8","nopropagation$2","defaultFilter$2","defaultExtent$1","SVGElement","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","touchable$1","hi","mid","ascendingBisect","bisectLeft","pairs","cross","values0","values1","descending","number","variance","valueof","mean","deviation","constant","sturges","LN2","histogram","tz","bin","bins","freedmanDiaconis","scott","median","numbers","arrays","merged","permute","permutes","scan","xi","xj","shuffle","transpose","zip","namespaces","xlink","xml","xmlns","namespace","prefix","creator","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","matcher$1","mouseenter","mouseleave","selection_on","current","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","querySelector","selection_select","subgroups","subnode","subgroup","selectorAll","querySelectorAll","selection_selectAll","selection_filter","sparse","selection_enter","_enter","constant$1","selection_data","bind","enterGroup","updateGroup","_exit","selection_exit","selection_merge","groups0","groups1","m0","merges","group0","group1","selection_order","selection_sort","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_datum","selection_dispatch","classed","html","touch","preventDefault","constant$2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","container","mousemoved","mouseupped","mousemoving","mousedownx","mousedowny","clickDistance2","gestures","touches$$1","sublisteners","clickDistance","reI","reN","reP","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","displayable","brighter","darker","PI","basis$1","basisClosed","interpolateRgb","rgbGamma","rgb$$1","rgbBasis","rgbBasisClosed","array$1","nb","na","reA","reB","interpolateString","am","bm","bs","bi","lastIndex","valueOf","degrees","interpolateTransformCss","interpolateTransformSvg","rho","SQRT2","interpolateZoom","ux0","uy0","ux1","uy1","coshr0","hsl$2","hslLong","hcl$2","hclLong","cubehelix$2","cubehelixLong","quantize","samples","performance","requestAnimationFrame","TypeError","interval$1","total","emptyOn","emptyTween","selection_interrupt","transition_tween","transition_attr","transition_attrTween","transition_delay","transition_duration","transition_ease","transition_filter","transition_merge","transition$$1","transition_on","transition_remove","transition_select","select$$1","transition_selectAll","Selection$1","transition_selection","transition_style","transition_styleTween","transition_text","transition_transition","id0","id1","selection_prototype","polyIn","custom","polyOut","polyInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","selection_transition","root$1","xy","XY","nw","ne","se","sw","pi$1","halfPi$1","tau$1","max$1","chord","groupSums","groupIndex","subgroupIndex","chords","sortGroups","sortSubgroups","di","dj","subindex","sortChords","slice$2","constant$5","pi$2","tau$2","tauEpsilon","closePath","lineTo","quadraticCurveTo","arcTo","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","ribbon","sr","sa0","sa1","sx0","tr","ta0","ta1","clear","entries","nest","createResult","setResult","sortValues","rollup","valuesByKey","sortKey","sortKeys","proto","dsv","delimiter","convert","parseRows","token","EOF","eol","EOL","delimiterCode","formatValue","formatRows","formatRow","reFormat","csv","csvParse","csvParseRows","csvFormat","csvFormatRows","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatRows","center$1","force","sx","sy","constant$6","jiggle","tree_add","tree_cover","tree_data","visit","tree_extent","Quad","tree_find","quads","tree_remove","retainer","tree_root","tree_size","tree_visit","tree_visitAfter","tree_x","tree_y","treeProto","visitAfter","prefixExponent","collide","quad","rj","ri","yi","strength","ri2","iterations","prepare","radii","links","defaultStrength","distances","strengths","bias","initializeStrength","initializeDistance","initialRadius","initialAngle","simulation","alphaMin","stepper","alphaTarget","alphaDecay","forces","velocityDecay","initializeNodes","initializeForce","closest","manyBody","accumulate","theta2","distanceMax2","distanceMin2","distanceMin","distanceMax","x$2","y$2","formatDecimal","toExponential","coefficient","exponent$1","formatGroup","grouping","thousands","substring","formatNumerals","numerals","formatDefault","toPrecision","out","formatPrefixAuto","formatRounded","","toFixed","toUpperCase","identity$3","prefixes","valuePrefix","valueSuffix","suffix","formatType","valueNegative","maybeSuffix","decimal","currency","percent","precisionFixed","precisionPrefix","precisionRound","temp","streamObjectType","Feature","FeatureCollection","features","Sphere","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection","geometries","areaSum","areaRing","area","bounds","feature","deltaMax","centroid","constant$7","pointEqual","isSubject","extent$1","sum$1","sinPhi1","absDelta","intersection","phiArc","length$1","object$1","containsObjectType","interpolate$1","sy1","kx0","ky0","kx1","ky1","areaSum$1","_radius","pointRadius","_line","_point","lengthRing","_circle","index$1","contextStream","projectionStream","measure","pointVisible","sink","pointLine","pointRing","ringSink","ringSegments","ringBuffer","polygonStarted","rotatedStart","cr","point2","smallRadius","code","notHemisphere","two","pa","pb","n2","n2n2","n1n2","determinant","n1xn2","uu","polar","meridian","q1","conicEqualArea","albers","albersUsa","lower48Point","alaskaPoint","hawaiiPoint","lower48","alaska","hawaii","pointStream","azimuthalEqualAreaRaw","cxcy","azimuthalEqualArea","azimuthalEquidistantRaw","azimuthalEquidistant","mercator","conicConformal","equirectangular","conicEquidistant","gnomonic","identity$5","transform$$1","reflectX","reflectY","orthographic","stereographic","transverseMercator","cluster","previousNode","eachAfter","separation","nodeSize","node_count","node_each","node_eachBefore","node_eachAfter","node_sum","node_sort","node_path","node_ancestors","node_descendants","node_leaves","leaves","node_links","descendants","slice$3","siblings","constant$8","index$2","roundNode","partition","positionNode","keyPrefix$1","preroot","ambiguous","stratify","nodeKey","nodeByKey","firstWalk","secondWalk","sizeNode","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","squarify","index$3","treemap","paddingStack","paddingLeft","paddingTop","paddingRight","paddingBottom","tile","binary","valueOffset","sums","valueTarget","valueLeft","valueRight","xk","yk","sliceDice","resquarify","_squarify","area$1","centroid$1","hull","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","contains$1","inside","length$2","perimeter","slice$4","defer","await","results","awaitAll","defaultSource$1","uniform","sourceRandomUniform","randomUniform","sourceRandomNormal","randomNormal","mu","sigma","logNormal","sourceRandomLogNormal","randomLogNormal","irwinHall","sourceRandomIrwinHall","randomIrwinHall","bates","sourceRandomBates","randomBates","exponential$1","sourceRandomExponential","randomExponential","request","url","respond","status","mimeType","headers","XMLHttpRequest","user","password","XDomainRequest","onload","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","send","post","open","setRequestHeader","overrideMimeType","type$1","defaultMimeType","createRange","createContextualFragment","json","responseXML","dsv$1","csv$1","tsv$1","array$2","millisecond","milliseconds","second","seconds","minute","minutes","hour","hours","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","month","setMonth","years","utcMinute","setUTCSeconds","utcMinutes","utcHour","setUTCMinutes","utcHours","utcDays","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcMonth","setUTCMonth","utcMonths","utcYears","-","0","formatIso","parseIso","utcTime","category10","category20b","category20c","category20","cubehelix$3","warm","cool","rainbow","rainbow$1","ts","viridis","magma","inferno","plasma","abs$1","atan2$1","cos$2","min$1","sin$2","tau$4","a01","a11","a10","da0","da1","ap","rp","padRadius","cornerRadius","rc0","rc1","oc","kc","lc","areaStart","areaEnd","curveLinear","defined0","defined","area$2","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","descending$1","identity$7","pie","arcs","curveRadialLinear","lineRadial$1","areaRadial","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","circle$2","draw","cross$2","tan30","tan30_2","diamond","kr","star","square","sqrt3","triangle","wye","symbols","noop$2","basis$2","_x3","_x4","_y3","_y4","basisClosed$1","basisOpen","bundle","cardinal","_x5","_y5","cardinalClosed","cardinal$$1","cardinalOpen","x23","y23","catmullRom","catmullRomClosed","catmullRom$$1","catmullRomOpen","linearClosed","_t0","px","py","natural","none$1","none$2","stack","oz","kz","sz","sij","ki","si","expand","diverging","yn","silhouette","wiggle","s2","sij0","sij1","s3","ascending$2","descending$2","insideOut","tops","bottoms","constant$11","after","grandpa","uncle","sibling","polygons","triangles","_found","voronoi","constant$12","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","noevent$2","zoom","wheeled","dblclicked","k0","k1","constrain","Gesture","wheelidled","wheel","wheelDelta","wheelDelay","touch0","touch1","touchstarting","touchDelay","l0","l1","dp","dl","collection","scaleBy","scaleTo","translateBy","translateTo","scaleExtent","translateExtent","version","bisect","thresholdFreedmanDiaconis","thresholdScott","thresholdSturges","dragEnable","dsvFormat","easeLinear","easeQuad","easeQuadIn","easeQuadOut","easeQuadInOut","easeCubic","easeCubicIn","easeCubicOut","easeCubicInOut","easePoly","easePolyIn","easePolyOut","easePolyInOut","easeSin","easeSinIn","easeSinOut","easeSinInOut","easeExp","easeExpIn","easeExpOut","easeExpInOut","easeCircle","easeCircleIn","easeCircleOut","easeCircleInOut","easeBounce","easeBounceIn","easeBounceOut","easeBounceInOut","easeBack","easeBackIn","easeBackOut","easeBackInOut","easeElastic","easeElasticIn","easeElasticOut","easeElasticInOut","forceCenter","forceCollide","forceLink","forceManyBody","forceSimulation","forceX","forceY","formatDefaultLocale","geoArea","geoBounds","geoCentroid","geoCircle","geoClipExtent","geoContains","geoDistance","geoGraticule","geoGraticule10","geoInterpolate","geoLength","geoPath","geoAlbers","geoAlbersUsa","geoAzimuthalEqualArea","geoAzimuthalEqualAreaRaw","geoAzimuthalEquidistant","geoAzimuthalEquidistantRaw","geoConicConformal","geoConicConformalRaw","geoConicEqualArea","geoConicEqualAreaRaw","geoConicEquidistant","geoConicEquidistantRaw","geoEquirectangular","geoEquirectangularRaw","geoGnomonic","geoGnomonicRaw","geoIdentity","geoProjection","geoProjectionMutator","geoMercator","geoMercatorRaw","geoOrthographic","geoOrthographicRaw","geoStereographic","geoStereographicRaw","geoTransverseMercator","geoTransverseMercatorRaw","geoRotation","geoTransform","packSiblings","treemapBinary","treemapSliceDice","treemapSquarify","treemapResquarify","interpolateArray","interpolateBasis","interpolateBasisClosed","interpolateDate","interpolateNumber","interpolateObject","interpolateRgbBasis","interpolateRgbBasisClosed","interpolateHsl","interpolateHslLong","interpolateLab","interpolateHcl","interpolateHclLong","interpolateCubehelix","interpolateCubehelixLong","polygonArea","polygonCentroid","polygonHull","polygonLength","scaleBand","scalePoint","scaleIdentity","scaleLinear","scaleLog","scaleOrdinal","scaleImplicit","scalePow","scaleSqrt","scaleQuantile","scaleQuantize","scaleThreshold","scaleTime","scaleUtc","schemeCategory10","schemeCategory20b","schemeCategory20c","schemeCategory20","interpolateCubehelixDefault","interpolateRainbow","interpolateWarm","interpolateCool","interpolateViridis","interpolateMagma","interpolateInferno","interpolatePlasma","scaleSequential","radialArea","radialLine","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolStar","symbolTriangle","symbolWye","curveBasisClosed","curveBasisOpen","curveBasis","curveBundle","curveCardinalClosed","curveCardinalOpen","curveCardinal","curveCatmullRomClosed","curveCatmullRomOpen","curveCatmullRom","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","stackOffsetExpand","stackOffsetDiverging","stackOffsetNone","stackOffsetSilhouette","stackOffsetWiggle","stackOrderAscending","stackOrderDescending","stackOrderInsideOut","stackOrderNone","stackOrderReverse","timeInterval","timeMillisecond","timeMilliseconds","utcMillisecond","utcMilliseconds","timeSecond","timeSeconds","utcSecond","utcSeconds","timeMinute","timeMinutes","timeHour","timeHours","timeDay","timeDays","timeWeek","timeWeeks","timeSunday","timeSundays","timeMonday","timeMondays","timeTuesday","timeTuesdays","timeWednesday","timeWednesdays","timeThursday","timeThursdays","timeFriday","timeFridays","timeSaturday","timeSaturdays","timeMonth","timeMonths","timeYear","timeYears","utcWeek","utcWeeks","timeFormatDefaultLocale","timeFormatLocale","isoFormat","isoParse","zoomTransform","zoomIdentity","_rambda","default","isClass","selectionAttempt","_moment","_moment2","secs","startOf","hooks","hookCallback","isObject","isObjectEmpty","isUndefined","isNumber","isDate","res","hasOwnProp","createUTC","strict","createLocalOrUTC","utc","defaultParsingFlags","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","getParsingFlags","_pf","isValid","_isValid","flags","parsedParts","some$1","isNowValid","_d","getTime","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","copyConfig","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","momentProperties","Moment","config","updateInProgress","updateOffset","isMoment","absFloor","toInt","argumentForCoercion","coercedNumber","compareArrays","array1","array2","dontConvert","lengthDiff","diffs","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","arg","deprecateSimple","deprecations","isFunction","_config","_dayOfMonthOrdinalParseLenient","_dayOfMonthOrdinalParse","_ordinalParse","mergeConfigs","parentConfig","childConfig","Locale","mom","_calendar","longDateFormat","_longDateFormat","formatUpper","invalidDate","_invalidDate","_ordinal","relativeTime","withoutSuffix","isFuture","_relativeTime","pastFuture","diff","addUnitAlias","shorthand","lowerCase","aliases","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","addUnitPriority","priorities","getPrioritizedUnits","unitsObj","makeGetSet","keepTime","stringGet","stringSet","prioritized","zeroFill","targetLength","forceSign","absNumber","zerosToFill","substr","addFormatToken","padded","func","formatTokenFunctions","localeData","removeFormattingTokens","makeFormatFunction","formattingTokens","formatMoment","expandFormat","formatFunctions","replaceLongDateFormatTokens","localFormattingTokens","addRegexToken","strictRegex","regexes","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","matched","p4","addParseToken","tokens","addWeekParseToken","_w","addTimeToArrayFromToken","_a","daysInMonth","localeMonths","_months","isFormat","MONTHS_IN_FORMAT","localeMonthsShort","_monthsShort","handleStrictParse","monthName","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","monthsShort","indexOf$1","localeMonthsParse","_monthsParseExact","dayOfMonth","monthsParse","getSetMonth","getDaysInMonth","monthsShortRegex","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","defaultMonthsShortRegex","monthsRegex","_monthsStrictRegex","_monthsRegex","defaultMonthsRegex","cmpLenRev","shortPieces","longPieces","mixedPieces","daysInYear","isLeapYear","getIsLeapYear","createDate","ms","createUTCDate","firstWeekOffset","dow","doy","fwd","dayOfYearFromWeeks","resYear","resDayOfYear","localWeekday","weekOffset","dayOfYear","weekOfYear","resWeek","weeksInYear","weekOffsetNext","localeWeek","_week","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","getSetISOWeek","weekdaysParse","parseIsoWeekday","localeWeekdays","_weekdays","localeWeekdaysShort","_weekdaysShort","localeWeekdaysMin","_weekdaysMin","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","weekdaysMin","weekdaysShort","weekdays","localeWeekdaysParse","_weekdaysParseExact","_fullWeekdaysParse","getSetDayOfWeek","getSetLocaleDayOfWeek","getSetISODayOfWeek","weekdaysRegex","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","defaultWeekdaysRegex","weekdaysShortRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","defaultWeekdaysShortRegex","weekdaysMinRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","defaultWeekdaysMinRegex","minp","shortp","longp","minPieces","hFormat","kFormat","lowercase","matchMeridiem","_meridiemParse","localeIsPM","localeMeridiem","isLower","normalizeLocale","chooseLocale","loadLocale","oldLocale","locales","globalLocale","_abbr","getSetGlobalLocale","getLocale","defineLocale","baseConfig","abbr","parentLocale","localeFamilies","updateLocale","listLocales","keys$1","checkOverflow","MONTH","DATE","YEAR","HOUR","MINUTE","SECOND","MILLISECOND","_overflowDayOfYear","_overflowWeeks","WEEK","_overflowWeekday","WEEKDAY","configFromISO","allowTime","dateFormat","tzFormat","extendedIsoRegex","basicIsoRegex","isoDates","isoTimes","tzRegex","configFromStringAndFormat","configFromRFC2822","dayFormat","timezone","timezoneIndex","timezones"," GMT"," EDT"," EST"," CDT"," CST"," MDT"," MST"," PDT"," PST","military","basicRfcRegex","momentDate","momentDay","configFromString","aspNetJsonRegex","createFromInputFallback","defaults","currentDateArray","nowValue","_useUTC","configFromArray","currentDate","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","weekYear","weekdayOverflow","GG","createLocal","curWeek","gg","ISO_8601","RFC_2822","parsedInput","skipped","stringLength","totalParsedInputLength","_meridiem","meridiemFixWrap","isPm","meridiemHour","isPM","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","configFromObject","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","pickBy","moments","isDurationValid","ordering","unitHasDecimal","parseFloat","isValid$1","createInvalid$1","createDuration","Duration","quarters","quarter","weeks","_milliseconds","_days","_bubble","isDuration","absRound","separator","utcOffset","offsetFromString","chunk","parts","chunkOffset","cloneWithOffset","model","getDateOffset","getSetOffset","keepLocalTime","keepMinutes","localAdjust","matchShortOffset","_changeInProgress","addSubtract","getSetZone","setOffsetToUTC","setOffsetToLocal","setOffsetToParsedOffset","tZone","matchOffset","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","toArray","isLocal","isUtcOffset","isUtc","ret","diffRes","aspNetRegex","isoRegex","momentsDifference","inp","positiveMomentsDifference","isAfter","isBefore","createAdder","dur","tmp","isAdding","getCalendarFormat","myMoment","calendar$1","sod","calendarFormat","localInput","endOf","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","asFloat","zoneDelta","monthDiff","anchor2","wholeMonthDiff","anchor","toDate","inspect","zone","inputString","defaultFormatUtc","defaultFormat","postformat","humanize","fromNow","toNow","newLocaleData","isoWeekday","unix","toObject","toJSON","isValid$2","parsingFlags","invalidAt","creationData","addWeekYearFormatToken","getSetWeekYear","getSetWeekYearHelper","getSetISOWeekYear","isoWeek","getISOWeeksInYear","getWeeksInYear","weekInfo","weeksTarget","setWeekAll","dayOfYearData","getSetQuarter","getSetDayOfYear","parseMs","getZoneAbbr","getZoneName","createUnix","createInZone","preParsePostFormat","setter","listMonthsImpl","listWeekdaysImpl","localeSorted","listMonths","listMonthsShort","listWeekdays","listWeekdaysShort","listWeekdaysMin","mathAbs","addSubtract$1","subtract$1","absCeil","bubble","monthsFromDays","monthsToDays","daysToMonths","as","valueOf$1","makeAs","alias","get$2","makeGetter","substituteTimeAgo","relativeTime$1","posNegDuration","ss","getSetRelativeTimeRounding","roundingFunction","getSetRelativeTimeThreshold","limit","withSuffix","toISOString$1","asSeconds","some","fun","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","defaultLongDateFormat","LTS","LT","LL","LLL","LLLL","defaultDayOfMonthOrdinalParse","defaultRelativeTime","future","past","mm","hh","dd","MM","yy","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchTimestamp","matchWord","defaultLocaleMonths","defaultLocaleMonthsShort","parseTwoDigitYear","getSetYear","defaultLocaleWeek","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","kInput","_isPm","pos","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","dayOfMonthOrdinalParse","meridiemParse","prototypeMin","prototypeMax","invalid","lang","isoWeekYear","getSetDayOfMonth","getSetMinute","getSetSecond","getSetMillisecond","isoWeeks","isoWeeksInYear","isDST","zoneAbbr","zoneName","dates","isDSTShifted","proto$1","firstDayOfYear","firstDayOfWeek","langData","asMilliseconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","proto$2","toIsoString","relativeTimeRounding","relativeTimeThreshold","webpackPolyfill","paths","brushSel","_interopRequireDefault","applyMiddleware","bindActionCreators","combineReducers","createStore","_createStore","_createStore2","_combineReducers","_combineReducers2","_bindActionCreators","_bindActionCreators2","_applyMiddleware","_applyMiddleware2","_compose","_compose2","_warning","reducer","preloadedState","enhancer","ensureCanMutateNextListeners","nextListeners","currentListeners","getState","currentState","subscribe","isSubscribed","action","_isPlainObject2","isDispatching","currentReducer","replaceReducer","nextReducer","ActionTypes","INIT","observable","_ref","outerSubscribe","observer","observeState","unsubscribe","_ref2","_isPlainObject","_symbolObservable","_symbolObservable2","isPlainObject","_isObjectLike2","_baseGetTag2","objectTag","_getPrototype2","Ctor","funcToString","objectCtorString","_baseGetTag","_getPrototype","_isObjectLike","funcProto","objectProto","_root2","eval","warning","message","funcs","speed","_dateToId","_dateToId2","_makeScales","_makeScales2","_subsetData","_subsetData2","_groupData","_groupData2","_groupTags","_groupTags2","_makeTagInput","_makeTagInput2","_disableBrushes","_disableBrushes2","_addTag","_addTag2","_deleteTag","_deleteTag2","_addData","_addData2","_redux","_index","_index2","_TagLegend","_TagLegend2","_DayChart","_DayChart2","VisualizeDays","domTarget","_config$yMax","yMax","_config$margins","margins","_config$fontFamily","fontFamily","tagMessage","_config$dayHeight","dayHeight","_config$width","store","addTag","deleteTag","addData","sel","scalesGen","dataSubsetter","xVal","yVal","legendGen","renderViz","tags","tagColors","groupedData","groupedWithTags","cWidth","cHeight","dayChart","newData","rerender","resize","_store$getState","newWidth","newHeight","_secondsToTime","_secondsToTime2","makeScales","toSeconds","_ref$xVal","_ref$yVal","_ref$xTransform","xTransform","_stringToDate","_stringToDate2","grouped","groupedDays","dayTags","tag","tagBody","tagForm","baseGetTag","undefinedTag","nullTag","symToStringTag","_getRawTag2","_objectToString2","_Symbol2","_Symbol3","_getRawTag","_objectToString","toStringTag","_freeGlobal","_freeGlobal2","freeSelf","freeGlobal","getRawTag","isOwn","unmasked","nativeObjectToString","objectToString","_overArg","_overArg2","getPrototype","getPrototypeOf","overArg","isObjectLike","_ponyfill","_ponyfill2","symbolObservablePonyfill","_Symbol","getUndefinedStateErrorMessage","actionType","assertReducerShape","reducers","reducerKeys","finalReducers","finalReducerKeys","shapeAssertionError","hasChanged","nextState","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","actionCreators","boundActionCreators","middlewares","_dispatch","chain","middlewareAPI","middleware","_extends","_dataReducer","_dataReducer2","_tagReducer","_tagReducer2","_tagColorsReducer","_tagColorsReducer2","mainReducer","dataReducer","tagReducer","_defineProperty","writable","uniqueTags","_transition","_transition2","_trySelect","_trySelect2","TagLegend","_config$transitionSpe","transitionSpeed","noLegend","tryDiv","el","legendHolder","currentTags","numTimesSeen","tagDivs","enterDiv","newObj","_drawAxes","_drawAxes2","_writeDate","_writeDate2","_drawLine","_drawLine2","_drawTags","_drawTags2","_lineGenerators","_editTagInput","_editTagInput2","_resetBrushes","_resetBrushes2","hideInput","_config$lineThickness","lineThickness","_config$hrColor","hrColor","_config$stepsColor","stepsColor","scales","hrData","stepsData","tryG","hrG","stepsG","gEl","lineGen","lineData","areaGen","onBrush","rangeInSeconds","moveInput","brushG","brushReset","onTagDelete","_toMonthDay","_toMonthDay2","pathEl","barThickness","onMouseover","selectedTag","buttonRadius","deleteButton","onMouseout","secToPlot","tagBars","_slicedToArray","sliceIterator","_arr","_n","_e","_s","done","err","_getTimeOfDay","_getTimeOfDay2","_ref3","_ref4","pageX","pageY","alert","amPm","hour12","mins"],"mappings":"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","file":"demo/tagViz.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tagViz\"] = factory();\n\telse\n\t\troot[\"tagViz\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tagViz\"] = factory();\n\telse\n\t\troot[\"tagViz\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports =\n/******/function (modules) {\n  // webpackBootstrap\n  /******/ // The module cache\n  /******/var installedModules = {};\n  /******/\n  /******/ // The require function\n  /******/function __webpack_require__(moduleId) {\n    /******/\n    /******/ // Check if module is in cache\n    /******/if (installedModules[moduleId]) {\n      /******/return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/ // Create a new module (and put it into the cache)\n    /******/var module = installedModules[moduleId] = {\n      /******/i: moduleId,\n      /******/l: false,\n      /******/exports: {}\n      /******/ };\n    /******/\n    /******/ // Execute the module function\n    /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    /******/ // Flag the module as loaded\n    /******/module.l = true;\n    /******/\n    /******/ // Return the exports of the module\n    /******/return module.exports;\n    /******/\n  }\n  /******/\n  /******/\n  /******/ // expose the modules object (__webpack_modules__)\n  /******/__webpack_require__.m = modules;\n  /******/\n  /******/ // expose the module cache\n  /******/__webpack_require__.c = installedModules;\n  /******/\n  /******/ // identity function for calling harmony imports with the correct context\n  /******/__webpack_require__.i = function (value) {\n    return value;\n  };\n  /******/\n  /******/ // define getter function for harmony exports\n  /******/__webpack_require__.d = function (exports, name, getter) {\n    /******/if (!__webpack_require__.o(exports, name)) {\n      /******/Object.defineProperty(exports, name, {\n        /******/configurable: false,\n        /******/enumerable: true,\n        /******/get: getter\n        /******/ });\n      /******/\n    }\n    /******/\n  };\n  /******/\n  /******/ // getDefaultExport function for compatibility with non-harmony modules\n  /******/__webpack_require__.n = function (module) {\n    /******/var getter = module && module.__esModule ?\n    /******/function getDefault() {\n      return module['default'];\n    } :\n    /******/function getModuleExports() {\n      return module;\n    };\n    /******/__webpack_require__.d(getter, 'a', getter);\n    /******/return getter;\n    /******/\n  };\n  /******/\n  /******/ // Object.prototype.hasOwnProperty.call\n  /******/__webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n  /******/ // __webpack_public_path__\n  /******/__webpack_require__.p = \"\";\n  /******/\n  /******/ // Load entry module and return exports\n  /******/return __webpack_require__(__webpack_require__.s = 61);\n  /******/\n}(\n/************************************************************************/\n/******/[\n/* 0 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function curry(fn) {\n    return function (x, y) {\n      if (y === undefined) {\n        return function (yHolder) {\n          return fn(x, yHolder);\n        };\n      }\n      return fn(x, y);\n    };\n  }\n\n  module.exports = curry;\n\n  /***/\n},\n/* 1 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function type(a) {\n    if (a === null) {\n\n      return \"Null\";\n    } else if (Array.isArray(a)) {\n\n      return \"Array\";\n    } else if (typeof a === \"boolean\") {\n\n      return \"Boolean\";\n    } else if (typeof a === \"number\") {\n\n      return \"Number\";\n    } else if (typeof a === \"string\") {\n\n      return \"String\";\n    } else if (a === undefined) {\n\n      return \"Undefined\";\n    } else if (a instanceof RegExp) {\n\n      return \"RegExp\";\n    }\n\n    var asStr = a.toString();\n\n    if (asStr.startsWith(\"async\")) {\n      return \"Async\";\n    } else if (asStr === \"[object Promise]\") {\n      return \"Promise\";\n    } else if (asStr.includes(\"function\") || asStr.includes(\"=>\")) {\n      return \"Function\";\n    }\n\n    return \"Object\";\n  }\n\n  module.exports = type;\n\n  /***/\n},\n/* 2 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function curryThree(fn) {\n    return function (x, y, z) {\n      if (y === undefined) {\n        var helper = function helper(yHolder, zHolder) {\n          return fn(x, yHolder, zHolder);\n        };\n        return curry(helper);\n      } else if (z === undefined) {\n        return function (zHolder) {\n          return fn(x, y, zHolder);\n        };\n      }\n      return fn(x, y, z);\n    };\n  }\n\n  module.exports = curryThree;\n\n  /***/\n},\n/* 3 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function baseSlice(array, start, end) {\n    var index = -1;\n    var length = array.length;\n\n    end = end > length ? length : end;\n    if (end < 0) {\n      end += length;\n    }\n    length = start > end ? 0 : end - start >>> 0;\n    start >>>= 0;\n\n    var result = Array(length);\n    while (++index < length) {\n      result[index] = array[index + start];\n    }\n\n    return result;\n  }\n\n  module.exports = baseSlice;\n\n  /***/\n},\n/* 4 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function any(fn, arr) {\n\n    var counter = 0;\n    while (counter < arr.length) {\n      if (fn(arr[counter])) {\n        return true;\n      }\n      counter++;\n    }\n\n    return false;\n  }\n\n  module.exports = curry(any);\n\n  /***/\n},\n/* 5 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var equals = __webpack_require__(7);\n  var curry = __webpack_require__(0);\n\n  function contains(val, arr) {\n    var index = -1;\n    var flag = false;\n    while (++index < arr.length && !flag) {\n      if (equals(arr[index], val)) {\n        flag = true;\n      }\n    }\n\n    return flag;\n  }\n\n  module.exports = curry(contains);\n\n  /***/\n},\n/* 6 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function drop(dropNumber, a) {\n    return a.slice(dropNumber);\n  }\n\n  module.exports = curry(drop);\n\n  /***/\n},\n/* 7 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n  var type = __webpack_require__(1);\n\n  function equals(a, b) {\n    if (a === b) {\n\n      return true;\n    }\n    var aType = type(a);\n    if (aType !== type(b)) {\n      return false;\n    }\n\n    if (aType === \"Array\") {\n      var aClone = Array.from(a);\n      var bClone = Array.from(b);\n\n      return aClone.sort().toString() === bClone.sort().toString();\n    }\n\n    if (aType === \"Object\") {\n      var aKeys = Object.keys(a);\n      if (aKeys.length === Object.keys(b).length) {\n        if (aKeys.length === 0) {\n          return true;\n        }\n        var flag = true;\n        aKeys.map(function (val) {\n          if (flag) {\n            var aValType = type(a[val]);\n            var bValType = type(b[val]);\n            if (aValType === bValType) {\n              if (aValType === \"Object\") {\n                if (Object.keys(a[val]).length === Object.keys(b[val]).length) {\n                  if (Object.keys(a[val]).length !== 0) {\n                    if (!equals(a[val], b[val])) {\n                      flag = false;\n                    }\n                  }\n                } else {\n                  flag = false;\n                }\n              } else if (!equals(a[val], b[val])) {\n                flag = false;\n              }\n            } else {\n              flag = false;\n            }\n          }\n        });\n\n        return flag;\n      }\n    }\n\n    return false;\n  }\n\n  module.exports = curry(equals);\n\n  /***/\n},\n/* 8 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function filter(fn, arr) {\n    var index = -1;\n    var resIndex = 0;\n    var len = arr.length;\n    var willReturn = [];\n\n    while (++index < len) {\n      var value = arr[index];\n      if (fn(value)) {\n        willReturn[resIndex++] = value;\n      }\n    }\n\n    return willReturn;\n  }\n\n  module.exports = curry(filter);\n\n  /***/\n},\n/* 9 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function map(fn, arr) {\n    var index = -1;\n    var length = arr.length;\n    var willReturn = Array(length);\n\n    while (++index < length) {\n      willReturn[index] = fn(arr[index]);\n    }\n\n    return willReturn;\n  }\n\n  module.exports = curry(map);\n\n  /***/\n},\n/* 10 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function merge(obj, newProps) {\n    return Object.assign({}, obj, newProps);\n  }\n\n  module.exports = curry(merge);\n\n  /***/\n},\n/* 11 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function addIndex(functor) {\n    return function (fn) {\n      var cnt = 0;\n      var newFn = function newFn() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return fn.apply(null, [].concat(args, [cnt++]));\n      };\n\n      for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      return functor.apply(null, [newFn].concat(rest));\n    };\n  }\n\n  module.exports = addIndex;\n\n  /***/\n},\n/* 12 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curryThree = __webpack_require__(2);\n\n  function adjust(fn, index, arr) {\n    var clone = arr.concat();\n\n    return clone.map(function (val, key) {\n      if (key === index) {\n        return fn(arr[index]);\n      }\n\n      return val;\n    });\n  }\n\n  module.exports = curryThree(adjust);\n\n  /***/\n},\n/* 13 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var filter = __webpack_require__(8);\n\n  function all(condition, arr) {\n    if (arguments.length === 1) {\n      return function (arrHolder) {\n        return all(condition, arrHolder);\n      };\n    }\n\n    return filter(condition, arr).length === arr.length;\n  }\n\n  module.exports = all;\n\n  /***/\n},\n/* 14 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var any = __webpack_require__(4);\n\n  function allPass(conditions, x) {\n    if (arguments.length === 1) {\n      return function (conditions) {\n        return allPass(conditions, xHolder);\n      };\n    }\n    return !any(function (condition) {\n      return !condition(x);\n    })(conditions);\n  }\n\n  module.exports = allPass;\n\n  /***/\n},\n/* 15 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function append(val, arr) {\n    var clone = arr.concat();\n    clone.push(val);\n\n    return clone;\n  }\n\n  module.exports = curry(append);\n\n  /***/\n},\n/* 16 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function both(x, y) {\n    return function (input) {\n      return x(input) && y(input);\n    };\n  }\n\n  module.exports = curry(both);\n\n  /***/\n},\n/* 17 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  // Taken from https://github.com/getify/Functional-Light-JS/blob/master/ch4.md\n\n  var compose = function compose() {\n    for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n      fns[_key] = arguments[_key];\n    }\n\n    return function (result) {\n      var list = fns.slice();\n\n      while (list.length > 0) {\n        result = list.pop()(result);\n      }\n\n      return result;\n    };\n  };\n\n  module.exports = compose;\n\n  /***/\n},\n/* 18 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n\n  // taken from the last comment of https://gist.github.com/mkuklis/5294248\n\n  function curry(f) {\n    var a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return function () {\n      for (var _len = arguments.length, p = Array(_len), _key = 0; _key < _len; _key++) {\n        p[_key] = arguments[_key];\n      }\n\n      return function (o) {\n        return o.length >= f.length ? f.apply(undefined, _toConsumableArray(o)) : curry(f, o);\n      }([].concat(_toConsumableArray(a), p));\n    };\n  }\n\n  module.exports = curry;\n\n  /***/\n},\n/* 19 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var type = __webpack_require__(1);\n\n  function defaultTo(defaultArgument, inputArgument) {\n    if (arguments.length === 1) {\n      return function (inputArgumentHolder) {\n        return defaultTo(defaultArgument, inputArgumentHolder);\n      };\n    }\n    return inputArgument === undefined || !(type(inputArgument) === type(defaultArgument)) ? defaultArgument : inputArgument;\n  }\n\n  module.exports = defaultTo;\n\n  /***/\n},\n/* 20 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function dropLast(dropNumber, a) {\n\n    return a.slice(0, -dropNumber);\n  }\n\n  module.exports = curry(dropLast);\n\n  /***/\n},\n/* 21 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function either(x, y) {\n    return function (input) {\n      return x(input) || y(input);\n    };\n  }\n\n  module.exports = curry(either);\n\n  /***/\n},\n/* 22 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function find(fn, arr) {\n    return arr.find(fn);\n  }\n\n  module.exports = curry(find);\n\n  /***/\n},\n/* 23 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function findIndex(fn, arr) {\n    var length = arr.length;\n    var index = -1;\n\n    while (++index < length) {\n      if (fn(arr[index])) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n\n  module.exports = curry(findIndex);\n\n  /***/\n},\n/* 24 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function flatten(arr, willReturn) {\n    willReturn = willReturn === undefined ? [] : willReturn;\n\n    for (var i = 0; i < arr.length; i++) {\n      if (Array.isArray(arr[i])) {\n        flatten(arr[i], willReturn);\n      } else {\n        willReturn.push(arr[i]);\n      }\n    }\n\n    return willReturn;\n  }\n\n  module.exports = flatten;\n\n  /***/\n},\n/* 25 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function has(prop, obj) {\n    return obj[prop] !== undefined;\n  }\n\n  module.exports = curry(has);\n\n  /***/\n},\n/* 26 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function head(a) {\n    if (typeof a === \"string\") {\n      return a[0] || \"\";\n    }\n\n    return a[0];\n  }\n\n  module.exports = head;\n\n  /***/\n},\n/* 27 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curryThree = __webpack_require__(2);\n\n  function ifElse(conditionFn, ifFn, elseFn) {\n    return function (input) {\n      if (conditionFn(input) === true) {\n        return ifFn(input);\n      }\n      return elseFn(input);\n    };\n  }\n\n  module.exports = curryThree(ifElse);\n\n  /***/\n},\n/* 28 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function indexOf(question, arr) {\n    var index = -1;\n    var length = arr.length;\n\n    while (++index < length) {\n      if (arr[index] === question) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n\n  module.exports = curry(indexOf);\n\n  /***/\n},\n/* 29 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var baseSlice = __webpack_require__(3);\n\n  function init(a) {\n    if (typeof a === \"string\") {\n      return a.slice(0, -1);\n    }\n\n    return a.length ? baseSlice(a, 0, -1) : [];\n  }\n\n  module.exports = init;\n\n  /***/\n},\n/* 30 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function helper(method, x, y) {\n    if (x === undefined) {\n      return function (xHolder, yHolder) {\n        return helper(method, xHolder, yHolder);\n      };\n    } else if (y === undefined) {\n      return function (yHolder) {\n        return helper(method, x, yHolder);\n      };\n    }\n    if (y[method] !== undefined) {\n      return y[method](x);\n    }\n  }\n\n  module.exports = helper;\n\n  /***/\n},\n/* 31 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curryThree = __webpack_require__(2);\n\n  function mathHelper(operation, x, y) {\n    switch (operation) {\n      case '+':\n        return x + y;\n      case '-':\n        return x - y;\n      case '/':\n        return x / y;\n      case '*':\n        return x * y;\n      case '%':\n        return x % y;\n    }\n  }\n\n  module.exports = curryThree(mathHelper);\n\n  /***/\n},\n/* 32 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function oppositeHelper(method, x, y) {\n    if (x === undefined) {\n      return function (xHolder, yHolder) {\n        return oppositeHelper(method, xHolder, yHolder);\n      };\n    } else if (y === undefined) {\n      return function (yHolder) {\n        return oppositeHelper(method, x, yHolder);\n      };\n    }\n    if (x[method] !== undefined) {\n      return x[method](y);\n    }\n  }\n\n  module.exports = oppositeHelper;\n\n  /***/\n},\n/* 33 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function propHelper(method, x) {\n    if (x === undefined) {\n      return function (xHolder) {\n        return propHelper(method, xHolder);\n      };\n    }\n\n    return x[method];\n  }\n\n  module.exports = propHelper;\n\n  /***/\n},\n/* 34 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function simpleHelper(method, x) {\n    if (x === undefined) {\n      return function (xHolder) {\n        return simpleHelper(method, xHolder);\n      };\n    }\n    if (x[method] !== undefined) {\n      return x[method]();\n    }\n  }\n\n  module.exports = simpleHelper;\n\n  /***/\n},\n/* 35 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function last(a) {\n    if (typeof a === \"string\") {\n      return a[a.length - 1] || \"\";\n    }\n\n    return a[a.length - 1];\n  }\n\n  module.exports = last;\n\n  /***/\n},\n/* 36 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function match(regex, str) {\n    var willReturn = str.match(regex);\n\n    return willReturn === null ? [] : willReturn;\n  }\n\n  module.exports = curry(match);\n\n  /***/\n},\n/* 37 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var type = __webpack_require__(1);\n\n  function omit(keys, obj) {\n    if (arguments.length === 1) {\n      return function (objHolder) {\n        return omit(keys, objHolder);\n      };\n    }\n    if (!(type(obj) === 'Object')) {\n      return undefined;\n    }\n    if (type(keys) === 'String') {\n      keys = keys.split(',').map(function (x) {\n        return x.trim();\n      });\n    }\n\n    var willReturn = {};\n    for (var key in obj) {\n      if (!keys.includes(key)) {\n        willReturn[key] = obj[key];\n      }\n    }\n\n    return willReturn;\n  }\n\n  module.exports = omit;\n\n  /***/\n},\n/* 38 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var type = __webpack_require__(1);\n  var merge = __webpack_require__(10);\n\n  function partialCurry(fn) {\n    var inputArguments = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return function (inputArgumentsHolder) {\n      if (type(fn) === \"Async\" || type(fn) === \"Promise\") {\n        return new Promise(function (resolve, reject) {\n          fn(merge(inputArgumentsHolder, inputArguments)).then(resolve).catch(reject);\n        });\n      }\n      return fn(merge(inputArgumentsHolder, inputArguments));\n    };\n  }\n\n  module.exports = partialCurry;\n\n  /***/\n},\n/* 39 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var type = __webpack_require__(1);\n\n  function path(pathArr, obj) {\n    if (arguments.length === 1) {\n      return function (objHolder) {\n        return path(pathArr, objHolder);\n      };\n    }\n    if (!(type(obj) === \"Object\")) {\n      return undefined;\n    }\n    var holder = obj;\n    var counter = 0;\n    if (typeof pathArr === \"string\") {\n      pathArr = pathArr.split(\".\");\n    }\n    while (counter < pathArr.length) {\n      if (holder === null || holder === undefined) {\n        return undefined;\n      }\n      holder = holder[pathArr[counter]];\n      counter++;\n    }\n\n    return holder;\n  }\n\n  module.exports = path;\n\n  /***/\n},\n/* 40 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var type = __webpack_require__(1);\n\n  function pick(keys, obj) {\n    if (arguments.length === 1) {\n      return function (objHolder) {\n        return pick(keys, objHolder);\n      };\n    }\n    if (!(type(obj) === \"Object\")) {\n      return undefined;\n    }\n    if (type(keys) === 'String') {\n      keys = keys.split(',').map(function (x) {\n        return x.trim();\n      });\n    }\n\n    var willReturn = {};\n    var counter = 0;\n    while (counter < keys.length) {\n      if (keys[counter] in obj) {\n        willReturn[keys[counter]] = obj[keys[counter]];\n      }\n      counter++;\n    }\n\n    return willReturn;\n  }\n\n  module.exports = pick;\n\n  /***/\n},\n/* 41 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n  var map = __webpack_require__(9);\n\n  function pluck(keyToPluck, arr) {\n    var willReturn = [];\n    map(function (val) {\n      if (!(val[keyToPluck] === undefined)) {\n        willReturn.push(val[keyToPluck]);\n      }\n    }, arr);\n    return willReturn;\n  }\n\n  module.exports = curry(pluck);\n\n  /***/\n},\n/* 42 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function prepend(val, arr) {\n    var clone = arr.concat();\n    clone.unshift(val);\n\n    return clone;\n  }\n\n  module.exports = curry(prepend);\n\n  /***/\n},\n/* 43 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function prop(key, obj) {\n    return obj[key];\n  }\n\n  module.exports = curry(prop);\n\n  /***/\n},\n/* 44 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curryThree = __webpack_require__(2);\n\n  function propEq(key, val, obj) {\n    return obj[key] === val;\n  }\n\n  module.exports = curryThree(propEq);\n\n  /***/\n},\n/* 45 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function range(start, end) {\n    var willReturn = [];\n    for (var i = start; i < end; i++) {\n      willReturn.push(i);\n    }\n\n    return willReturn;\n  }\n\n  module.exports = range;\n\n  /***/\n},\n/* 46 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curryThree = __webpack_require__(2);\n\n  function reduce(fn, initialValue, arr) {\n    return arr.reduce(fn, initialValue);\n  }\n\n  module.exports = curryThree(reduce);\n\n  /***/\n},\n/* 47 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function repeat(a, num) {\n    var willReturn = Array(num);\n\n    return willReturn.fill(a);\n  }\n\n  module.exports = curry(repeat);\n\n  /***/\n},\n/* 48 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curryThree = __webpack_require__(2);\n\n  function replace(regex, replacer, str) {\n    return str.replace(regex, replacer);\n  }\n\n  module.exports = curryThree(replace);\n\n  /***/\n},\n/* 49 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function sort(fn, arr) {\n    var arrClone = arr.concat();\n\n    return arrClone.sort(fn);\n  }\n\n  module.exports = curry(sort);\n\n  /***/\n},\n/* 50 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function sortBy(fn, arr) {\n    var arrClone = arr.concat();\n\n    return arrClone.sort(function (a, b) {\n      var fnA = fn(a);\n      var fnB = fn(b);\n      return fnA < fnB ? -1 : fnA > fnB ? 1 : 0;\n    });\n  }\n\n  module.exports = curry(sortBy);\n\n  /***/\n},\n/* 51 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function split(glue, str) {\n\n    return str.split(glue);\n  }\n\n  module.exports = curry(split);\n\n  /***/\n},\n/* 52 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n  function splitEvery(num, a) {\n    num = num > 1 ? num : 1;\n\n    var willReturn = [];\n    var counter = 0;\n    while (counter < a.length) {\n      willReturn.push(a.slice(counter, counter += num));\n    }\n\n    return willReturn;\n  }\n\n  module.exports = curry(splitEvery);\n\n  /***/\n},\n/* 53 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var drop = __webpack_require__(6);\n\n  function tail(arr) {\n\n    return drop(1, arr);\n  }\n\n  module.exports = tail;\n\n  /***/\n},\n/* 54 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n  var baseSlice = __webpack_require__(3);\n\n  function take(takeNumber, a) {\n    if (a === undefined) {\n      return function (holder) {\n        return take(takeNumber, holder);\n      };\n    } else if (typeof a === \"string\") {\n      return a.slice(0, takeNumber);\n    }\n\n    return baseSlice(a, 0, takeNumber);\n  }\n\n  module.exports = curry(take);\n\n  /***/\n},\n/* 55 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var baseSlice = __webpack_require__(3);\n  var curry = __webpack_require__(0);\n\n  function takeLast(takeNumber, a) {\n    var len = a.length;\n    takeNumber = takeNumber > len ? len : takeNumber;\n\n    if (typeof a === \"string\") {\n      return a.slice(len - takeNumber);\n    }\n    takeNumber = len - takeNumber;\n\n    return baseSlice(a, takeNumber, len);\n  }\n\n  module.exports = curry(takeLast);\n\n  /***/\n},\n/* 56 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function tap(fn, input) {\n    fn(input);\n\n    return input;\n  }\n\n  module.exports = curry(tap);\n\n  /***/\n},\n/* 57 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curry = __webpack_require__(0);\n\n  function test(regex, str) {\n    return str.search(regex) === -1 ? false : true;\n  }\n\n  module.exports = curry(test);\n\n  /***/\n},\n/* 58 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var contains = __webpack_require__(5);\n\n  function uniq(arr) {\n    var index = -1;\n    var willReturn = [];\n    while (++index < arr.length) {\n      var value = arr[index];\n      if (!contains(value, willReturn)) {\n        willReturn.push(value);\n      }\n    }\n\n    return willReturn;\n  }\n\n  module.exports = uniq;\n\n  /***/\n},\n/* 59 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var curryThree = __webpack_require__(2);\n\n  function update(index, newValue, arr) {\n    var arrClone = arr.concat();\n\n    return arrClone.fill(newValue, index, index + 1);\n  }\n\n  module.exports = curryThree(update);\n\n  /***/\n},\n/* 60 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  function values(obj) {\n    var willReturn = [];\n    for (var key in obj) {\n      willReturn.push(obj[key]);\n    }\n\n    return willReturn;\n  }\n\n  module.exports = values;\n\n  /***/\n},\n/* 61 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var helper = __webpack_require__(30);\n  var mathHelper = __webpack_require__(31);\n  var oppositeHelper = __webpack_require__(32);\n  var propHelper = __webpack_require__(33);\n  var simpleHelper = __webpack_require__(34);\n\n  exports.add = mathHelper('+');\n  exports.addIndex = __webpack_require__(11);\n  exports.adjust = __webpack_require__(12);\n  exports.always = function (x) {\n    return function () {\n      return x;\n    };\n  };\n  exports.any = __webpack_require__(4);\n  exports.append = __webpack_require__(15);\n  exports.all = __webpack_require__(13);\n  exports.allPass = __webpack_require__(14);\n  exports.both = __webpack_require__(16);\n  exports.compose = __webpack_require__(17);\n  exports.complement = function (fn) {\n    return function (input) {\n      return !Boolean(fn(input));\n    };\n  };\n  exports.concat = oppositeHelper(\"concat\");\n  exports.contains = __webpack_require__(5);\n  exports.curry = __webpack_require__(18);\n  exports.defaultTo = __webpack_require__(19);\n  exports.divide = mathHelper('/');\n  exports.drop = __webpack_require__(6);\n  exports.dropLast = __webpack_require__(20);\n  exports.either = __webpack_require__(21);\n  exports.endsWith = helper(\"endsWith\");\n  exports.equals = __webpack_require__(7);\n  exports.F = function () {\n    return false;\n  };\n  exports.filter = __webpack_require__(8);\n  exports.find = __webpack_require__(22);\n  exports.findIndex = __webpack_require__(23);\n  exports.flatten = __webpack_require__(24);\n  exports.has = __webpack_require__(25);\n  exports.head = __webpack_require__(26);\n  exports.identity = function (x) {\n    return x;\n  };\n  exports.ifElse = __webpack_require__(27);\n  exports.includes = helper(\"includes\");\n  exports.indexOf = __webpack_require__(28);\n  exports.init = __webpack_require__(29);\n  exports.join = helper('join');\n  exports.last = __webpack_require__(35);\n  exports.lastIndexOf = helper(\"lastIndexOf\");\n  exports.length = propHelper(\"length\");\n  exports.map = __webpack_require__(9);\n  exports.match = __webpack_require__(36);\n  exports.merge = __webpack_require__(10);\n  exports.modulo = mathHelper('%');\n  exports.multiply = mathHelper('*');\n  exports.not = function (x) {\n    return !x;\n  };\n  exports.omit = __webpack_require__(37);\n  exports.padEnd = helper('padEnd');\n  exports.padStart = helper('padStart');\n  exports.partialCurry = __webpack_require__(38);\n  exports.path = __webpack_require__(39);\n  exports.pick = __webpack_require__(40);\n  exports.pluck = __webpack_require__(41);\n  exports.prepend = __webpack_require__(42);\n  exports.prop = __webpack_require__(43);\n  exports.propEq = __webpack_require__(44);\n  exports.range = __webpack_require__(45);\n  exports.reduce = __webpack_require__(46);\n  exports.repeat = __webpack_require__(47);\n  exports.replace = __webpack_require__(48);\n  exports.reverse = simpleHelper('reverse');\n  exports.sort = __webpack_require__(49);\n  exports.sortBy = __webpack_require__(50);\n  exports.split = __webpack_require__(51);\n  exports.splitEvery = __webpack_require__(52);\n  exports.startsWith = helper(\"startsWith\");\n  exports.subtract = mathHelper('-');\n  exports.T = function () {\n    return true;\n  };\n  exports.tap = __webpack_require__(56);\n  exports.tail = __webpack_require__(53);\n  exports.take = __webpack_require__(54);\n  exports.takeLast = __webpack_require__(55);\n  exports.test = __webpack_require__(57);\n  exports.toLower = simpleHelper(\"toLowerCase\");\n  exports.toString = simpleHelper('toString');\n  exports.toUpper = simpleHelper(\"toUpperCase\");\n  exports.trim = simpleHelper(\"trim\");\n  exports.type = __webpack_require__(1);\n  exports.uniq = __webpack_require__(58);\n  exports.update = __webpack_require__(59);\n  exports.values = __webpack_require__(60);\n\n  /***/\n}]\n/******/);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// https://d3js.org Version 4.10.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n  ( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : factory(global.d3 = global.d3 || {});\n})(undefined, function (exports) {\n  'use strict';\n\n  var version = \"4.10.0\";\n\n  var ascending = function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  };\n\n  var bisector = function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function left(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n        }\n        return lo;\n      },\n      right: function right(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  };\n\n  function ascendingComparator(f) {\n    return function (d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  var pairs = function pairs(array, f) {\n    if (f == null) f = pair;\n    var i = 0,\n        n = array.length - 1,\n        p = array[0],\n        pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) {\n      pairs[i] = f(p, p = array[++i]);\n    }return pairs;\n  };\n\n  function pair(a, b) {\n    return [a, b];\n  }\n\n  var cross = function cross(values0, values1, reduce) {\n    var n0 = values0.length,\n        n1 = values1.length,\n        values = new Array(n0 * n1),\n        i0,\n        i1,\n        i,\n        value0;\n\n    if (reduce == null) reduce = pair;\n\n    for (i0 = i = 0; i0 < n0; ++i0) {\n      for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n        values[i] = reduce(value0, values1[i1]);\n      }\n    }\n\n    return values;\n  };\n\n  var descending = function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  };\n\n  var number = function number(x) {\n    return x === null ? NaN : +x;\n  };\n\n  var variance = function variance(values, valueof) {\n    var n = values.length,\n        m = 0,\n        i = -1,\n        mean = 0,\n        value,\n        delta,\n        sum = 0;\n\n    if (valueof == null) {\n      while (++i < n) {\n        if (!isNaN(value = number(values[i]))) {\n          delta = value - mean;\n          mean += delta / ++m;\n          sum += delta * (value - mean);\n        }\n      }\n    } else {\n      while (++i < n) {\n        if (!isNaN(value = number(valueof(values[i], i, values)))) {\n          delta = value - mean;\n          mean += delta / ++m;\n          sum += delta * (value - mean);\n        }\n      }\n    }\n\n    if (m > 1) return sum / (m - 1);\n  };\n\n  var deviation = function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  };\n\n  var extent = function extent(values, valueof) {\n    var n = values.length,\n        i = -1,\n        value,\n        min,\n        max;\n\n    if (valueof == null) {\n      while (++i < n) {\n        // Find the first comparable value.\n        if ((value = values[i]) != null && value >= value) {\n          min = max = value;\n          while (++i < n) {\n            // Compare the remaining values.\n            if ((value = values[i]) != null) {\n              if (min > value) min = value;\n              if (max < value) max = value;\n            }\n          }\n        }\n      }\n    } else {\n      while (++i < n) {\n        // Find the first comparable value.\n        if ((value = valueof(values[i], i, values)) != null && value >= value) {\n          min = max = value;\n          while (++i < n) {\n            // Compare the remaining values.\n            if ((value = valueof(values[i], i, values)) != null) {\n              if (min > value) min = value;\n              if (max < value) max = value;\n            }\n          }\n        }\n      }\n    }\n\n    return [min, max];\n  };\n\n  var array = Array.prototype;\n\n  var slice = array.slice;\n  var map = array.map;\n\n  var constant = function constant(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  var identity = function identity(x) {\n    return x;\n  };\n\n  var sequence = function sequence(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  };\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n\n  var ticks = function ticks(start, stop, count) {\n    var reverse = stop < start,\n        i = -1,\n        n,\n        ticks,\n        step;\n\n    if (reverse) n = start, start = stop, stop = n;\n\n    if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n    if (step > 0) {\n      start = Math.ceil(start / step);\n      stop = Math.floor(stop / step);\n      ticks = new Array(n = Math.ceil(stop - start + 1));\n      while (++i < n) {\n        ticks[i] = (start + i) * step;\n      }\n    } else {\n      start = Math.floor(start * step);\n      stop = Math.ceil(stop * step);\n      ticks = new Array(n = Math.ceil(start - stop + 1));\n      while (++i < n) {\n        ticks[i] = (start - i) / step;\n      }\n    }\n\n    if (reverse) ticks.reverse();\n\n    return ticks;\n  };\n\n  function tickIncrement(start, stop, count) {\n    var step = (stop - start) / Math.max(0, count),\n        power = Math.floor(Math.log(step) / Math.LN10),\n        error = step / Math.pow(10, power);\n    return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  var sturges = function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  };\n\n  var histogram = function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      for (i = 0; i < n; ++i) {\n        values[i] = value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = xz[0],\n          x1 = xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) {\n        tz = tickStep(x0, x1, tz);\n        tz = sequence(Math.ceil(x0 / tz) * tz, Math.floor(x1 / tz) * tz, tz); // exclusive\n      }\n\n      // Remove any thresholds outside the domain.\n      var m = tz.length;\n      while (tz[0] <= x0) {\n        tz.shift(), --m;\n      }while (tz[m - 1] > x1) {\n        tz.pop(), --m;\n      }var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function (_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n    };\n\n    histogram.domain = function (_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function (_) {\n      return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n    };\n\n    return histogram;\n  };\n\n  var threshold = function threshold(values, p, valueof) {\n    if (valueof == null) valueof = number;\n    if (!(n = values.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n    if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n    var n,\n        i = (n - 1) * p,\n        i0 = Math.floor(i),\n        value0 = +valueof(values[i0], i0, values),\n        value1 = +valueof(values[i0 + 1], i0 + 1, values);\n    return value0 + (value1 - value0) * (i - i0);\n  };\n\n  var freedmanDiaconis = function freedmanDiaconis(values, min, max) {\n    values = map.call(values, number).sort(ascending);\n    return Math.ceil((max - min) / (2 * (threshold(values, 0.75) - threshold(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  };\n\n  var scott = function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  };\n\n  var max = function max(values, valueof) {\n    var n = values.length,\n        i = -1,\n        value,\n        max;\n\n    if (valueof == null) {\n      while (++i < n) {\n        // Find the first comparable value.\n        if ((value = values[i]) != null && value >= value) {\n          max = value;\n          while (++i < n) {\n            // Compare the remaining values.\n            if ((value = values[i]) != null && value > max) {\n              max = value;\n            }\n          }\n        }\n      }\n    } else {\n      while (++i < n) {\n        // Find the first comparable value.\n        if ((value = valueof(values[i], i, values)) != null && value >= value) {\n          max = value;\n          while (++i < n) {\n            // Compare the remaining values.\n            if ((value = valueof(values[i], i, values)) != null && value > max) {\n              max = value;\n            }\n          }\n        }\n      }\n    }\n\n    return max;\n  };\n\n  var mean = function mean(values, valueof) {\n    var n = values.length,\n        m = n,\n        i = -1,\n        value,\n        sum = 0;\n\n    if (valueof == null) {\n      while (++i < n) {\n        if (!isNaN(value = number(values[i]))) sum += value;else --m;\n      }\n    } else {\n      while (++i < n) {\n        if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;else --m;\n      }\n    }\n\n    if (m) return sum / m;\n  };\n\n  var median = function median(values, valueof) {\n    var n = values.length,\n        i = -1,\n        value,\n        numbers = [];\n\n    if (valueof == null) {\n      while (++i < n) {\n        if (!isNaN(value = number(values[i]))) {\n          numbers.push(value);\n        }\n      }\n    } else {\n      while (++i < n) {\n        if (!isNaN(value = number(valueof(values[i], i, values)))) {\n          numbers.push(value);\n        }\n      }\n    }\n\n    return threshold(numbers.sort(ascending), 0.5);\n  };\n\n  var merge = function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) {\n      j += arrays[i].length;\n    }merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  };\n\n  var min = function min(values, valueof) {\n    var n = values.length,\n        i = -1,\n        value,\n        min;\n\n    if (valueof == null) {\n      while (++i < n) {\n        // Find the first comparable value.\n        if ((value = values[i]) != null && value >= value) {\n          min = value;\n          while (++i < n) {\n            // Compare the remaining values.\n            if ((value = values[i]) != null && min > value) {\n              min = value;\n            }\n          }\n        }\n      }\n    } else {\n      while (++i < n) {\n        // Find the first comparable value.\n        if ((value = valueof(values[i], i, values)) != null && value >= value) {\n          min = value;\n          while (++i < n) {\n            // Compare the remaining values.\n            if ((value = valueof(values[i], i, values)) != null && min > value) {\n              min = value;\n            }\n          }\n        }\n      }\n    }\n\n    return min;\n  };\n\n  var permute = function permute(array, indexes) {\n    var i = indexes.length,\n        permutes = new Array(i);\n    while (i--) {\n      permutes[i] = array[indexes[i]];\n    }return permutes;\n  };\n\n  var scan = function scan(values, compare) {\n    if (!(n = values.length)) return;\n    var n,\n        i = 0,\n        j = 0,\n        xi,\n        xj = values[j];\n\n    if (compare == null) compare = ascending;\n\n    while (++i < n) {\n      if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n        xj = xi, j = i;\n      }\n    }\n\n    if (compare(xj, xj) === 0) return j;\n  };\n\n  var shuffle = function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  };\n\n  var sum = function sum(values, valueof) {\n    var n = values.length,\n        i = -1,\n        value,\n        sum = 0;\n\n    if (valueof == null) {\n      while (++i < n) {\n        if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n      }\n    } else {\n      while (++i < n) {\n        if (value = +valueof(values[i], i, values)) sum += value;\n      }\n    }\n\n    return sum;\n  };\n\n  var transpose = function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  };\n\n  function length(d) {\n    return d.length;\n  }\n\n  var zip = function zip() {\n    return transpose(arguments);\n  };\n\n  var slice$1 = Array.prototype.slice;\n\n  var identity$1 = function identity$1(x) {\n    return x;\n  };\n\n  var top = 1;\n  var right = 2;\n  var bottom = 3;\n  var left = 4;\n  var epsilon = 1e-6;\n\n  function translateX(x) {\n    return \"translate(\" + (x + 0.5) + \",0)\";\n  }\n\n  function translateY(y) {\n    return \"translate(0,\" + (y + 0.5) + \")\";\n  }\n\n  function number$1(scale) {\n    return function (d) {\n      return +scale(d);\n    };\n  }\n\n  function center(scale) {\n    var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n    if (scale.round()) offset = Math.round(offset);\n    return function (d) {\n      return +scale(d) + offset;\n    };\n  }\n\n  function entering() {\n    return !this.__axis;\n  }\n\n  function axis(orient, scale) {\n    var tickArguments = [],\n        tickValues = null,\n        tickFormat = null,\n        tickSizeInner = 6,\n        tickSizeOuter = 6,\n        tickPadding = 3,\n        k = orient === top || orient === left ? -1 : 1,\n        x = orient === left || orient === right ? \"x\" : \"y\",\n        transform = orient === top || orient === bottom ? translateX : translateY;\n\n    function axis(context) {\n      var values = tickValues == null ? scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain() : tickValues,\n          format = tickFormat == null ? scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity$1 : tickFormat,\n          spacing = Math.max(tickSizeInner, 0) + tickPadding,\n          range = scale.range(),\n          range0 = +range[0] + 0.5,\n          range1 = +range[range.length - 1] + 0.5,\n          position = (scale.bandwidth ? center : number$1)(scale.copy()),\n          selection = context.selection ? context.selection() : context,\n          path = selection.selectAll(\".domain\").data([null]),\n          tick = selection.selectAll(\".tick\").data(values, scale).order(),\n          tickExit = tick.exit(),\n          tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n          line = tick.select(\"line\"),\n          text = tick.select(\"text\");\n\n      path = path.merge(path.enter().insert(\"path\", \".tick\").attr(\"class\", \"domain\").attr(\"stroke\", \"#000\"));\n\n      tick = tick.merge(tickEnter);\n\n      line = line.merge(tickEnter.append(\"line\").attr(\"stroke\", \"#000\").attr(x + \"2\", k * tickSizeInner));\n\n      text = text.merge(tickEnter.append(\"text\").attr(\"fill\", \"#000\").attr(x, k * spacing).attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n      if (context !== selection) {\n        path = path.transition(context);\n        tick = tick.transition(context);\n        line = line.transition(context);\n        text = text.transition(context);\n\n        tickExit = tickExit.transition(context).attr(\"opacity\", epsilon).attr(\"transform\", function (d) {\n          return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\");\n        });\n\n        tickEnter.attr(\"opacity\", epsilon).attr(\"transform\", function (d) {\n          var p = this.parentNode.__axis;return transform(p && isFinite(p = p(d)) ? p : position(d));\n        });\n      }\n\n      tickExit.remove();\n\n      path.attr(\"d\", orient === left || orient == right ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n      tick.attr(\"opacity\", 1).attr(\"transform\", function (d) {\n        return transform(position(d));\n      });\n\n      line.attr(x + \"2\", k * tickSizeInner);\n\n      text.attr(x, k * spacing).text(format);\n\n      selection.filter(entering).attr(\"fill\", \"none\").attr(\"font-size\", 10).attr(\"font-family\", \"sans-serif\").attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n      selection.each(function () {\n        this.__axis = position;\n      });\n    }\n\n    axis.scale = function (_) {\n      return arguments.length ? (scale = _, axis) : scale;\n    };\n\n    axis.ticks = function () {\n      return tickArguments = slice$1.call(arguments), axis;\n    };\n\n    axis.tickArguments = function (_) {\n      return arguments.length ? (tickArguments = _ == null ? [] : slice$1.call(_), axis) : tickArguments.slice();\n    };\n\n    axis.tickValues = function (_) {\n      return arguments.length ? (tickValues = _ == null ? null : slice$1.call(_), axis) : tickValues && tickValues.slice();\n    };\n\n    axis.tickFormat = function (_) {\n      return arguments.length ? (tickFormat = _, axis) : tickFormat;\n    };\n\n    axis.tickSize = function (_) {\n      return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n    };\n\n    axis.tickSizeInner = function (_) {\n      return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n    };\n\n    axis.tickSizeOuter = function (_) {\n      return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n    };\n\n    axis.tickPadding = function (_) {\n      return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n    };\n\n    return axis;\n  }\n\n  function axisTop(scale) {\n    return axis(top, scale);\n  }\n\n  function axisRight(scale) {\n    return axis(right, scale);\n  }\n\n  function axisBottom(scale) {\n    return axis(bottom, scale);\n  }\n\n  function axisLeft(scale) {\n    return axis(left, scale);\n  }\n\n  var noop = { value: function value() {} };\n\n  function dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n      if (!(t = arguments[i] + \"\") || t in _) throw new Error(\"illegal type: \" + t);\n      _[t] = [];\n    }\n    return new Dispatch(_);\n  }\n\n  function Dispatch(_) {\n    this._ = _;\n  }\n\n  function parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function (t) {\n      var name = \"\",\n          i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n      return { type: t, name: name };\n    });\n  }\n\n  Dispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function on(typename, callback) {\n      var _ = this._,\n          T = parseTypenames(typename + \"\", _),\n          t,\n          i = -1,\n          n = T.length;\n\n      // If no callback was specified, return the callback of the given type and name.\n      if (arguments.length < 2) {\n        while (++i < n) {\n          if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n        }return;\n      }\n\n      // If a type was specified, set the callback for the given type and name.\n      // Otherwise, if a null callback was specified, remove callbacks of the given name.\n      if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      while (++i < n) {\n        if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);else if (callback == null) for (t in _) {\n          _[t] = set(_[t], typename.name, null);\n        }\n      }\n\n      return this;\n    },\n    copy: function copy() {\n      var copy = {},\n          _ = this._;\n      for (var t in _) {\n        copy[t] = _[t].slice();\n      }return new Dispatch(copy);\n    },\n    call: function call(type, that) {\n      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) {\n        args[i] = arguments[i + 2];\n      }if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (t = this._[type], i = 0, n = t.length; i < n; ++i) {\n        t[i].value.apply(that, args);\n      }\n    },\n    apply: function apply(type, that, args) {\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (var t = this._[type], i = 0, n = t.length; i < n; ++i) {\n        t[i].value.apply(that, args);\n      }\n    }\n  };\n\n  function get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n      if ((c = type[i]).name === name) {\n        return c.value;\n      }\n    }\n  }\n\n  function set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n      if (type[i].name === name) {\n        type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n        break;\n      }\n    }\n    if (callback != null) type.push({ name: name, value: callback });\n    return type;\n  }\n\n  var xhtml = \"http://www.w3.org/1999/xhtml\";\n\n  var namespaces = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: xhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n\n  var namespace = function namespace(name) {\n    var prefix = name += \"\",\n        i = prefix.indexOf(\":\");\n    if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n    return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n  };\n\n  function creatorInherit(name) {\n    return function () {\n      var document = this.ownerDocument,\n          uri = this.namespaceURI;\n      return uri === xhtml && document.documentElement.namespaceURI === xhtml ? document.createElement(name) : document.createElementNS(uri, name);\n    };\n  }\n\n  function creatorFixed(fullname) {\n    return function () {\n      return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n    };\n  }\n\n  var creator = function creator(name) {\n    var fullname = namespace(name);\n    return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n  };\n\n  var nextId = 0;\n\n  function local$1() {\n    return new Local();\n  }\n\n  function Local() {\n    this._ = \"@\" + (++nextId).toString(36);\n  }\n\n  Local.prototype = local$1.prototype = {\n    constructor: Local,\n    get: function get(node) {\n      var id = this._;\n      while (!(id in node)) {\n        if (!(node = node.parentNode)) return;\n      }return node[id];\n    },\n    set: function set(node, value) {\n      return node[this._] = value;\n    },\n    remove: function remove(node) {\n      return this._ in node && delete node[this._];\n    },\n    toString: function toString() {\n      return this._;\n    }\n  };\n\n  var matcher = function matcher(selector) {\n    return function () {\n      return this.matches(selector);\n    };\n  };\n\n  if (typeof document !== \"undefined\") {\n    var element = document.documentElement;\n    if (!element.matches) {\n      var vendorMatches = element.webkitMatchesSelector || element.msMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector;\n      matcher = function matcher(selector) {\n        return function () {\n          return vendorMatches.call(this, selector);\n        };\n      };\n    }\n  }\n\n  var matcher$1 = matcher;\n\n  var filterEvents = {};\n\n  exports.event = null;\n\n  if (typeof document !== \"undefined\") {\n    var element$1 = document.documentElement;\n    if (!(\"onmouseenter\" in element$1)) {\n      filterEvents = { mouseenter: \"mouseover\", mouseleave: \"mouseout\" };\n    }\n  }\n\n  function filterContextListener(listener, index, group) {\n    listener = contextListener(listener, index, group);\n    return function (event) {\n      var related = event.relatedTarget;\n      if (!related || related !== this && !(related.compareDocumentPosition(this) & 8)) {\n        listener.call(this, event);\n      }\n    };\n  }\n\n  function contextListener(listener, index, group) {\n    return function (event1) {\n      var event0 = exports.event; // Events can be reentrant (e.g., focus).\n      exports.event = event1;\n      try {\n        listener.call(this, this.__data__, index, group);\n      } finally {\n        exports.event = event0;\n      }\n    };\n  }\n\n  function parseTypenames$1(typenames) {\n    return typenames.trim().split(/^|\\s+/).map(function (t) {\n      var name = \"\",\n          i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      return { type: t, name: name };\n    });\n  }\n\n  function onRemove(typename) {\n    return function () {\n      var on = this.__on;\n      if (!on) return;\n      for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n        if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.capture);\n        } else {\n          on[++i] = o;\n        }\n      }\n      if (++i) on.length = i;else delete this.__on;\n    };\n  }\n\n  function onAdd(typename, value, capture) {\n    var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n    return function (d, i, group) {\n      var on = this.__on,\n          o,\n          listener = wrap(value, i, group);\n      if (on) for (var j = 0, m = on.length; j < m; ++j) {\n        if ((o = on[j]).type === typename.type && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.capture);\n          this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n          o.value = value;\n          return;\n        }\n      }\n      this.addEventListener(typename.type, listener, capture);\n      o = { type: typename.type, name: typename.name, value: value, listener: listener, capture: capture };\n      if (!on) this.__on = [o];else on.push(o);\n    };\n  }\n\n  var selection_on = function selection_on(typename, value, capture) {\n    var typenames = parseTypenames$1(typename + \"\"),\n        i,\n        n = typenames.length,\n        t;\n\n    if (arguments.length < 2) {\n      var on = this.node().__on;\n      if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n        for (i = 0, o = on[j]; i < n; ++i) {\n          if ((t = typenames[i]).type === o.type && t.name === o.name) {\n            return o.value;\n          }\n        }\n      }\n      return;\n    }\n\n    on = value ? onAdd : onRemove;\n    if (capture == null) capture = false;\n    for (i = 0; i < n; ++i) {\n      this.each(on(typenames[i], value, capture));\n    }return this;\n  };\n\n  function customEvent(event1, listener, that, args) {\n    var event0 = exports.event;\n    event1.sourceEvent = exports.event;\n    exports.event = event1;\n    try {\n      return listener.apply(that, args);\n    } finally {\n      exports.event = event0;\n    }\n  }\n\n  var sourceEvent = function sourceEvent() {\n    var current = exports.event,\n        source;\n    while (source = current.sourceEvent) {\n      current = source;\n    }return current;\n  };\n\n  var point = function point(node, event) {\n    var svg = node.ownerSVGElement || node;\n\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n\n    var rect = node.getBoundingClientRect();\n    return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n  };\n\n  var mouse = function mouse(node) {\n    var event = sourceEvent();\n    if (event.changedTouches) event = event.changedTouches[0];\n    return point(node, event);\n  };\n\n  function none() {}\n\n  var selector = function selector(_selector) {\n    return _selector == null ? none : function () {\n      return this.querySelector(_selector);\n    };\n  };\n\n  var selection_select = function selection_select(select) {\n    if (typeof select !== \"function\") select = selector(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n        if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          subgroup[i] = subnode;\n        }\n      }\n    }\n\n    return new Selection(subgroups, this._parents);\n  };\n\n  function empty$1() {\n    return [];\n  }\n\n  var selectorAll = function selectorAll(selector) {\n    return selector == null ? empty$1 : function () {\n      return this.querySelectorAll(selector);\n    };\n  };\n\n  var selection_selectAll = function selection_selectAll(select) {\n    if (typeof select !== \"function\") select = selectorAll(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          subgroups.push(select.call(node, node.__data__, i, group));\n          parents.push(node);\n        }\n      }\n    }\n\n    return new Selection(subgroups, parents);\n  };\n\n  var selection_filter = function selection_filter(match) {\n    if (typeof match !== \"function\") match = matcher$1(match);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n        if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n          subgroup.push(node);\n        }\n      }\n    }\n\n    return new Selection(subgroups, this._parents);\n  };\n\n  var sparse = function sparse(update) {\n    return new Array(update.length);\n  };\n\n  var selection_enter = function selection_enter() {\n    return new Selection(this._enter || this._groups.map(sparse), this._parents);\n  };\n\n  function EnterNode(parent, datum) {\n    this.ownerDocument = parent.ownerDocument;\n    this.namespaceURI = parent.namespaceURI;\n    this._next = null;\n    this._parent = parent;\n    this.__data__ = datum;\n  }\n\n  EnterNode.prototype = {\n    constructor: EnterNode,\n    appendChild: function appendChild(child) {\n      return this._parent.insertBefore(child, this._next);\n    },\n    insertBefore: function insertBefore(child, next) {\n      return this._parent.insertBefore(child, next);\n    },\n    querySelector: function querySelector(selector) {\n      return this._parent.querySelector(selector);\n    },\n    querySelectorAll: function querySelectorAll(selector) {\n      return this._parent.querySelectorAll(selector);\n    }\n  };\n\n  var constant$1 = function constant$1(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  var keyPrefix = \"$\"; // Protect against keys like __proto__.\n\n  function bindIndex(parent, group, enter, update, exit, data) {\n    var i = 0,\n        node,\n        groupLength = group.length,\n        dataLength = data.length;\n\n    // Put any non-null nodes that fit into update.\n    // Put any null nodes into enter.\n    // Put any remaining data into enter.\n    for (; i < dataLength; ++i) {\n      if (node = group[i]) {\n        node.__data__ = data[i];\n        update[i] = node;\n      } else {\n        enter[i] = new EnterNode(parent, data[i]);\n      }\n    }\n\n    // Put any non-null nodes that dont fit into exit.\n    for (; i < groupLength; ++i) {\n      if (node = group[i]) {\n        exit[i] = node;\n      }\n    }\n  }\n\n  function bindKey(parent, group, enter, update, exit, data, key) {\n    var i,\n        node,\n        nodeByKeyValue = {},\n        groupLength = group.length,\n        dataLength = data.length,\n        keyValues = new Array(groupLength),\n        keyValue;\n\n    // Compute the key for each node.\n    // If multiple nodes have the same key, the duplicates are added to exit.\n    for (i = 0; i < groupLength; ++i) {\n      if (node = group[i]) {\n        keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n        if (keyValue in nodeByKeyValue) {\n          exit[i] = node;\n        } else {\n          nodeByKeyValue[keyValue] = node;\n        }\n      }\n    }\n\n    // Compute the key for each datum.\n    // If there a node associated with this key, join and add it to update.\n    // If there is not (or the key is a duplicate), add it to enter.\n    for (i = 0; i < dataLength; ++i) {\n      keyValue = keyPrefix + key.call(parent, data[i], i, data);\n      if (node = nodeByKeyValue[keyValue]) {\n        update[i] = node;\n        node.__data__ = data[i];\n        nodeByKeyValue[keyValue] = null;\n      } else {\n        enter[i] = new EnterNode(parent, data[i]);\n      }\n    }\n\n    // Add any remaining nodes that were not bound to data to exit.\n    for (i = 0; i < groupLength; ++i) {\n      if ((node = group[i]) && nodeByKeyValue[keyValues[i]] === node) {\n        exit[i] = node;\n      }\n    }\n  }\n\n  var selection_data = function selection_data(value, key) {\n    if (!value) {\n      data = new Array(this.size()), j = -1;\n      this.each(function (d) {\n        data[++j] = d;\n      });\n      return data;\n    }\n\n    var bind = key ? bindKey : bindIndex,\n        parents = this._parents,\n        groups = this._groups;\n\n    if (typeof value !== \"function\") value = constant$1(value);\n\n    for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n      var parent = parents[j],\n          group = groups[j],\n          groupLength = group.length,\n          data = value.call(parent, parent && parent.__data__, j, parents),\n          dataLength = data.length,\n          enterGroup = enter[j] = new Array(dataLength),\n          updateGroup = update[j] = new Array(dataLength),\n          exitGroup = exit[j] = new Array(groupLength);\n\n      bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n      // Now connect the enter nodes to their following update node, such that\n      // appendChild can insert the materialized enter node before this node,\n      // rather than at the end of the parent node.\n      for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n        if (previous = enterGroup[i0]) {\n          if (i0 >= i1) i1 = i0 + 1;\n          while (!(next = updateGroup[i1]) && ++i1 < dataLength) {}\n          previous._next = next || null;\n        }\n      }\n    }\n\n    update = new Selection(update, parents);\n    update._enter = enter;\n    update._exit = exit;\n    return update;\n  };\n\n  var selection_exit = function selection_exit() {\n    return new Selection(this._exit || this._groups.map(sparse), this._parents);\n  };\n\n  var selection_merge = function selection_merge(selection$$1) {\n\n    for (var groups0 = this._groups, groups1 = selection$$1._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n      for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group0[i] || group1[i]) {\n          merge[i] = node;\n        }\n      }\n    }\n\n    for (; j < m0; ++j) {\n      merges[j] = groups0[j];\n    }\n\n    return new Selection(merges, this._parents);\n  };\n\n  var selection_order = function selection_order() {\n\n    for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n      for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n        if (node = group[i]) {\n          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n          next = node;\n        }\n      }\n    }\n\n    return this;\n  };\n\n  var selection_sort = function selection_sort(compare) {\n    if (!compare) compare = ascending$1;\n\n    function compareNode(a, b) {\n      return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n    }\n\n    for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          sortgroup[i] = node;\n        }\n      }\n      sortgroup.sort(compareNode);\n    }\n\n    return new Selection(sortgroups, this._parents).order();\n  };\n\n  function ascending$1(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  var selection_call = function selection_call() {\n    var callback = arguments[0];\n    arguments[0] = this;\n    callback.apply(null, arguments);\n    return this;\n  };\n\n  var selection_nodes = function selection_nodes() {\n    var nodes = new Array(this.size()),\n        i = -1;\n    this.each(function () {\n      nodes[++i] = this;\n    });\n    return nodes;\n  };\n\n  var selection_node = function selection_node() {\n\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n      for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n        var node = group[i];\n        if (node) return node;\n      }\n    }\n\n    return null;\n  };\n\n  var selection_size = function selection_size() {\n    var size = 0;\n    this.each(function () {\n      ++size;\n    });\n    return size;\n  };\n\n  var selection_empty = function selection_empty() {\n    return !this.node();\n  };\n\n  var selection_each = function selection_each(callback) {\n\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n      for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n        if (node = group[i]) callback.call(node, node.__data__, i, group);\n      }\n    }\n\n    return this;\n  };\n\n  function attrRemove(name) {\n    return function () {\n      this.removeAttribute(name);\n    };\n  }\n\n  function attrRemoveNS(fullname) {\n    return function () {\n      this.removeAttributeNS(fullname.space, fullname.local);\n    };\n  }\n\n  function attrConstant(name, value) {\n    return function () {\n      this.setAttribute(name, value);\n    };\n  }\n\n  function attrConstantNS(fullname, value) {\n    return function () {\n      this.setAttributeNS(fullname.space, fullname.local, value);\n    };\n  }\n\n  function attrFunction(name, value) {\n    return function () {\n      var v = value.apply(this, arguments);\n      if (v == null) this.removeAttribute(name);else this.setAttribute(name, v);\n    };\n  }\n\n  function attrFunctionNS(fullname, value) {\n    return function () {\n      var v = value.apply(this, arguments);\n      if (v == null) this.removeAttributeNS(fullname.space, fullname.local);else this.setAttributeNS(fullname.space, fullname.local, v);\n    };\n  }\n\n  var selection_attr = function selection_attr(name, value) {\n    var fullname = namespace(name);\n\n    if (arguments.length < 2) {\n      var node = this.node();\n      return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n    }\n\n    return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === \"function\" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));\n  };\n\n  var defaultView = function defaultView(node) {\n    return node.ownerDocument && node.ownerDocument.defaultView || // node is a Node\n    node.document && node // node is a Window\n    || node.defaultView; // node is a Document\n  };\n\n  function styleRemove(name) {\n    return function () {\n      this.style.removeProperty(name);\n    };\n  }\n\n  function styleConstant(name, value, priority) {\n    return function () {\n      this.style.setProperty(name, value, priority);\n    };\n  }\n\n  function styleFunction(name, value, priority) {\n    return function () {\n      var v = value.apply(this, arguments);\n      if (v == null) this.style.removeProperty(name);else this.style.setProperty(name, v, priority);\n    };\n  }\n\n  var selection_style = function selection_style(name, value, priority) {\n    return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === \"function\" ? styleFunction : styleConstant)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n  };\n\n  function styleValue(node, name) {\n    return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n  }\n\n  function propertyRemove(name) {\n    return function () {\n      delete this[name];\n    };\n  }\n\n  function propertyConstant(name, value) {\n    return function () {\n      this[name] = value;\n    };\n  }\n\n  function propertyFunction(name, value) {\n    return function () {\n      var v = value.apply(this, arguments);\n      if (v == null) delete this[name];else this[name] = v;\n    };\n  }\n\n  var selection_property = function selection_property(name, value) {\n    return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n  };\n\n  function classArray(string) {\n    return string.trim().split(/^|\\s+/);\n  }\n\n  function classList(node) {\n    return node.classList || new ClassList(node);\n  }\n\n  function ClassList(node) {\n    this._node = node;\n    this._names = classArray(node.getAttribute(\"class\") || \"\");\n  }\n\n  ClassList.prototype = {\n    add: function add(name) {\n      var i = this._names.indexOf(name);\n      if (i < 0) {\n        this._names.push(name);\n        this._node.setAttribute(\"class\", this._names.join(\" \"));\n      }\n    },\n    remove: function remove(name) {\n      var i = this._names.indexOf(name);\n      if (i >= 0) {\n        this._names.splice(i, 1);\n        this._node.setAttribute(\"class\", this._names.join(\" \"));\n      }\n    },\n    contains: function contains(name) {\n      return this._names.indexOf(name) >= 0;\n    }\n  };\n\n  function classedAdd(node, names) {\n    var list = classList(node),\n        i = -1,\n        n = names.length;\n    while (++i < n) {\n      list.add(names[i]);\n    }\n  }\n\n  function classedRemove(node, names) {\n    var list = classList(node),\n        i = -1,\n        n = names.length;\n    while (++i < n) {\n      list.remove(names[i]);\n    }\n  }\n\n  function classedTrue(names) {\n    return function () {\n      classedAdd(this, names);\n    };\n  }\n\n  function classedFalse(names) {\n    return function () {\n      classedRemove(this, names);\n    };\n  }\n\n  function classedFunction(names, value) {\n    return function () {\n      (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n    };\n  }\n\n  var selection_classed = function selection_classed(name, value) {\n    var names = classArray(name + \"\");\n\n    if (arguments.length < 2) {\n      var list = classList(this.node()),\n          i = -1,\n          n = names.length;\n      while (++i < n) {\n        if (!list.contains(names[i])) return false;\n      }return true;\n    }\n\n    return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n  };\n\n  function textRemove() {\n    this.textContent = \"\";\n  }\n\n  function textConstant(value) {\n    return function () {\n      this.textContent = value;\n    };\n  }\n\n  function textFunction(value) {\n    return function () {\n      var v = value.apply(this, arguments);\n      this.textContent = v == null ? \"\" : v;\n    };\n  }\n\n  var selection_text = function selection_text(value) {\n    return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction : textConstant)(value)) : this.node().textContent;\n  };\n\n  function htmlRemove() {\n    this.innerHTML = \"\";\n  }\n\n  function htmlConstant(value) {\n    return function () {\n      this.innerHTML = value;\n    };\n  }\n\n  function htmlFunction(value) {\n    return function () {\n      var v = value.apply(this, arguments);\n      this.innerHTML = v == null ? \"\" : v;\n    };\n  }\n\n  var selection_html = function selection_html(value) {\n    return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n  };\n\n  function raise() {\n    if (this.nextSibling) this.parentNode.appendChild(this);\n  }\n\n  var selection_raise = function selection_raise() {\n    return this.each(raise);\n  };\n\n  function lower() {\n    if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n  }\n\n  var selection_lower = function selection_lower() {\n    return this.each(lower);\n  };\n\n  var selection_append = function selection_append(name) {\n    var create = typeof name === \"function\" ? name : creator(name);\n    return this.select(function () {\n      return this.appendChild(create.apply(this, arguments));\n    });\n  };\n\n  function constantNull() {\n    return null;\n  }\n\n  var selection_insert = function selection_insert(name, before) {\n    var create = typeof name === \"function\" ? name : creator(name),\n        select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n    return this.select(function () {\n      return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n    });\n  };\n\n  function remove() {\n    var parent = this.parentNode;\n    if (parent) parent.removeChild(this);\n  }\n\n  var selection_remove = function selection_remove() {\n    return this.each(remove);\n  };\n\n  var selection_datum = function selection_datum(value) {\n    return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n  };\n\n  function dispatchEvent(node, type, params) {\n    var window = defaultView(node),\n        event = window.CustomEvent;\n\n    if (typeof event === \"function\") {\n      event = new event(type, params);\n    } else {\n      event = window.document.createEvent(\"Event\");\n      if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;else event.initEvent(type, false, false);\n    }\n\n    node.dispatchEvent(event);\n  }\n\n  function dispatchConstant(type, params) {\n    return function () {\n      return dispatchEvent(this, type, params);\n    };\n  }\n\n  function dispatchFunction(type, params) {\n    return function () {\n      return dispatchEvent(this, type, params.apply(this, arguments));\n    };\n  }\n\n  var selection_dispatch = function selection_dispatch(type, params) {\n    return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n  };\n\n  var root = [null];\n\n  function Selection(groups, parents) {\n    this._groups = groups;\n    this._parents = parents;\n  }\n\n  function selection() {\n    return new Selection([[document.documentElement]], root);\n  }\n\n  Selection.prototype = selection.prototype = {\n    constructor: Selection,\n    select: selection_select,\n    selectAll: selection_selectAll,\n    filter: selection_filter,\n    data: selection_data,\n    enter: selection_enter,\n    exit: selection_exit,\n    merge: selection_merge,\n    order: selection_order,\n    sort: selection_sort,\n    call: selection_call,\n    nodes: selection_nodes,\n    node: selection_node,\n    size: selection_size,\n    empty: selection_empty,\n    each: selection_each,\n    attr: selection_attr,\n    style: selection_style,\n    property: selection_property,\n    classed: selection_classed,\n    text: selection_text,\n    html: selection_html,\n    raise: selection_raise,\n    lower: selection_lower,\n    append: selection_append,\n    insert: selection_insert,\n    remove: selection_remove,\n    datum: selection_datum,\n    on: selection_on,\n    dispatch: selection_dispatch\n  };\n\n  var select = function select(selector) {\n    return typeof selector === \"string\" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);\n  };\n\n  var selectAll = function selectAll(selector) {\n    return typeof selector === \"string\" ? new Selection([document.querySelectorAll(selector)], [document.documentElement]) : new Selection([selector == null ? [] : selector], root);\n  };\n\n  var touch = function touch(node, touches, identifier) {\n    if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n    for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n      if ((touch = touches[i]).identifier === identifier) {\n        return point(node, touch);\n      }\n    }\n\n    return null;\n  };\n\n  var touches = function touches(node, _touches) {\n    if (_touches == null) _touches = sourceEvent().touches;\n\n    for (var i = 0, n = _touches ? _touches.length : 0, points = new Array(n); i < n; ++i) {\n      points[i] = point(node, _touches[i]);\n    }\n\n    return points;\n  };\n\n  function nopropagation() {\n    exports.event.stopImmediatePropagation();\n  }\n\n  var noevent = function noevent() {\n    exports.event.preventDefault();\n    exports.event.stopImmediatePropagation();\n  };\n\n  var dragDisable = function dragDisable(view) {\n    var root = view.document.documentElement,\n        selection$$1 = select(view).on(\"dragstart.drag\", noevent, true);\n    if (\"onselectstart\" in root) {\n      selection$$1.on(\"selectstart.drag\", noevent, true);\n    } else {\n      root.__noselect = root.style.MozUserSelect;\n      root.style.MozUserSelect = \"none\";\n    }\n  };\n\n  function yesdrag(view, noclick) {\n    var root = view.document.documentElement,\n        selection$$1 = select(view).on(\"dragstart.drag\", null);\n    if (noclick) {\n      selection$$1.on(\"click.drag\", noevent, true);\n      setTimeout(function () {\n        selection$$1.on(\"click.drag\", null);\n      }, 0);\n    }\n    if (\"onselectstart\" in root) {\n      selection$$1.on(\"selectstart.drag\", null);\n    } else {\n      root.style.MozUserSelect = root.__noselect;\n      delete root.__noselect;\n    }\n  }\n\n  var constant$2 = function constant$2(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n    this.target = target;\n    this.type = type;\n    this.subject = subject;\n    this.identifier = id;\n    this.active = active;\n    this.x = x;\n    this.y = y;\n    this.dx = dx;\n    this.dy = dy;\n    this._ = dispatch;\n  }\n\n  DragEvent.prototype.on = function () {\n    var value = this._.on.apply(this._, arguments);\n    return value === this._ ? this : value;\n  };\n\n  // Ignore right-click, since that should open the context menu.\n  function defaultFilter$1() {\n    return !exports.event.button;\n  }\n\n  function defaultContainer() {\n    return this.parentNode;\n  }\n\n  function defaultSubject(d) {\n    return d == null ? { x: exports.event.x, y: exports.event.y } : d;\n  }\n\n  function touchable() {\n    return \"ontouchstart\" in this;\n  }\n\n  var drag = function drag() {\n    var filter = defaultFilter$1,\n        container = defaultContainer,\n        subject = defaultSubject,\n        gestures = {},\n        listeners = dispatch(\"start\", \"drag\", \"end\"),\n        active = 0,\n        mousedownx,\n        mousedowny,\n        mousemoving,\n        touchending,\n        clickDistance2 = 0;\n\n    function drag(selection) {\n      selection.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n    }\n\n    function mousedowned() {\n      if (touchending || !filter.apply(this, arguments)) return;\n      var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n      if (!gesture) return;\n      select(exports.event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n      dragDisable(exports.event.view);\n      nopropagation();\n      mousemoving = false;\n      mousedownx = exports.event.clientX;\n      mousedowny = exports.event.clientY;\n      gesture(\"start\");\n    }\n\n    function mousemoved() {\n      noevent();\n      if (!mousemoving) {\n        var dx = exports.event.clientX - mousedownx,\n            dy = exports.event.clientY - mousedowny;\n        mousemoving = dx * dx + dy * dy > clickDistance2;\n      }\n      gestures.mouse(\"drag\");\n    }\n\n    function mouseupped() {\n      select(exports.event.view).on(\"mousemove.drag mouseup.drag\", null);\n      yesdrag(exports.event.view, mousemoving);\n      noevent();\n      gestures.mouse(\"end\");\n    }\n\n    function touchstarted() {\n      if (!filter.apply(this, arguments)) return;\n      var touches$$1 = exports.event.changedTouches,\n          c = container.apply(this, arguments),\n          n = touches$$1.length,\n          i,\n          gesture;\n\n      for (i = 0; i < n; ++i) {\n        if (gesture = beforestart(touches$$1[i].identifier, c, touch, this, arguments)) {\n          nopropagation();\n          gesture(\"start\");\n        }\n      }\n    }\n\n    function touchmoved() {\n      var touches$$1 = exports.event.changedTouches,\n          n = touches$$1.length,\n          i,\n          gesture;\n\n      for (i = 0; i < n; ++i) {\n        if (gesture = gestures[touches$$1[i].identifier]) {\n          noevent();\n          gesture(\"drag\");\n        }\n      }\n    }\n\n    function touchended() {\n      var touches$$1 = exports.event.changedTouches,\n          n = touches$$1.length,\n          i,\n          gesture;\n\n      if (touchending) clearTimeout(touchending);\n      touchending = setTimeout(function () {\n        touchending = null;\n      }, 500); // Ghost clicks are delayed!\n      for (i = 0; i < n; ++i) {\n        if (gesture = gestures[touches$$1[i].identifier]) {\n          nopropagation();\n          gesture(\"end\");\n        }\n      }\n    }\n\n    function beforestart(id, container, point, that, args) {\n      var p = point(container, id),\n          s,\n          dx,\n          dy,\n          sublisteners = listeners.copy();\n\n      if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function () {\n        if ((exports.event.subject = s = subject.apply(that, args)) == null) return false;\n        dx = s.x - p[0] || 0;\n        dy = s.y - p[1] || 0;\n        return true;\n      })) return;\n\n      return function gesture(type) {\n        var p0 = p,\n            n;\n        switch (type) {\n          case \"start\":\n            gestures[id] = gesture, n = active++;break;\n          case \"end\":\n            delete gestures[id], --active; // nobreak\n          case \"drag\":\n            p = point(container, id), n = active;break;\n        }\n        customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n      };\n    }\n\n    drag.filter = function (_) {\n      return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$2(!!_), drag) : filter;\n    };\n\n    drag.container = function (_) {\n      return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$2(_), drag) : container;\n    };\n\n    drag.subject = function (_) {\n      return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$2(_), drag) : subject;\n    };\n\n    drag.on = function () {\n      var value = listeners.on.apply(listeners, arguments);\n      return value === listeners ? drag : value;\n    };\n\n    drag.clickDistance = function (_) {\n      return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n    };\n\n    return drag;\n  };\n\n  var define = function define(constructor, factory, prototype) {\n    constructor.prototype = factory.prototype = prototype;\n    prototype.constructor = constructor;\n  };\n\n  function extend(parent, definition) {\n    var prototype = Object.create(parent.prototype);\n    for (var key in definition) {\n      prototype[key] = definition[key];\n    }return prototype;\n  }\n\n  function Color() {}\n\n  var _darker = 0.7;\n  var _brighter = 1 / _darker;\n\n  var reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\";\n  var reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\";\n  var reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\";\n  var reHex3 = /^#([0-9a-f]{3})$/;\n  var reHex6 = /^#([0-9a-f]{6})$/;\n  var reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\");\n  var reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\");\n  var reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\");\n  var reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\");\n  var reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\");\n  var reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\n  var named = {\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n  };\n\n  define(Color, color, {\n    displayable: function displayable() {\n      return this.rgb().displayable();\n    },\n    toString: function toString() {\n      return this.rgb() + \"\";\n    }\n  });\n\n  function color(format) {\n    var m;\n    format = (format + \"\").trim().toLowerCase();\n    return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb(m >> 8 & 0xf | m >> 4 & 0x0f0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n    ) : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n    : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n    : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n    : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n    : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n    : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n    : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n    : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n  }\n\n  function rgbn(n) {\n    return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n  }\n\n  function rgba(r, g, b, a) {\n    if (a <= 0) r = g = b = NaN;\n    return new Rgb(r, g, b, a);\n  }\n\n  function rgbConvert(o) {\n    if (!(o instanceof Color)) o = color(o);\n    if (!o) return new Rgb();\n    o = o.rgb();\n    return new Rgb(o.r, o.g, o.b, o.opacity);\n  }\n\n  function rgb(r, g, b, opacity) {\n    return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n  }\n\n  function Rgb(r, g, b, opacity) {\n    this.r = +r;\n    this.g = +g;\n    this.b = +b;\n    this.opacity = +opacity;\n  }\n\n  define(Rgb, rgb, extend(Color, {\n    brighter: function brighter(k) {\n      k = k == null ? _brighter : Math.pow(_brighter, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    darker: function darker(k) {\n      k = k == null ? _darker : Math.pow(_darker, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    rgb: function rgb() {\n      return this;\n    },\n    displayable: function displayable() {\n      return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1;\n    },\n    toString: function toString() {\n      var a = this.opacity;a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n      return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n    }\n  }));\n\n  function hsla(h, s, l, a) {\n    if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n    return new Hsl(h, s, l, a);\n  }\n\n  function hslConvert(o) {\n    if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n    if (!(o instanceof Color)) o = color(o);\n    if (!o) return new Hsl();\n    if (o instanceof Hsl) return o;\n    o = o.rgb();\n    var r = o.r / 255,\n        g = o.g / 255,\n        b = o.b / 255,\n        min = Math.min(r, g, b),\n        max = Math.max(r, g, b),\n        h = NaN,\n        s = max - min,\n        l = (max + min) / 2;\n    if (s) {\n      if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n      s /= l < 0.5 ? max + min : 2 - max - min;\n      h *= 60;\n    } else {\n      s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new Hsl(h, s, l, o.opacity);\n  }\n\n  function hsl(h, s, l, opacity) {\n    return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n  }\n\n  function Hsl(h, s, l, opacity) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n\n  define(Hsl, hsl, extend(Color, {\n    brighter: function brighter(k) {\n      k = k == null ? _brighter : Math.pow(_brighter, k);\n      return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    darker: function darker(k) {\n      k = k == null ? _darker : Math.pow(_darker, k);\n      return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    rgb: function rgb() {\n      var h = this.h % 360 + (this.h < 0) * 360,\n          s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n          l = this.l,\n          m2 = l + (l < 0.5 ? l : 1 - l) * s,\n          m1 = 2 * l - m2;\n      return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n    },\n    displayable: function displayable() {\n      return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n    }\n  }));\n\n  /* From FvD 13.37, CSS Color Module Level 3 */\n  function hsl2rgb(h, m1, m2) {\n    return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n  }\n\n  var deg2rad = Math.PI / 180;\n  var rad2deg = 180 / Math.PI;\n\n  var Kn = 18;\n  var Xn = 0.950470;\n  var Yn = 1;\n  var Zn = 1.088830;\n  var t0 = 4 / 29;\n  var t1 = 6 / 29;\n  var t2 = 3 * t1 * t1;\n  var t3 = t1 * t1 * t1;\n\n  function labConvert(o) {\n    if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n    if (o instanceof Hcl) {\n      var h = o.h * deg2rad;\n      return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n    }\n    if (!(o instanceof Rgb)) o = rgbConvert(o);\n    var b = rgb2xyz(o.r),\n        a = rgb2xyz(o.g),\n        l = rgb2xyz(o.b),\n        x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n        y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n        z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n    return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n  }\n\n  function lab(l, a, b, opacity) {\n    return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n  }\n\n  function Lab(l, a, b, opacity) {\n    this.l = +l;\n    this.a = +a;\n    this.b = +b;\n    this.opacity = +opacity;\n  }\n\n  define(Lab, lab, extend(Color, {\n    brighter: function brighter(k) {\n      return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n    },\n    darker: function darker(k) {\n      return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n    },\n    rgb: function rgb() {\n      var y = (this.l + 16) / 116,\n          x = isNaN(this.a) ? y : y + this.a / 500,\n          z = isNaN(this.b) ? y : y - this.b / 200;\n      y = Yn * lab2xyz(y);\n      x = Xn * lab2xyz(x);\n      z = Zn * lab2xyz(z);\n      return new Rgb(xyz2rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z), xyz2rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z), this.opacity);\n    }\n  }));\n\n  function xyz2lab(t) {\n    return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n  }\n\n  function lab2xyz(t) {\n    return t > t1 ? t * t * t : t2 * (t - t0);\n  }\n\n  function xyz2rgb(x) {\n    return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n  }\n\n  function rgb2xyz(x) {\n    return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n  }\n\n  function hclConvert(o) {\n    if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n    if (!(o instanceof Lab)) o = labConvert(o);\n    var h = Math.atan2(o.b, o.a) * rad2deg;\n    return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n  }\n\n  function hcl(h, c, l, opacity) {\n    return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n  }\n\n  function Hcl(h, c, l, opacity) {\n    this.h = +h;\n    this.c = +c;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n\n  define(Hcl, hcl, extend(Color, {\n    brighter: function brighter(k) {\n      return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n    },\n    darker: function darker(k) {\n      return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n    },\n    rgb: function rgb() {\n      return labConvert(this).rgb();\n    }\n  }));\n\n  var A = -0.14861;\n  var B = +1.78277;\n  var C = -0.29227;\n  var D = -0.90649;\n  var E = +1.97294;\n  var ED = E * D;\n  var EB = E * B;\n  var BC_DA = B * C - D * A;\n\n  function cubehelixConvert(o) {\n    if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n    if (!(o instanceof Rgb)) o = rgbConvert(o);\n    var r = o.r / 255,\n        g = o.g / 255,\n        b = o.b / 255,\n        l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n        bl = b - l,\n        k = (E * (g - l) - C * bl) / D,\n        s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)),\n        // NaN if l=0 or l=1\n    h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n    return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n  }\n\n  function cubehelix(h, s, l, opacity) {\n    return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n  }\n\n  function Cubehelix(h, s, l, opacity) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n\n  define(Cubehelix, cubehelix, extend(Color, {\n    brighter: function brighter(k) {\n      k = k == null ? _brighter : Math.pow(_brighter, k);\n      return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n    },\n    darker: function darker(k) {\n      k = k == null ? _darker : Math.pow(_darker, k);\n      return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n    },\n    rgb: function rgb() {\n      var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n          l = +this.l,\n          a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n          cosh = Math.cos(h),\n          sinh = Math.sin(h);\n      return new Rgb(255 * (l + a * (A * cosh + B * sinh)), 255 * (l + a * (C * cosh + D * sinh)), 255 * (l + a * (E * cosh)), this.opacity);\n    }\n  }));\n\n  function basis(t1, v0, v1, v2, v3) {\n    var t2 = t1 * t1,\n        t3 = t2 * t1;\n    return ((1 - 3 * t1 + 3 * t2 - t3) * v0 + (4 - 6 * t2 + 3 * t3) * v1 + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2 + t3 * v3) / 6;\n  }\n\n  var basis$1 = function basis$1(values) {\n    var n = values.length - 1;\n    return function (t) {\n      var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n          v1 = values[i],\n          v2 = values[i + 1],\n          v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n          v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n      return basis((t - i / n) * n, v0, v1, v2, v3);\n    };\n  };\n\n  var basisClosed = function basisClosed(values) {\n    var n = values.length;\n    return function (t) {\n      var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n          v0 = values[(i + n - 1) % n],\n          v1 = values[i % n],\n          v2 = values[(i + 1) % n],\n          v3 = values[(i + 2) % n];\n      return basis((t - i / n) * n, v0, v1, v2, v3);\n    };\n  };\n\n  var constant$3 = function constant$3(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  function linear(a, d) {\n    return function (t) {\n      return a + t * d;\n    };\n  }\n\n  function exponential(a, b, y) {\n    return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n      return Math.pow(a + t * b, y);\n    };\n  }\n\n  function hue(a, b) {\n    var d = b - a;\n    return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant$3(isNaN(a) ? b : a);\n  }\n\n  function gamma(y) {\n    return (y = +y) === 1 ? nogamma : function (a, b) {\n      return b - a ? exponential(a, b, y) : constant$3(isNaN(a) ? b : a);\n    };\n  }\n\n  function nogamma(a, b) {\n    var d = b - a;\n    return d ? linear(a, d) : constant$3(isNaN(a) ? b : a);\n  }\n\n  var interpolateRgb = function rgbGamma(y) {\n    var color$$1 = gamma(y);\n\n    function rgb$$1(start, end) {\n      var r = color$$1((start = rgb(start)).r, (end = rgb(end)).r),\n          g = color$$1(start.g, end.g),\n          b = color$$1(start.b, end.b),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function (t) {\n        start.r = r(t);\n        start.g = g(t);\n        start.b = b(t);\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    rgb$$1.gamma = rgbGamma;\n\n    return rgb$$1;\n  }(1);\n\n  function rgbSpline(spline) {\n    return function (colors) {\n      var n = colors.length,\n          r = new Array(n),\n          g = new Array(n),\n          b = new Array(n),\n          i,\n          color$$1;\n      for (i = 0; i < n; ++i) {\n        color$$1 = rgb(colors[i]);\n        r[i] = color$$1.r || 0;\n        g[i] = color$$1.g || 0;\n        b[i] = color$$1.b || 0;\n      }\n      r = spline(r);\n      g = spline(g);\n      b = spline(b);\n      color$$1.opacity = 1;\n      return function (t) {\n        color$$1.r = r(t);\n        color$$1.g = g(t);\n        color$$1.b = b(t);\n        return color$$1 + \"\";\n      };\n    };\n  }\n\n  var rgbBasis = rgbSpline(basis$1);\n  var rgbBasisClosed = rgbSpline(basisClosed);\n\n  var array$1 = function array$1(a, b) {\n    var nb = b ? b.length : 0,\n        na = a ? Math.min(nb, a.length) : 0,\n        x = new Array(nb),\n        c = new Array(nb),\n        i;\n\n    for (i = 0; i < na; ++i) {\n      x[i] = interpolateValue(a[i], b[i]);\n    }for (; i < nb; ++i) {\n      c[i] = b[i];\n    }return function (t) {\n      for (i = 0; i < na; ++i) {\n        c[i] = x[i](t);\n      }return c;\n    };\n  };\n\n  var date = function date(a, b) {\n    var d = new Date();\n    return a = +a, b -= a, function (t) {\n      return d.setTime(a + b * t), d;\n    };\n  };\n\n  var reinterpolate = function reinterpolate(a, b) {\n    return a = +a, b -= a, function (t) {\n      return a + b * t;\n    };\n  };\n\n  var object = function object(a, b) {\n    var i = {},\n        c = {},\n        k;\n\n    if (a === null || (typeof a === 'undefined' ? 'undefined' : _typeof(a)) !== \"object\") a = {};\n    if (b === null || (typeof b === 'undefined' ? 'undefined' : _typeof(b)) !== \"object\") b = {};\n\n    for (k in b) {\n      if (k in a) {\n        i[k] = interpolateValue(a[k], b[k]);\n      } else {\n        c[k] = b[k];\n      }\n    }\n\n    return function (t) {\n      for (k in i) {\n        c[k] = i[k](t);\n      }return c;\n    };\n  };\n\n  var reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\n  var reB = new RegExp(reA.source, \"g\");\n\n  function zero(b) {\n    return function () {\n      return b;\n    };\n  }\n\n  function one(b) {\n    return function (t) {\n      return b(t) + \"\";\n    };\n  }\n\n  var interpolateString = function interpolateString(a, b) {\n    var bi = reA.lastIndex = reB.lastIndex = 0,\n        // scan index for next number in b\n    am,\n        // current match in a\n    bm,\n        // current match in b\n    bs,\n        // string preceding current number in b, if any\n    i = -1,\n        // index in s\n    s = [],\n        // string constants and placeholders\n    q = []; // number interpolators\n\n    // Coerce inputs to strings.\n    a = a + \"\", b = b + \"\";\n\n    // Interpolate pairs of numbers in a & b.\n    while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n      if ((bs = bm.index) > bi) {\n        // a string precedes the next number in b\n        bs = b.slice(bi, bs);\n        if (s[i]) s[i] += bs; // coalesce with previous string\n        else s[++i] = bs;\n      }\n      if ((am = am[0]) === (bm = bm[0])) {\n        // numbers in a & b match\n        if (s[i]) s[i] += bm; // coalesce with previous string\n        else s[++i] = bm;\n      } else {\n        // interpolate non-matching numbers\n        s[++i] = null;\n        q.push({ i: i, x: reinterpolate(am, bm) });\n      }\n      bi = reB.lastIndex;\n    }\n\n    // Add remains of b.\n    if (bi < b.length) {\n      bs = b.slice(bi);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    // Special optimization for only a single match.\n    // Otherwise, interpolate each of the numbers and rejoin the string.\n    return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n      for (var i = 0, o; i < b; ++i) {\n        s[(o = q[i]).i] = o.x(t);\n      }return s.join(\"\");\n    });\n  };\n\n  var interpolateValue = function interpolateValue(a, b) {\n    var t = typeof b === 'undefined' ? 'undefined' : _typeof(b),\n        c;\n    return b == null || t === \"boolean\" ? constant$3(b) : (t === \"number\" ? reinterpolate : t === \"string\" ? (c = color(b)) ? (b = c, interpolateRgb) : interpolateString : b instanceof color ? interpolateRgb : b instanceof Date ? date : Array.isArray(b) ? array$1 : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : reinterpolate)(a, b);\n  };\n\n  var interpolateRound = function interpolateRound(a, b) {\n    return a = +a, b -= a, function (t) {\n      return Math.round(a + b * t);\n    };\n  };\n\n  var degrees = 180 / Math.PI;\n\n  var identity$2 = {\n    translateX: 0,\n    translateY: 0,\n    rotate: 0,\n    skewX: 0,\n    scaleX: 1,\n    scaleY: 1\n  };\n\n  var decompose = function decompose(a, b, c, d, e, f) {\n    var scaleX, scaleY, skewX;\n    if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n    if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n    if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n    if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n    return {\n      translateX: e,\n      translateY: f,\n      rotate: Math.atan2(b, a) * degrees,\n      skewX: Math.atan(skewX) * degrees,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  };\n\n  var cssNode;\n  var cssRoot;\n  var cssView;\n  var svgNode;\n\n  function parseCss(value) {\n    if (value === \"none\") return identity$2;\n    if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n    cssNode.style.transform = value;\n    value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n    cssRoot.removeChild(cssNode);\n    value = value.slice(7, -1).split(\",\");\n    return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n  }\n\n  function parseSvg(value) {\n    if (value == null) return identity$2;\n    if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    svgNode.setAttribute(\"transform\", value);\n    if (!(value = svgNode.transform.baseVal.consolidate())) return identity$2;\n    value = value.matrix;\n    return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n  }\n\n  function interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n    function pop(s) {\n      return s.length ? s.pop() + \" \" : \"\";\n    }\n\n    function translate(xa, ya, xb, yb, s, q) {\n      if (xa !== xb || ya !== yb) {\n        var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n        q.push({ i: i - 4, x: reinterpolate(xa, xb) }, { i: i - 2, x: reinterpolate(ya, yb) });\n      } else if (xb || yb) {\n        s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n      }\n    }\n\n    function rotate(a, b, s, q) {\n      if (a !== b) {\n        if (a - b > 180) b += 360;else if (b - a > 180) a += 360; // shortest path\n        q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: reinterpolate(a, b) });\n      } else if (b) {\n        s.push(pop(s) + \"rotate(\" + b + degParen);\n      }\n    }\n\n    function skewX(a, b, s, q) {\n      if (a !== b) {\n        q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: reinterpolate(a, b) });\n      } else if (b) {\n        s.push(pop(s) + \"skewX(\" + b + degParen);\n      }\n    }\n\n    function scale(xa, ya, xb, yb, s, q) {\n      if (xa !== xb || ya !== yb) {\n        var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n        q.push({ i: i - 4, x: reinterpolate(xa, xb) }, { i: i - 2, x: reinterpolate(ya, yb) });\n      } else if (xb !== 1 || yb !== 1) {\n        s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n      }\n    }\n\n    return function (a, b) {\n      var s = [],\n          // string constants and placeholders\n      q = []; // number interpolators\n      a = parse(a), b = parse(b);\n      translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n      rotate(a.rotate, b.rotate, s, q);\n      skewX(a.skewX, b.skewX, s, q);\n      scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n      a = b = null; // gc\n      return function (t) {\n        var i = -1,\n            n = q.length,\n            o;\n        while (++i < n) {\n          s[(o = q[i]).i] = o.x(t);\n        }return s.join(\"\");\n      };\n    };\n  }\n\n  var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\n  var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\n  var rho = Math.SQRT2;\n  var rho2 = 2;\n  var rho4 = 4;\n  var epsilon2 = 1e-12;\n\n  function cosh(x) {\n    return ((x = Math.exp(x)) + 1 / x) / 2;\n  }\n\n  function sinh(x) {\n    return ((x = Math.exp(x)) - 1 / x) / 2;\n  }\n\n  function tanh(x) {\n    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n  }\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  var interpolateZoom = function interpolateZoom(p0, p1) {\n    var ux0 = p0[0],\n        uy0 = p0[1],\n        w0 = p0[2],\n        ux1 = p1[0],\n        uy1 = p1[1],\n        w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function i(t) {\n        return [ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(rho * t * S)];\n      };\n    }\n\n    // General case.\n    else {\n        var d1 = Math.sqrt(d2),\n            b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n            b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n            r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n            r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n        S = (r1 - r0) / rho;\n        i = function i(t) {\n          var s = t * S,\n              coshr0 = cosh(r0),\n              u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n          return [ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / cosh(rho * s + r0)];\n        };\n      }\n\n    i.duration = S * 1000;\n\n    return i;\n  };\n\n  function hsl$1(hue$$1) {\n    return function (start, end) {\n      var h = hue$$1((start = hsl(start)).h, (end = hsl(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function (t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(t);\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    };\n  }\n\n  var hsl$2 = hsl$1(hue);\n  var hslLong = hsl$1(nogamma);\n\n  function lab$1(start, end) {\n    var l = nogamma((start = lab(start)).l, (end = lab(end)).l),\n        a = nogamma(start.a, end.a),\n        b = nogamma(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.l = l(t);\n      start.a = a(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  function hcl$1(hue$$1) {\n    return function (start, end) {\n      var h = hue$$1((start = hcl(start)).h, (end = hcl(end)).h),\n          c = nogamma(start.c, end.c),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function (t) {\n        start.h = h(t);\n        start.c = c(t);\n        start.l = l(t);\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    };\n  }\n\n  var hcl$2 = hcl$1(hue);\n  var hclLong = hcl$1(nogamma);\n\n  function cubehelix$1(hue$$1) {\n    return function cubehelixGamma(y) {\n      y = +y;\n\n      function cubehelix$$1(start, end) {\n        var h = hue$$1((start = cubehelix(start)).h, (end = cubehelix(end)).h),\n            s = nogamma(start.s, end.s),\n            l = nogamma(start.l, end.l),\n            opacity = nogamma(start.opacity, end.opacity);\n        return function (t) {\n          start.h = h(t);\n          start.s = s(t);\n          start.l = l(Math.pow(t, y));\n          start.opacity = opacity(t);\n          return start + \"\";\n        };\n      }\n\n      cubehelix$$1.gamma = cubehelixGamma;\n\n      return cubehelix$$1;\n    }(1);\n  }\n\n  var cubehelix$2 = cubehelix$1(hue);\n  var cubehelixLong = cubehelix$1(nogamma);\n\n  var quantize = function quantize(interpolator, n) {\n    var samples = new Array(n);\n    for (var i = 0; i < n; ++i) {\n      samples[i] = interpolator(i / (n - 1));\n    }return samples;\n  };\n\n  var frame = 0;\n  var timeout = 0;\n  var interval = 0;\n  var pokeDelay = 1000;\n  var taskHead;\n  var taskTail;\n  var clockLast = 0;\n  var clockNow = 0;\n  var clockSkew = 0;\n  var clock = (typeof performance === 'undefined' ? 'undefined' : _typeof(performance)) === \"object\" && performance.now ? performance : Date;\n  var setFrame = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) {\n    setTimeout(f, 17);\n  };\n\n  function now() {\n    return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n  }\n\n  function clearNow() {\n    clockNow = 0;\n  }\n\n  function Timer() {\n    this._call = this._time = this._next = null;\n  }\n\n  Timer.prototype = timer.prototype = {\n    constructor: Timer,\n    restart: function restart(callback, delay, time) {\n      if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n      time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n      if (!this._next && taskTail !== this) {\n        if (taskTail) taskTail._next = this;else taskHead = this;\n        taskTail = this;\n      }\n      this._call = callback;\n      this._time = time;\n      sleep();\n    },\n    stop: function stop() {\n      if (this._call) {\n        this._call = null;\n        this._time = Infinity;\n        sleep();\n      }\n    }\n  };\n\n  function timer(callback, delay, time) {\n    var t = new Timer();\n    t.restart(callback, delay, time);\n    return t;\n  }\n\n  function timerFlush() {\n    now(); // Get the current time, if not already set.\n    ++frame; // Pretend weve set an alarm, if we havent already.\n    var t = taskHead,\n        e;\n    while (t) {\n      if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n      t = t._next;\n    }\n    --frame;\n  }\n\n  function wake() {\n    clockNow = (clockLast = clock.now()) + clockSkew;\n    frame = timeout = 0;\n    try {\n      timerFlush();\n    } finally {\n      frame = 0;\n      nap();\n      clockNow = 0;\n    }\n  }\n\n  function poke() {\n    var now = clock.now(),\n        delay = now - clockLast;\n    if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n  }\n\n  function nap() {\n    var t0,\n        t1 = taskHead,\n        t2,\n        time = Infinity;\n    while (t1) {\n      if (t1._call) {\n        if (time > t1._time) time = t1._time;\n        t0 = t1, t1 = t1._next;\n      } else {\n        t2 = t1._next, t1._next = null;\n        t1 = t0 ? t0._next = t2 : taskHead = t2;\n      }\n    }\n    taskTail = t0;\n    sleep(time);\n  }\n\n  function sleep(time) {\n    if (frame) return; // Soonest alarm already set, or will be.\n    if (timeout) timeout = clearTimeout(timeout);\n    var delay = time - clockNow;\n    if (delay > 24) {\n      if (time < Infinity) timeout = setTimeout(wake, delay);\n      if (interval) interval = clearInterval(interval);\n    } else {\n      if (!interval) clockLast = clockNow, interval = setInterval(poke, pokeDelay);\n      frame = 1, setFrame(wake);\n    }\n  }\n\n  var timeout$1 = function timeout$1(callback, delay, time) {\n    var t = new Timer();\n    delay = delay == null ? 0 : +delay;\n    t.restart(function (elapsed) {\n      t.stop();\n      callback(elapsed + delay);\n    }, delay, time);\n    return t;\n  };\n\n  var interval$1 = function interval$1(callback, delay, time) {\n    var t = new Timer(),\n        total = delay;\n    if (delay == null) return t.restart(callback, delay, time), t;\n    delay = +delay, time = time == null ? now() : +time;\n    t.restart(function tick(elapsed) {\n      elapsed += total;\n      t.restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n    return t;\n  };\n\n  var emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\n  var emptyTween = [];\n\n  var CREATED = 0;\n  var SCHEDULED = 1;\n  var STARTING = 2;\n  var STARTED = 3;\n  var RUNNING = 4;\n  var ENDING = 5;\n  var ENDED = 6;\n\n  var schedule = function schedule(node, name, id, index, group, timing) {\n    var schedules = node.__transition;\n    if (!schedules) node.__transition = {};else if (id in schedules) return;\n    create(node, id, {\n      name: name,\n      index: index, // For context during callback.\n      group: group, // For context during callback.\n      on: emptyOn,\n      tween: emptyTween,\n      time: timing.time,\n      delay: timing.delay,\n      duration: timing.duration,\n      ease: timing.ease,\n      timer: null,\n      state: CREATED\n    });\n  };\n\n  function init(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id]) || schedule.state > CREATED) throw new Error(\"too late\");\n    return schedule;\n  }\n\n  function set$1(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id]) || schedule.state > STARTING) throw new Error(\"too late\");\n    return schedule;\n  }\n\n  function get$1(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id])) throw new Error(\"too late\");\n    return schedule;\n  }\n\n  function create(node, id, self) {\n    var schedules = node.__transition,\n        tween;\n\n    // Initialize the self timer when the transition is created.\n    // Note the actual delay is not known until the first callback!\n    schedules[id] = self;\n    self.timer = timer(schedule, 0, self.time);\n\n    function schedule(elapsed) {\n      self.state = SCHEDULED;\n      self.timer.restart(start, self.delay, self.time);\n\n      // If the elapsed delay is less than our first sleep, start immediately.\n      if (self.delay <= elapsed) start(elapsed - self.delay);\n    }\n\n    function start(elapsed) {\n      var i, j, n, o;\n\n      // If the state is not SCHEDULED, then we previously errored on start.\n      if (self.state !== SCHEDULED) return stop();\n\n      for (i in schedules) {\n        o = schedules[i];\n        if (o.name !== self.name) continue;\n\n        // While this element already has a starting transition during this frame,\n        // defer starting an interrupting transition until that transition has a\n        // chance to tick (and possibly end); see d3/d3-transition#54!\n        if (o.state === STARTED) return timeout$1(start);\n\n        // Interrupt the active transition, if any.\n        // Dispatch the interrupt event.\n        if (o.state === RUNNING) {\n          o.state = ENDED;\n          o.timer.stop();\n          o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n          delete schedules[i];\n        }\n\n        // Cancel any pre-empted transitions. No interrupt event is dispatched\n        // because the cancelled transitions never started. Note that this also\n        // removes this transition from the pending list!\n        else if (+i < id) {\n            o.state = ENDED;\n            o.timer.stop();\n            delete schedules[i];\n          }\n      }\n\n      // Defer the first tick to end of the current frame; see d3/d3#1576.\n      // Note the transition may be canceled after start and before the first tick!\n      // Note this must be scheduled before the start event; see d3/d3-transition#16!\n      // Assuming this is successful, subsequent callbacks go straight to tick.\n      timeout$1(function () {\n        if (self.state === STARTED) {\n          self.state = RUNNING;\n          self.timer.restart(tick, self.delay, self.time);\n          tick(elapsed);\n        }\n      });\n\n      // Dispatch the start event.\n      // Note this must be done before the tween are initialized.\n      self.state = STARTING;\n      self.on.call(\"start\", node, node.__data__, self.index, self.group);\n      if (self.state !== STARTING) return; // interrupted\n      self.state = STARTED;\n\n      // Initialize the tween, deleting null tween.\n      tween = new Array(n = self.tween.length);\n      for (i = 0, j = -1; i < n; ++i) {\n        if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n          tween[++j] = o;\n        }\n      }\n      tween.length = j + 1;\n    }\n\n    function tick(elapsed) {\n      var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n          i = -1,\n          n = tween.length;\n\n      while (++i < n) {\n        tween[i].call(null, t);\n      }\n\n      // Dispatch the end event.\n      if (self.state === ENDING) {\n        self.on.call(\"end\", node, node.__data__, self.index, self.group);\n        stop();\n      }\n    }\n\n    function stop() {\n      self.state = ENDED;\n      self.timer.stop();\n      delete schedules[id];\n      for (var i in schedules) {\n        return;\n      } // eslint-disable-line no-unused-vars\n      delete node.__transition;\n    }\n  }\n\n  var interrupt = function interrupt(node, name) {\n    var schedules = node.__transition,\n        schedule$$1,\n        active,\n        empty = true,\n        i;\n\n    if (!schedules) return;\n\n    name = name == null ? null : name + \"\";\n\n    for (i in schedules) {\n      if ((schedule$$1 = schedules[i]).name !== name) {\n        empty = false;continue;\n      }\n      active = schedule$$1.state > STARTING && schedule$$1.state < ENDING;\n      schedule$$1.state = ENDED;\n      schedule$$1.timer.stop();\n      if (active) schedule$$1.on.call(\"interrupt\", node, node.__data__, schedule$$1.index, schedule$$1.group);\n      delete schedules[i];\n    }\n\n    if (empty) delete node.__transition;\n  };\n\n  var selection_interrupt = function selection_interrupt(name) {\n    return this.each(function () {\n      interrupt(this, name);\n    });\n  };\n\n  function tweenRemove(id, name) {\n    var tween0, tween1;\n    return function () {\n      var schedule$$1 = set$1(this, id),\n          tween = schedule$$1.tween;\n\n      // If this node shared tween with the previous node,\n      // just assign the updated shared tween and were done!\n      // Otherwise, copy-on-write.\n      if (tween !== tween0) {\n        tween1 = tween0 = tween;\n        for (var i = 0, n = tween1.length; i < n; ++i) {\n          if (tween1[i].name === name) {\n            tween1 = tween1.slice();\n            tween1.splice(i, 1);\n            break;\n          }\n        }\n      }\n\n      schedule$$1.tween = tween1;\n    };\n  }\n\n  function tweenFunction(id, name, value) {\n    var tween0, tween1;\n    if (typeof value !== \"function\") throw new Error();\n    return function () {\n      var schedule$$1 = set$1(this, id),\n          tween = schedule$$1.tween;\n\n      // If this node shared tween with the previous node,\n      // just assign the updated shared tween and were done!\n      // Otherwise, copy-on-write.\n      if (tween !== tween0) {\n        tween1 = (tween0 = tween).slice();\n        for (var t = { name: name, value: value }, i = 0, n = tween1.length; i < n; ++i) {\n          if (tween1[i].name === name) {\n            tween1[i] = t;\n            break;\n          }\n        }\n        if (i === n) tween1.push(t);\n      }\n\n      schedule$$1.tween = tween1;\n    };\n  }\n\n  var transition_tween = function transition_tween(name, value) {\n    var id = this._id;\n\n    name += \"\";\n\n    if (arguments.length < 2) {\n      var tween = get$1(this.node(), id).tween;\n      for (var i = 0, n = tween.length, t; i < n; ++i) {\n        if ((t = tween[i]).name === name) {\n          return t.value;\n        }\n      }\n      return null;\n    }\n\n    return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n  };\n\n  function tweenValue(transition, name, value) {\n    var id = transition._id;\n\n    transition.each(function () {\n      var schedule$$1 = set$1(this, id);\n      (schedule$$1.value || (schedule$$1.value = {}))[name] = value.apply(this, arguments);\n    });\n\n    return function (node) {\n      return get$1(node, id).value[name];\n    };\n  }\n\n  var interpolate = function interpolate(a, b) {\n    var c;\n    return (typeof b === \"number\" ? reinterpolate : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n  };\n\n  function attrRemove$1(name) {\n    return function () {\n      this.removeAttribute(name);\n    };\n  }\n\n  function attrRemoveNS$1(fullname) {\n    return function () {\n      this.removeAttributeNS(fullname.space, fullname.local);\n    };\n  }\n\n  function attrConstant$1(name, interpolate$$1, value1) {\n    var value00, interpolate0;\n    return function () {\n      var value0 = this.getAttribute(name);\n      return value0 === value1 ? null : value0 === value00 ? interpolate0 : interpolate0 = interpolate$$1(value00 = value0, value1);\n    };\n  }\n\n  function attrConstantNS$1(fullname, interpolate$$1, value1) {\n    var value00, interpolate0;\n    return function () {\n      var value0 = this.getAttributeNS(fullname.space, fullname.local);\n      return value0 === value1 ? null : value0 === value00 ? interpolate0 : interpolate0 = interpolate$$1(value00 = value0, value1);\n    };\n  }\n\n  function attrFunction$1(name, interpolate$$1, value) {\n    var value00, value10, interpolate0;\n    return function () {\n      var value0,\n          value1 = value(this);\n      if (value1 == null) return void this.removeAttribute(name);\n      value0 = this.getAttribute(name);\n      return value0 === value1 ? null : value0 === value00 && value1 === value10 ? interpolate0 : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n    };\n  }\n\n  function attrFunctionNS$1(fullname, interpolate$$1, value) {\n    var value00, value10, interpolate0;\n    return function () {\n      var value0,\n          value1 = value(this);\n      if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n      value0 = this.getAttributeNS(fullname.space, fullname.local);\n      return value0 === value1 ? null : value0 === value00 && value1 === value10 ? interpolate0 : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n    };\n  }\n\n  var transition_attr = function transition_attr(name, value) {\n    var fullname = namespace(name),\n        i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n    return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS$1 : attrFunction$1)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS$1 : attrRemove$1)(fullname) : (fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, i, value + \"\"));\n  };\n\n  function attrTweenNS(fullname, value) {\n    function tween() {\n      var node = this,\n          i = value.apply(node, arguments);\n      return i && function (t) {\n        node.setAttributeNS(fullname.space, fullname.local, i(t));\n      };\n    }\n    tween._value = value;\n    return tween;\n  }\n\n  function attrTween(name, value) {\n    function tween() {\n      var node = this,\n          i = value.apply(node, arguments);\n      return i && function (t) {\n        node.setAttribute(name, i(t));\n      };\n    }\n    tween._value = value;\n    return tween;\n  }\n\n  var transition_attrTween = function transition_attrTween(name, value) {\n    var key = \"attr.\" + name;\n    if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n    if (value == null) return this.tween(key, null);\n    if (typeof value !== \"function\") throw new Error();\n    var fullname = namespace(name);\n    return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n  };\n\n  function delayFunction(id, value) {\n    return function () {\n      init(this, id).delay = +value.apply(this, arguments);\n    };\n  }\n\n  function delayConstant(id, value) {\n    return value = +value, function () {\n      init(this, id).delay = value;\n    };\n  }\n\n  var transition_delay = function transition_delay(value) {\n    var id = this._id;\n\n    return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id, value)) : get$1(this.node(), id).delay;\n  };\n\n  function durationFunction(id, value) {\n    return function () {\n      set$1(this, id).duration = +value.apply(this, arguments);\n    };\n  }\n\n  function durationConstant(id, value) {\n    return value = +value, function () {\n      set$1(this, id).duration = value;\n    };\n  }\n\n  var transition_duration = function transition_duration(value) {\n    var id = this._id;\n\n    return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id, value)) : get$1(this.node(), id).duration;\n  };\n\n  function easeConstant(id, value) {\n    if (typeof value !== \"function\") throw new Error();\n    return function () {\n      set$1(this, id).ease = value;\n    };\n  }\n\n  var transition_ease = function transition_ease(value) {\n    var id = this._id;\n\n    return arguments.length ? this.each(easeConstant(id, value)) : get$1(this.node(), id).ease;\n  };\n\n  var transition_filter = function transition_filter(match) {\n    if (typeof match !== \"function\") match = matcher$1(match);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n        if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n          subgroup.push(node);\n        }\n      }\n    }\n\n    return new Transition(subgroups, this._parents, this._name, this._id);\n  };\n\n  var transition_merge = function transition_merge(transition$$1) {\n    if (transition$$1._id !== this._id) throw new Error();\n\n    for (var groups0 = this._groups, groups1 = transition$$1._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n      for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group0[i] || group1[i]) {\n          merge[i] = node;\n        }\n      }\n    }\n\n    for (; j < m0; ++j) {\n      merges[j] = groups0[j];\n    }\n\n    return new Transition(merges, this._parents, this._name, this._id);\n  };\n\n  function start(name) {\n    return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n      var i = t.indexOf(\".\");\n      if (i >= 0) t = t.slice(0, i);\n      return !t || t === \"start\";\n    });\n  }\n\n  function onFunction(id, name, listener) {\n    var on0,\n        on1,\n        sit = start(name) ? init : set$1;\n    return function () {\n      var schedule$$1 = sit(this, id),\n          on = schedule$$1.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n      schedule$$1.on = on1;\n    };\n  }\n\n  var transition_on = function transition_on(name, listener) {\n    var id = this._id;\n\n    return arguments.length < 2 ? get$1(this.node(), id).on.on(name) : this.each(onFunction(id, name, listener));\n  };\n\n  function removeFunction(id) {\n    return function () {\n      var parent = this.parentNode;\n      for (var i in this.__transition) {\n        if (+i !== id) return;\n      }if (parent) parent.removeChild(this);\n    };\n  }\n\n  var transition_remove = function transition_remove() {\n    return this.on(\"end.remove\", removeFunction(this._id));\n  };\n\n  var transition_select = function transition_select(select$$1) {\n    var name = this._name,\n        id = this._id;\n\n    if (typeof select$$1 !== \"function\") select$$1 = selector(select$$1);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n        if ((node = group[i]) && (subnode = select$$1.call(node, node.__data__, i, group))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          subgroup[i] = subnode;\n          schedule(subgroup[i], name, id, i, subgroup, get$1(node, id));\n        }\n      }\n    }\n\n    return new Transition(subgroups, this._parents, name, id);\n  };\n\n  var transition_selectAll = function transition_selectAll(select$$1) {\n    var name = this._name,\n        id = this._id;\n\n    if (typeof select$$1 !== \"function\") select$$1 = selectorAll(select$$1);\n\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          for (var children = select$$1.call(node, node.__data__, i, group), child, inherit = get$1(node, id), k = 0, l = children.length; k < l; ++k) {\n            if (child = children[k]) {\n              schedule(child, name, id, k, children, inherit);\n            }\n          }\n          subgroups.push(children);\n          parents.push(node);\n        }\n      }\n    }\n\n    return new Transition(subgroups, parents, name, id);\n  };\n\n  var Selection$1 = selection.prototype.constructor;\n\n  var transition_selection = function transition_selection() {\n    return new Selection$1(this._groups, this._parents);\n  };\n\n  function styleRemove$1(name, interpolate$$1) {\n    var value00, value10, interpolate0;\n    return function () {\n      var value0 = styleValue(this, name),\n          value1 = (this.style.removeProperty(name), styleValue(this, name));\n      return value0 === value1 ? null : value0 === value00 && value1 === value10 ? interpolate0 : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n    };\n  }\n\n  function styleRemoveEnd(name) {\n    return function () {\n      this.style.removeProperty(name);\n    };\n  }\n\n  function styleConstant$1(name, interpolate$$1, value1) {\n    var value00, interpolate0;\n    return function () {\n      var value0 = styleValue(this, name);\n      return value0 === value1 ? null : value0 === value00 ? interpolate0 : interpolate0 = interpolate$$1(value00 = value0, value1);\n    };\n  }\n\n  function styleFunction$1(name, interpolate$$1, value) {\n    var value00, value10, interpolate0;\n    return function () {\n      var value0 = styleValue(this, name),\n          value1 = value(this);\n      if (value1 == null) value1 = (this.style.removeProperty(name), styleValue(this, name));\n      return value0 === value1 ? null : value0 === value00 && value1 === value10 ? interpolate0 : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n    };\n  }\n\n  var transition_style = function transition_style(name, value, priority) {\n    var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n    return value == null ? this.styleTween(name, styleRemove$1(name, i)).on(\"end.style.\" + name, styleRemoveEnd(name)) : this.styleTween(name, typeof value === \"function\" ? styleFunction$1(name, i, tweenValue(this, \"style.\" + name, value)) : styleConstant$1(name, i, value + \"\"), priority);\n  };\n\n  function styleTween(name, value, priority) {\n    function tween() {\n      var node = this,\n          i = value.apply(node, arguments);\n      return i && function (t) {\n        node.style.setProperty(name, i(t), priority);\n      };\n    }\n    tween._value = value;\n    return tween;\n  }\n\n  var transition_styleTween = function transition_styleTween(name, value, priority) {\n    var key = \"style.\" + (name += \"\");\n    if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n    if (value == null) return this.tween(key, null);\n    if (typeof value !== \"function\") throw new Error();\n    return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n  };\n\n  function textConstant$1(value) {\n    return function () {\n      this.textContent = value;\n    };\n  }\n\n  function textFunction$1(value) {\n    return function () {\n      var value1 = value(this);\n      this.textContent = value1 == null ? \"\" : value1;\n    };\n  }\n\n  var transition_text = function transition_text(value) {\n    return this.tween(\"text\", typeof value === \"function\" ? textFunction$1(tweenValue(this, \"text\", value)) : textConstant$1(value == null ? \"\" : value + \"\"));\n  };\n\n  var transition_transition = function transition_transition() {\n    var name = this._name,\n        id0 = this._id,\n        id1 = newId();\n\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          var inherit = get$1(node, id0);\n          schedule(node, name, id1, i, group, {\n            time: inherit.time + inherit.delay + inherit.duration,\n            delay: 0,\n            duration: inherit.duration,\n            ease: inherit.ease\n          });\n        }\n      }\n    }\n\n    return new Transition(groups, this._parents, name, id1);\n  };\n\n  var id = 0;\n\n  function Transition(groups, parents, name, id) {\n    this._groups = groups;\n    this._parents = parents;\n    this._name = name;\n    this._id = id;\n  }\n\n  function transition(name) {\n    return selection().transition(name);\n  }\n\n  function newId() {\n    return ++id;\n  }\n\n  var selection_prototype = selection.prototype;\n\n  Transition.prototype = transition.prototype = {\n    constructor: Transition,\n    select: transition_select,\n    selectAll: transition_selectAll,\n    filter: transition_filter,\n    merge: transition_merge,\n    selection: transition_selection,\n    transition: transition_transition,\n    call: selection_prototype.call,\n    nodes: selection_prototype.nodes,\n    node: selection_prototype.node,\n    size: selection_prototype.size,\n    empty: selection_prototype.empty,\n    each: selection_prototype.each,\n    on: transition_on,\n    attr: transition_attr,\n    attrTween: transition_attrTween,\n    style: transition_style,\n    styleTween: transition_styleTween,\n    text: transition_text,\n    remove: transition_remove,\n    tween: transition_tween,\n    delay: transition_delay,\n    duration: transition_duration,\n    ease: transition_ease\n  };\n\n  function linear$1(t) {\n    return +t;\n  }\n\n  function quadIn(t) {\n    return t * t;\n  }\n\n  function quadOut(t) {\n    return t * (2 - t);\n  }\n\n  function quadInOut(t) {\n    return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n  }\n\n  function cubicIn(t) {\n    return t * t * t;\n  }\n\n  function cubicOut(t) {\n    return --t * t * t + 1;\n  }\n\n  function cubicInOut(t) {\n    return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n  }\n\n  var exponent = 3;\n\n  var polyIn = function custom(e) {\n    e = +e;\n\n    function polyIn(t) {\n      return Math.pow(t, e);\n    }\n\n    polyIn.exponent = custom;\n\n    return polyIn;\n  }(exponent);\n\n  var polyOut = function custom(e) {\n    e = +e;\n\n    function polyOut(t) {\n      return 1 - Math.pow(1 - t, e);\n    }\n\n    polyOut.exponent = custom;\n\n    return polyOut;\n  }(exponent);\n\n  var polyInOut = function custom(e) {\n    e = +e;\n\n    function polyInOut(t) {\n      return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n    }\n\n    polyInOut.exponent = custom;\n\n    return polyInOut;\n  }(exponent);\n\n  var pi = Math.PI;\n  var halfPi = pi / 2;\n\n  function sinIn(t) {\n    return 1 - Math.cos(t * halfPi);\n  }\n\n  function sinOut(t) {\n    return Math.sin(t * halfPi);\n  }\n\n  function sinInOut(t) {\n    return (1 - Math.cos(pi * t)) / 2;\n  }\n\n  function expIn(t) {\n    return Math.pow(2, 10 * t - 10);\n  }\n\n  function expOut(t) {\n    return 1 - Math.pow(2, -10 * t);\n  }\n\n  function expInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n  }\n\n  function circleIn(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n\n  function circleOut(t) {\n    return Math.sqrt(1 - --t * t);\n  }\n\n  function circleInOut(t) {\n    return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n  }\n\n  var b1 = 4 / 11;\n  var b2 = 6 / 11;\n  var b3 = 8 / 11;\n  var b4 = 3 / 4;\n  var b5 = 9 / 11;\n  var b6 = 10 / 11;\n  var b7 = 15 / 16;\n  var b8 = 21 / 22;\n  var b9 = 63 / 64;\n  var b0 = 1 / b1 / b1;\n\n  function bounceIn(t) {\n    return 1 - bounceOut(1 - t);\n  }\n\n  function bounceOut(t) {\n    return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n  }\n\n  function bounceInOut(t) {\n    return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n  }\n\n  var overshoot = 1.70158;\n\n  var backIn = function custom(s) {\n    s = +s;\n\n    function backIn(t) {\n      return t * t * ((s + 1) * t - s);\n    }\n\n    backIn.overshoot = custom;\n\n    return backIn;\n  }(overshoot);\n\n  var backOut = function custom(s) {\n    s = +s;\n\n    function backOut(t) {\n      return --t * t * ((s + 1) * t + s) + 1;\n    }\n\n    backOut.overshoot = custom;\n\n    return backOut;\n  }(overshoot);\n\n  var backInOut = function custom(s) {\n    s = +s;\n\n    function backInOut(t) {\n      return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n    }\n\n    backInOut.overshoot = custom;\n\n    return backInOut;\n  }(overshoot);\n\n  var tau = 2 * Math.PI;\n  var amplitude = 1;\n  var period = 0.3;\n\n  var elasticIn = function custom(a, p) {\n    var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n    function elasticIn(t) {\n      return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n    }\n\n    elasticIn.amplitude = function (a) {\n      return custom(a, p * tau);\n    };\n    elasticIn.period = function (p) {\n      return custom(a, p);\n    };\n\n    return elasticIn;\n  }(amplitude, period);\n\n  var elasticOut = function custom(a, p) {\n    var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n    function elasticOut(t) {\n      return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n    }\n\n    elasticOut.amplitude = function (a) {\n      return custom(a, p * tau);\n    };\n    elasticOut.period = function (p) {\n      return custom(a, p);\n    };\n\n    return elasticOut;\n  }(amplitude, period);\n\n  var elasticInOut = function custom(a, p) {\n    var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n    function elasticInOut(t) {\n      return ((t = t * 2 - 1) < 0 ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p) : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n    }\n\n    elasticInOut.amplitude = function (a) {\n      return custom(a, p * tau);\n    };\n    elasticInOut.period = function (p) {\n      return custom(a, p);\n    };\n\n    return elasticInOut;\n  }(amplitude, period);\n\n  var defaultTiming = {\n    time: null, // Set on use.\n    delay: 0,\n    duration: 250,\n    ease: cubicInOut\n  };\n\n  function inherit(node, id) {\n    var timing;\n    while (!(timing = node.__transition) || !(timing = timing[id])) {\n      if (!(node = node.parentNode)) {\n        return defaultTiming.time = now(), defaultTiming;\n      }\n    }\n    return timing;\n  }\n\n  var selection_transition = function selection_transition(name) {\n    var id, timing;\n\n    if (name instanceof Transition) {\n      id = name._id, name = name._name;\n    } else {\n      id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n    }\n\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          schedule(node, name, id, i, group, timing || inherit(node, id));\n        }\n      }\n    }\n\n    return new Transition(groups, this._parents, name, id);\n  };\n\n  selection.prototype.interrupt = selection_interrupt;\n  selection.prototype.transition = selection_transition;\n\n  var root$1 = [null];\n\n  var active = function active(node, name) {\n    var schedules = node.__transition,\n        schedule$$1,\n        i;\n\n    if (schedules) {\n      name = name == null ? null : name + \"\";\n      for (i in schedules) {\n        if ((schedule$$1 = schedules[i]).state > SCHEDULED && schedule$$1.name === name) {\n          return new Transition([[node]], root$1, name, +i);\n        }\n      }\n    }\n\n    return null;\n  };\n\n  var constant$4 = function constant$4(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  var BrushEvent = function BrushEvent(target, type, selection) {\n    this.target = target;\n    this.type = type;\n    this.selection = selection;\n  };\n\n  function nopropagation$1() {\n    exports.event.stopImmediatePropagation();\n  }\n\n  var noevent$1 = function noevent$1() {\n    exports.event.preventDefault();\n    exports.event.stopImmediatePropagation();\n  };\n\n  var MODE_DRAG = { name: \"drag\" };\n  var MODE_SPACE = { name: \"space\" };\n  var MODE_HANDLE = { name: \"handle\" };\n  var MODE_CENTER = { name: \"center\" };\n\n  var X = {\n    name: \"x\",\n    handles: [\"e\", \"w\"].map(type),\n    input: function input(x, e) {\n      return x && [[x[0], e[0][1]], [x[1], e[1][1]]];\n    },\n    output: function output(xy) {\n      return xy && [xy[0][0], xy[1][0]];\n    }\n  };\n\n  var Y = {\n    name: \"y\",\n    handles: [\"n\", \"s\"].map(type),\n    input: function input(y, e) {\n      return y && [[e[0][0], y[0]], [e[1][0], y[1]]];\n    },\n    output: function output(xy) {\n      return xy && [xy[0][1], xy[1][1]];\n    }\n  };\n\n  var XY = {\n    name: \"xy\",\n    handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n    input: function input(xy) {\n      return xy;\n    },\n    output: function output(xy) {\n      return xy;\n    }\n  };\n\n  var cursors = {\n    overlay: \"crosshair\",\n    selection: \"move\",\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n  };\n\n  var flipX = {\n    e: \"w\",\n    w: \"e\",\n    nw: \"ne\",\n    ne: \"nw\",\n    se: \"sw\",\n    sw: \"se\"\n  };\n\n  var flipY = {\n    n: \"s\",\n    s: \"n\",\n    nw: \"sw\",\n    ne: \"se\",\n    se: \"ne\",\n    sw: \"nw\"\n  };\n\n  var signsX = {\n    overlay: +1,\n    selection: +1,\n    n: null,\n    e: +1,\n    s: null,\n    w: -1,\n    nw: -1,\n    ne: +1,\n    se: +1,\n    sw: -1\n  };\n\n  var signsY = {\n    overlay: +1,\n    selection: +1,\n    n: -1,\n    e: null,\n    s: +1,\n    w: null,\n    nw: -1,\n    ne: -1,\n    se: +1,\n    sw: +1\n  };\n\n  function type(t) {\n    return { type: t };\n  }\n\n  // Ignore right-click, since that should open the context menu.\n  function defaultFilter() {\n    return !exports.event.button;\n  }\n\n  function defaultExtent() {\n    var svg = this.ownerSVGElement || this;\n    return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n  }\n\n  // Like d3.local, but with the name __brush rather than auto-generated.\n  function local$$1(node) {\n    while (!node.__brush) {\n      if (!(node = node.parentNode)) return;\n    }return node.__brush;\n  }\n\n  function empty(extent) {\n    return extent[0][0] === extent[1][0] || extent[0][1] === extent[1][1];\n  }\n\n  function brushSelection(node) {\n    var state = node.__brush;\n    return state ? state.dim.output(state.selection) : null;\n  }\n\n  function brushX() {\n    return brush$1(X);\n  }\n\n  function brushY() {\n    return brush$1(Y);\n  }\n\n  var brush = function brush() {\n    return brush$1(XY);\n  };\n\n  function brush$1(dim) {\n    var extent = defaultExtent,\n        filter = defaultFilter,\n        listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n        handleSize = 6,\n        touchending;\n\n    function brush(group) {\n      var overlay = group.property(\"__brush\", initialize).selectAll(\".overlay\").data([type(\"overlay\")]);\n\n      overlay.enter().append(\"rect\").attr(\"class\", \"overlay\").attr(\"pointer-events\", \"all\").attr(\"cursor\", cursors.overlay).merge(overlay).each(function () {\n        var extent = local$$1(this).extent;\n        select(this).attr(\"x\", extent[0][0]).attr(\"y\", extent[0][1]).attr(\"width\", extent[1][0] - extent[0][0]).attr(\"height\", extent[1][1] - extent[0][1]);\n      });\n\n      group.selectAll(\".selection\").data([type(\"selection\")]).enter().append(\"rect\").attr(\"class\", \"selection\").attr(\"cursor\", cursors.selection).attr(\"fill\", \"#777\").attr(\"fill-opacity\", 0.3).attr(\"stroke\", \"#fff\").attr(\"shape-rendering\", \"crispEdges\");\n\n      var handle = group.selectAll(\".handle\").data(dim.handles, function (d) {\n        return d.type;\n      });\n\n      handle.exit().remove();\n\n      handle.enter().append(\"rect\").attr(\"class\", function (d) {\n        return \"handle handle--\" + d.type;\n      }).attr(\"cursor\", function (d) {\n        return cursors[d.type];\n      });\n\n      group.each(redraw).attr(\"fill\", \"none\").attr(\"pointer-events\", \"all\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\").on(\"mousedown.brush touchstart.brush\", started);\n    }\n\n    brush.move = function (group, selection) {\n      if (group.selection) {\n        group.on(\"start.brush\", function () {\n          emitter(this, arguments).beforestart().start();\n        }).on(\"interrupt.brush end.brush\", function () {\n          emitter(this, arguments).end();\n        }).tween(\"brush\", function () {\n          var that = this,\n              state = that.__brush,\n              emit = emitter(that, arguments),\n              selection0 = state.selection,\n              selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n              i = interpolateValue(selection0, selection1);\n\n          function tween(t) {\n            state.selection = t === 1 && empty(selection1) ? null : i(t);\n            redraw.call(that);\n            emit.brush();\n          }\n\n          return selection0 && selection1 ? tween : tween(1);\n        });\n      } else {\n        group.each(function () {\n          var that = this,\n              args = arguments,\n              state = that.__brush,\n              selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n              emit = emitter(that, args).beforestart();\n\n          interrupt(that);\n          state.selection = selection1 == null || empty(selection1) ? null : selection1;\n          redraw.call(that);\n          emit.start().brush().end();\n        });\n      }\n    };\n\n    function redraw() {\n      var group = select(this),\n          selection = local$$1(this).selection;\n\n      if (selection) {\n        group.selectAll(\".selection\").style(\"display\", null).attr(\"x\", selection[0][0]).attr(\"y\", selection[0][1]).attr(\"width\", selection[1][0] - selection[0][0]).attr(\"height\", selection[1][1] - selection[0][1]);\n\n        group.selectAll(\".handle\").style(\"display\", null).attr(\"x\", function (d) {\n          return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2;\n        }).attr(\"y\", function (d) {\n          return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2;\n        }).attr(\"width\", function (d) {\n          return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize;\n        }).attr(\"height\", function (d) {\n          return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize;\n        });\n      } else {\n        group.selectAll(\".selection,.handle\").style(\"display\", \"none\").attr(\"x\", null).attr(\"y\", null).attr(\"width\", null).attr(\"height\", null);\n      }\n    }\n\n    function emitter(that, args) {\n      return that.__brush.emitter || new Emitter(that, args);\n    }\n\n    function Emitter(that, args) {\n      this.that = that;\n      this.args = args;\n      this.state = that.__brush;\n      this.active = 0;\n    }\n\n    Emitter.prototype = {\n      beforestart: function beforestart() {\n        if (++this.active === 1) this.state.emitter = this, this.starting = true;\n        return this;\n      },\n      start: function start() {\n        if (this.starting) this.starting = false, this.emit(\"start\");\n        return this;\n      },\n      brush: function brush() {\n        this.emit(\"brush\");\n        return this;\n      },\n      end: function end() {\n        if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n        return this;\n      },\n      emit: function emit(type) {\n        customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n      }\n    };\n\n    function started() {\n      if (exports.event.touches) {\n        if (exports.event.changedTouches.length < exports.event.touches.length) return noevent$1();\n      } else if (touchending) return;\n      if (!filter.apply(this, arguments)) return;\n\n      var that = this,\n          type = exports.event.target.__data__.type,\n          mode = (exports.event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : exports.event.altKey ? MODE_CENTER : MODE_HANDLE,\n          signX = dim === Y ? null : signsX[type],\n          signY = dim === X ? null : signsY[type],\n          state = local$$1(that),\n          extent = state.extent,\n          selection = state.selection,\n          W = extent[0][0],\n          w0,\n          w1,\n          N = extent[0][1],\n          n0,\n          n1,\n          E = extent[1][0],\n          e0,\n          e1,\n          S = extent[1][1],\n          s0,\n          s1,\n          dx,\n          dy,\n          moving,\n          shifting = signX && signY && exports.event.shiftKey,\n          lockX,\n          lockY,\n          point0 = mouse(that),\n          point = point0,\n          emit = emitter(that, arguments).beforestart();\n\n      if (type === \"overlay\") {\n        state.selection = selection = [[w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]], [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]];\n      } else {\n        w0 = selection[0][0];\n        n0 = selection[0][1];\n        e0 = selection[1][0];\n        s0 = selection[1][1];\n      }\n\n      w1 = w0;\n      n1 = n0;\n      e1 = e0;\n      s1 = s0;\n\n      var group = select(that).attr(\"pointer-events\", \"none\");\n\n      var overlay = group.selectAll(\".overlay\").attr(\"cursor\", cursors[type]);\n\n      if (exports.event.touches) {\n        group.on(\"touchmove.brush\", moved, true).on(\"touchend.brush touchcancel.brush\", ended, true);\n      } else {\n        var view = select(exports.event.view).on(\"keydown.brush\", keydowned, true).on(\"keyup.brush\", keyupped, true).on(\"mousemove.brush\", moved, true).on(\"mouseup.brush\", ended, true);\n\n        dragDisable(exports.event.view);\n      }\n\n      nopropagation$1();\n      interrupt(that);\n      redraw.call(that);\n      emit.start();\n\n      function moved() {\n        var point1 = mouse(that);\n        if (shifting && !lockX && !lockY) {\n          if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;else lockX = true;\n        }\n        point = point1;\n        moving = true;\n        noevent$1();\n        move();\n      }\n\n      function move() {\n        var t;\n\n        dx = point[0] - point0[0];\n        dy = point[1] - point0[1];\n\n        switch (mode) {\n          case MODE_SPACE:\n          case MODE_DRAG:\n            {\n              if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n              if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n              break;\n            }\n          case MODE_HANDLE:\n            {\n              if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n              if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n              break;\n            }\n          case MODE_CENTER:\n            {\n              if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n              if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n              break;\n            }\n        }\n\n        if (e1 < w1) {\n          signX *= -1;\n          t = w0, w0 = e0, e0 = t;\n          t = w1, w1 = e1, e1 = t;\n          if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n        }\n\n        if (s1 < n1) {\n          signY *= -1;\n          t = n0, n0 = s0, s0 = t;\n          t = n1, n1 = s1, s1 = t;\n          if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n        }\n\n        if (state.selection) selection = state.selection; // May be set by brush.move!\n        if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n        if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n        if (selection[0][0] !== w1 || selection[0][1] !== n1 || selection[1][0] !== e1 || selection[1][1] !== s1) {\n          state.selection = [[w1, n1], [e1, s1]];\n          redraw.call(that);\n          emit.brush();\n        }\n      }\n\n      function ended() {\n        nopropagation$1();\n        if (exports.event.touches) {\n          if (exports.event.touches.length) return;\n          if (touchending) clearTimeout(touchending);\n          touchending = setTimeout(function () {\n            touchending = null;\n          }, 500); // Ghost clicks are delayed!\n          group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n        } else {\n          yesdrag(exports.event.view, moving);\n          view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n        }\n        group.attr(\"pointer-events\", \"all\");\n        overlay.attr(\"cursor\", cursors.overlay);\n        if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n        if (empty(selection)) state.selection = null, redraw.call(that);\n        emit.end();\n      }\n\n      function keydowned() {\n        switch (exports.event.keyCode) {\n          case 16:\n            {\n              // SHIFT\n              shifting = signX && signY;\n              break;\n            }\n          case 18:\n            {\n              // ALT\n              if (mode === MODE_HANDLE) {\n                if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n                if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n                mode = MODE_CENTER;\n                move();\n              }\n              break;\n            }\n          case 32:\n            {\n              // SPACE; takes priority over ALT\n              if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n                if (signX < 0) e0 = e1 - dx;else if (signX > 0) w0 = w1 - dx;\n                if (signY < 0) s0 = s1 - dy;else if (signY > 0) n0 = n1 - dy;\n                mode = MODE_SPACE;\n                overlay.attr(\"cursor\", cursors.selection);\n                move();\n              }\n              break;\n            }\n          default:\n            return;\n        }\n        noevent$1();\n      }\n\n      function keyupped() {\n        switch (exports.event.keyCode) {\n          case 16:\n            {\n              // SHIFT\n              if (shifting) {\n                lockX = lockY = shifting = false;\n                move();\n              }\n              break;\n            }\n          case 18:\n            {\n              // ALT\n              if (mode === MODE_CENTER) {\n                if (signX < 0) e0 = e1;else if (signX > 0) w0 = w1;\n                if (signY < 0) s0 = s1;else if (signY > 0) n0 = n1;\n                mode = MODE_HANDLE;\n                move();\n              }\n              break;\n            }\n          case 32:\n            {\n              // SPACE\n              if (mode === MODE_SPACE) {\n                if (exports.event.altKey) {\n                  if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n                  if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n                  mode = MODE_CENTER;\n                } else {\n                  if (signX < 0) e0 = e1;else if (signX > 0) w0 = w1;\n                  if (signY < 0) s0 = s1;else if (signY > 0) n0 = n1;\n                  mode = MODE_HANDLE;\n                }\n                overlay.attr(\"cursor\", cursors[type]);\n                move();\n              }\n              break;\n            }\n          default:\n            return;\n        }\n        noevent$1();\n      }\n    }\n\n    function initialize() {\n      var state = this.__brush || { selection: null };\n      state.extent = extent.apply(this, arguments);\n      state.dim = dim;\n      return state;\n    }\n\n    brush.extent = function (_) {\n      return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$4([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n    };\n\n    brush.filter = function (_) {\n      return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$4(!!_), brush) : filter;\n    };\n\n    brush.handleSize = function (_) {\n      return arguments.length ? (handleSize = +_, brush) : handleSize;\n    };\n\n    brush.on = function () {\n      var value = listeners.on.apply(listeners, arguments);\n      return value === listeners ? brush : value;\n    };\n\n    return brush;\n  }\n\n  var cos = Math.cos;\n  var sin = Math.sin;\n  var pi$1 = Math.PI;\n  var halfPi$1 = pi$1 / 2;\n  var tau$1 = pi$1 * 2;\n  var max$1 = Math.max;\n\n  function compareValue(compare) {\n    return function (a, b) {\n      return compare(a.source.value + a.target.value, b.source.value + b.target.value);\n    };\n  }\n\n  var chord = function chord() {\n    var padAngle = 0,\n        sortGroups = null,\n        sortSubgroups = null,\n        sortChords = null;\n\n    function chord(matrix) {\n      var n = matrix.length,\n          groupSums = [],\n          groupIndex = sequence(n),\n          subgroupIndex = [],\n          chords = [],\n          groups = chords.groups = new Array(n),\n          subgroups = new Array(n * n),\n          k,\n          x,\n          x0,\n          dx,\n          i,\n          j;\n\n      // Compute the sum.\n      k = 0, i = -1;while (++i < n) {\n        x = 0, j = -1;while (++j < n) {\n          x += matrix[i][j];\n        }\n        groupSums.push(x);\n        subgroupIndex.push(sequence(n));\n        k += x;\n      }\n\n      // Sort groups\n      if (sortGroups) groupIndex.sort(function (a, b) {\n        return sortGroups(groupSums[a], groupSums[b]);\n      });\n\n      // Sort subgroups\n      if (sortSubgroups) subgroupIndex.forEach(function (d, i) {\n        d.sort(function (a, b) {\n          return sortSubgroups(matrix[i][a], matrix[i][b]);\n        });\n      });\n\n      // Convert the sum to scaling factor for [0, 2pi].\n      // TODO Allow start and end angle to be specified?\n      // TODO Allow padding to be specified as percentage?\n      k = max$1(0, tau$1 - padAngle * n) / k;\n      dx = k ? padAngle : tau$1 / n;\n\n      // Compute the start and end angle for each group and subgroup.\n      // Note: Opera has a bug reordering object literal properties!\n      x = 0, i = -1;while (++i < n) {\n        x0 = x, j = -1;while (++j < n) {\n          var di = groupIndex[i],\n              dj = subgroupIndex[di][j],\n              v = matrix[di][dj],\n              a0 = x,\n              a1 = x += v * k;\n          subgroups[dj * n + di] = {\n            index: di,\n            subindex: dj,\n            startAngle: a0,\n            endAngle: a1,\n            value: v\n          };\n        }\n        groups[di] = {\n          index: di,\n          startAngle: x0,\n          endAngle: x,\n          value: groupSums[di]\n        };\n        x += dx;\n      }\n\n      // Generate chords for each (non-empty) subgroup-subgroup link.\n      i = -1;while (++i < n) {\n        j = i - 1;while (++j < n) {\n          var source = subgroups[j * n + i],\n              target = subgroups[i * n + j];\n          if (source.value || target.value) {\n            chords.push(source.value < target.value ? { source: target, target: source } : { source: source, target: target });\n          }\n        }\n      }\n\n      return sortChords ? chords.sort(sortChords) : chords;\n    }\n\n    chord.padAngle = function (_) {\n      return arguments.length ? (padAngle = max$1(0, _), chord) : padAngle;\n    };\n\n    chord.sortGroups = function (_) {\n      return arguments.length ? (sortGroups = _, chord) : sortGroups;\n    };\n\n    chord.sortSubgroups = function (_) {\n      return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n    };\n\n    chord.sortChords = function (_) {\n      return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n    };\n\n    return chord;\n  };\n\n  var slice$2 = Array.prototype.slice;\n\n  var constant$5 = function constant$5(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  var pi$2 = Math.PI;\n  var tau$2 = 2 * pi$2;\n  var epsilon$1 = 1e-6;\n  var tauEpsilon = tau$2 - epsilon$1;\n\n  function Path() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n\n  function path() {\n    return new Path();\n  }\n\n  Path.prototype = path.prototype = {\n    constructor: Path,\n    moveTo: function moveTo(x, y) {\n      this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n    },\n    closePath: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    },\n    lineTo: function lineTo(x, y) {\n      this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n    },\n    quadraticCurveTo: function quadraticCurveTo(x1, y1, x, y) {\n      this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n    },\n    bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n      this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n    },\n    arcTo: function arcTo(x1, y1, x2, y2, r) {\n      x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n      var x0 = this._x1,\n          y0 = this._y1,\n          x21 = x2 - x1,\n          y21 = y2 - y1,\n          x01 = x0 - x1,\n          y01 = y0 - y1,\n          l01_2 = x01 * x01 + y01 * y01;\n\n      // Is the radius negative? Error.\n      if (r < 0) throw new Error(\"negative radius: \" + r);\n\n      // Is this path empty? Move to (x1,y1).\n      if (this._x1 === null) {\n        this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n      }\n\n      // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n      else if (!(l01_2 > epsilon$1)) {}\n\n        // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n        // Equivalently, is (x1,y1) coincident with (x2,y2)?\n        // Or, is the radius zero? Line to (x1,y1).\n        else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n            this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n          }\n\n          // Otherwise, draw an arc!\n          else {\n              var x20 = x2 - x0,\n                  y20 = y2 - y0,\n                  l21_2 = x21 * x21 + y21 * y21,\n                  l20_2 = x20 * x20 + y20 * y20,\n                  l21 = Math.sqrt(l21_2),\n                  l01 = Math.sqrt(l01_2),\n                  l = r * Math.tan((pi$2 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n                  t01 = l / l01,\n                  t21 = l / l21;\n\n              // If the start tangent is not coincident with (x0,y0), line to.\n              if (Math.abs(t01 - 1) > epsilon$1) {\n                this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n              }\n\n              this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n            }\n    },\n    arc: function arc(x, y, r, a0, a1, ccw) {\n      x = +x, y = +y, r = +r;\n      var dx = r * Math.cos(a0),\n          dy = r * Math.sin(a0),\n          x0 = x + dx,\n          y0 = y + dy,\n          cw = 1 ^ ccw,\n          da = ccw ? a0 - a1 : a1 - a0;\n\n      // Is the radius negative? Error.\n      if (r < 0) throw new Error(\"negative radius: \" + r);\n\n      // Is this path empty? Move to (x0,y0).\n      if (this._x1 === null) {\n        this._ += \"M\" + x0 + \",\" + y0;\n      }\n\n      // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n      else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n          this._ += \"L\" + x0 + \",\" + y0;\n        }\n\n      // Is this arc empty? Were done.\n      if (!r) return;\n\n      // Does the angle go the wrong way? Flip the direction.\n      if (da < 0) da = da % tau$2 + tau$2;\n\n      // Is this a complete circle? Draw two arcs to complete the circle.\n      if (da > tauEpsilon) {\n        this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n      }\n\n      // Is this arc non-empty? Draw an arc!\n      else if (da > epsilon$1) {\n          this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi$2) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n        }\n    },\n    rect: function rect(x, y, w, h) {\n      this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n    },\n    toString: function toString() {\n      return this._;\n    }\n  };\n\n  function defaultSource(d) {\n    return d.source;\n  }\n\n  function defaultTarget(d) {\n    return d.target;\n  }\n\n  function defaultRadius(d) {\n    return d.radius;\n  }\n\n  function defaultStartAngle(d) {\n    return d.startAngle;\n  }\n\n  function defaultEndAngle(d) {\n    return d.endAngle;\n  }\n\n  var ribbon = function ribbon() {\n    var source = defaultSource,\n        target = defaultTarget,\n        radius = defaultRadius,\n        startAngle = defaultStartAngle,\n        endAngle = defaultEndAngle,\n        context = null;\n\n    function ribbon() {\n      var buffer,\n          argv = slice$2.call(arguments),\n          s = source.apply(this, argv),\n          t = target.apply(this, argv),\n          sr = +radius.apply(this, (argv[0] = s, argv)),\n          sa0 = startAngle.apply(this, argv) - halfPi$1,\n          sa1 = endAngle.apply(this, argv) - halfPi$1,\n          sx0 = sr * cos(sa0),\n          sy0 = sr * sin(sa0),\n          tr = +radius.apply(this, (argv[0] = t, argv)),\n          ta0 = startAngle.apply(this, argv) - halfPi$1,\n          ta1 = endAngle.apply(this, argv) - halfPi$1;\n\n      if (!context) context = buffer = path();\n\n      context.moveTo(sx0, sy0);\n      context.arc(0, 0, sr, sa0, sa1);\n      if (sa0 !== ta0 || sa1 !== ta1) {\n        // TODO sr !== tr?\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n      context.quadraticCurveTo(0, 0, sx0, sy0);\n      context.closePath();\n\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n\n    ribbon.radius = function (_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$5(+_), ribbon) : radius;\n    };\n\n    ribbon.startAngle = function (_) {\n      return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$5(+_), ribbon) : startAngle;\n    };\n\n    ribbon.endAngle = function (_) {\n      return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$5(+_), ribbon) : endAngle;\n    };\n\n    ribbon.source = function (_) {\n      return arguments.length ? (source = _, ribbon) : source;\n    };\n\n    ribbon.target = function (_) {\n      return arguments.length ? (target = _, ribbon) : target;\n    };\n\n    ribbon.context = function (_) {\n      return arguments.length ? (context = _ == null ? null : _, ribbon) : context;\n    };\n\n    return ribbon;\n  };\n\n  var prefix = \"$\";\n\n  function Map() {}\n\n  Map.prototype = map$1.prototype = {\n    constructor: Map,\n    has: function has(key) {\n      return prefix + key in this;\n    },\n    get: function get(key) {\n      return this[prefix + key];\n    },\n    set: function set(key, value) {\n      this[prefix + key] = value;\n      return this;\n    },\n    remove: function remove(key) {\n      var property = prefix + key;\n      return property in this && delete this[property];\n    },\n    clear: function clear() {\n      for (var property in this) {\n        if (property[0] === prefix) delete this[property];\n      }\n    },\n    keys: function keys() {\n      var keys = [];\n      for (var property in this) {\n        if (property[0] === prefix) keys.push(property.slice(1));\n      }return keys;\n    },\n    values: function values() {\n      var values = [];\n      for (var property in this) {\n        if (property[0] === prefix) values.push(this[property]);\n      }return values;\n    },\n    entries: function entries() {\n      var entries = [];\n      for (var property in this) {\n        if (property[0] === prefix) entries.push({ key: property.slice(1), value: this[property] });\n      }return entries;\n    },\n    size: function size() {\n      var size = 0;\n      for (var property in this) {\n        if (property[0] === prefix) ++size;\n      }return size;\n    },\n    empty: function empty() {\n      for (var property in this) {\n        if (property[0] === prefix) return false;\n      }return true;\n    },\n    each: function each(f) {\n      for (var property in this) {\n        if (property[0] === prefix) f(this[property], property.slice(1), this);\n      }\n    }\n  };\n\n  function map$1(object, f) {\n    var map = new Map();\n\n    // Copy constructor.\n    if (object instanceof Map) object.each(function (value, key) {\n      map.set(key, value);\n    });\n\n    // Index array by numeric index or specified key function.\n    else if (Array.isArray(object)) {\n        var i = -1,\n            n = object.length,\n            o;\n\n        if (f == null) while (++i < n) {\n          map.set(i, object[i]);\n        } else while (++i < n) {\n          map.set(f(o = object[i], i, object), o);\n        }\n      }\n\n      // Convert object to map.\n      else if (object) for (var key in object) {\n          map.set(key, object[key]);\n        }return map;\n  }\n\n  var nest = function nest() {\n    var keys = [],\n        _sortKeys = [],\n        _sortValues,\n        _rollup,\n        nest;\n\n    function apply(array, depth, createResult, setResult) {\n      if (depth >= keys.length) {\n        if (_sortValues != null) array.sort(_sortValues);\n        return _rollup != null ? _rollup(array) : array;\n      }\n\n      var i = -1,\n          n = array.length,\n          key = keys[depth++],\n          keyValue,\n          value,\n          valuesByKey = map$1(),\n          values,\n          result = createResult();\n\n      while (++i < n) {\n        if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n          values.push(value);\n        } else {\n          valuesByKey.set(keyValue, [value]);\n        }\n      }\n\n      valuesByKey.each(function (values, key) {\n        setResult(result, key, apply(values, depth, createResult, setResult));\n      });\n\n      return result;\n    }\n\n    function _entries(map, depth) {\n      if (++depth > keys.length) return map;\n      var array,\n          sortKey = _sortKeys[depth - 1];\n      if (_rollup != null && depth >= keys.length) array = map.entries();else array = [], map.each(function (v, k) {\n        array.push({ key: k, values: _entries(v, depth) });\n      });\n      return sortKey != null ? array.sort(function (a, b) {\n        return sortKey(a.key, b.key);\n      }) : array;\n    }\n\n    return nest = {\n      object: function object(array) {\n        return apply(array, 0, createObject, setObject);\n      },\n      map: function map(array) {\n        return apply(array, 0, createMap, setMap);\n      },\n      entries: function entries(array) {\n        return _entries(apply(array, 0, createMap, setMap), 0);\n      },\n      key: function key(d) {\n        keys.push(d);return nest;\n      },\n      sortKeys: function sortKeys(order) {\n        _sortKeys[keys.length - 1] = order;return nest;\n      },\n      sortValues: function sortValues(order) {\n        _sortValues = order;return nest;\n      },\n      rollup: function rollup(f) {\n        _rollup = f;return nest;\n      }\n    };\n  };\n\n  function createObject() {\n    return {};\n  }\n\n  function setObject(object, key, value) {\n    object[key] = value;\n  }\n\n  function createMap() {\n    return map$1();\n  }\n\n  function setMap(map, key, value) {\n    map.set(key, value);\n  }\n\n  function Set() {}\n\n  var proto = map$1.prototype;\n\n  Set.prototype = set$2.prototype = {\n    constructor: Set,\n    has: proto.has,\n    add: function add(value) {\n      value += \"\";\n      this[prefix + value] = value;\n      return this;\n    },\n    remove: proto.remove,\n    clear: proto.clear,\n    values: proto.keys,\n    size: proto.size,\n    empty: proto.empty,\n    each: proto.each\n  };\n\n  function set$2(object, f) {\n    var set = new Set();\n\n    // Copy constructor.\n    if (object instanceof Set) object.each(function (value) {\n      set.add(value);\n    });\n\n    // Otherwise, assume its an array.\n    else if (object) {\n        var i = -1,\n            n = object.length;\n        if (f == null) while (++i < n) {\n          set.add(object[i]);\n        } else while (++i < n) {\n          set.add(f(object[i], i, object));\n        }\n      }\n\n    return set;\n  }\n\n  var keys = function keys(map) {\n    var keys = [];\n    for (var key in map) {\n      keys.push(key);\n    }return keys;\n  };\n\n  var values = function values(map) {\n    var values = [];\n    for (var key in map) {\n      values.push(map[key]);\n    }return values;\n  };\n\n  var entries = function entries(map) {\n    var entries = [];\n    for (var key in map) {\n      entries.push({ key: key, value: map[key] });\n    }return entries;\n  };\n\n  function objectConverter(columns) {\n    return new Function(\"d\", \"return {\" + columns.map(function (name, i) {\n      return JSON.stringify(name) + \": d[\" + i + \"]\";\n    }).join(\",\") + \"}\");\n  }\n\n  function customConverter(columns, f) {\n    var object = objectConverter(columns);\n    return function (row, i) {\n      return f(object(row), i, columns);\n    };\n  }\n\n  // Compute unique columns in order of discovery.\n  function inferColumns(rows) {\n    var columnSet = Object.create(null),\n        columns = [];\n\n    rows.forEach(function (row) {\n      for (var column in row) {\n        if (!(column in columnSet)) {\n          columns.push(columnSet[column] = column);\n        }\n      }\n    });\n\n    return columns;\n  }\n\n  var dsv = function dsv(delimiter) {\n    var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n        delimiterCode = delimiter.charCodeAt(0);\n\n    function parse(text, f) {\n      var convert,\n          columns,\n          rows = parseRows(text, function (row, i) {\n        if (convert) return convert(row, i - 1);\n        columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n      });\n      rows.columns = columns;\n      return rows;\n    }\n\n    function parseRows(text, f) {\n      var EOL = {},\n          // sentinel value for end-of-line\n      EOF = {},\n          // sentinel value for end-of-file\n      rows = [],\n          // output rows\n      N = text.length,\n          I = 0,\n          // current character index\n      n = 0,\n          // the current line number\n      t,\n          // the current token\n      eol; // is the current token followed by EOL?\n\n      function token() {\n        if (I >= N) return EOF; // special case: end of file\n        if (eol) return eol = false, EOL; // special case: end of line\n\n        // special case: quotes\n        var j = I,\n            c;\n        if (text.charCodeAt(j) === 34) {\n          var i = j;\n          while (i++ < N) {\n            if (text.charCodeAt(i) === 34) {\n              if (text.charCodeAt(i + 1) !== 34) break;\n              ++i;\n            }\n          }\n          I = i + 2;\n          c = text.charCodeAt(i + 1);\n          if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(i + 2) === 10) ++I;\n          } else if (c === 10) {\n            eol = true;\n          }\n          return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n        }\n\n        // common case: find next delimiter or newline\n        while (I < N) {\n          var k = 1;\n          c = text.charCodeAt(I++);\n          if (c === 10) eol = true; // \\n\n          else if (c === 13) {\n              eol = true;if (text.charCodeAt(I) === 10) ++I, ++k;\n            } // \\r|\\r\\n\n            else if (c !== delimiterCode) continue;\n          return text.slice(j, I - k);\n        }\n\n        // special case: last token before EOF\n        return text.slice(j);\n      }\n\n      while ((t = token()) !== EOF) {\n        var a = [];\n        while (t !== EOL && t !== EOF) {\n          a.push(t);\n          t = token();\n        }\n        if (f && (a = f(a, n++)) == null) continue;\n        rows.push(a);\n      }\n\n      return rows;\n    }\n\n    function format(rows, columns) {\n      if (columns == null) columns = inferColumns(rows);\n      return [columns.map(formatValue).join(delimiter)].concat(rows.map(function (row) {\n        return columns.map(function (column) {\n          return formatValue(row[column]);\n        }).join(delimiter);\n      })).join(\"\\n\");\n    }\n\n    function formatRows(rows) {\n      return rows.map(formatRow).join(\"\\n\");\n    }\n\n    function formatRow(row) {\n      return row.map(formatValue).join(delimiter);\n    }\n\n    function formatValue(text) {\n      return text == null ? \"\" : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\" : text;\n    }\n\n    return {\n      parse: parse,\n      parseRows: parseRows,\n      format: format,\n      formatRows: formatRows\n    };\n  };\n\n  var csv = dsv(\",\");\n\n  var csvParse = csv.parse;\n  var csvParseRows = csv.parseRows;\n  var csvFormat = csv.format;\n  var csvFormatRows = csv.formatRows;\n\n  var tsv = dsv(\"\\t\");\n\n  var tsvParse = tsv.parse;\n  var tsvParseRows = tsv.parseRows;\n  var tsvFormat = tsv.format;\n  var tsvFormatRows = tsv.formatRows;\n\n  var center$1 = function center$1(x, y) {\n    var nodes;\n\n    if (x == null) x = 0;\n    if (y == null) y = 0;\n\n    function force() {\n      var i,\n          n = nodes.length,\n          node,\n          sx = 0,\n          sy = 0;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i], sx += node.x, sy += node.y;\n      }\n\n      for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n        node = nodes[i], node.x -= sx, node.y -= sy;\n      }\n    }\n\n    force.initialize = function (_) {\n      nodes = _;\n    };\n\n    force.x = function (_) {\n      return arguments.length ? (x = +_, force) : x;\n    };\n\n    force.y = function (_) {\n      return arguments.length ? (y = +_, force) : y;\n    };\n\n    return force;\n  };\n\n  var constant$6 = function constant$6(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  var jiggle = function jiggle() {\n    return (Math.random() - 0.5) * 1e-6;\n  };\n\n  var tree_add = function tree_add(d) {\n    var x = +this._x.call(null, d),\n        y = +this._y.call(null, d);\n    return add(this.cover(x, y), x, y, d);\n  };\n\n  function add(tree, x, y, d) {\n    if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n    var parent,\n        node = tree._root,\n        leaf = { data: d },\n        x0 = tree._x0,\n        y0 = tree._y0,\n        x1 = tree._x1,\n        y1 = tree._y1,\n        xm,\n        ym,\n        xp,\n        yp,\n        right,\n        bottom,\n        i,\n        j;\n\n    // If the tree is empty, initialize the root as a leaf.\n    if (!node) return tree._root = leaf, tree;\n\n    // Find the existing leaf for the new point, or add it.\n    while (node.length) {\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n      if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n    }\n\n    // Is the new point is exactly coincident with the existing point?\n    xp = +tree._x.call(null, node.data);\n    yp = +tree._y.call(null, node.data);\n    if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n    // Otherwise, split the leaf node until the old and new point are separated.\n    do {\n      parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | xp >= xm));\n    return parent[j] = node, parent[i] = leaf, tree;\n  }\n\n  function addAll(data) {\n    var d,\n        i,\n        n = data.length,\n        x,\n        y,\n        xz = new Array(n),\n        yz = new Array(n),\n        x0 = Infinity,\n        y0 = Infinity,\n        x1 = -Infinity,\n        y1 = -Infinity;\n\n    // Compute the points and their extent.\n    for (i = 0; i < n; ++i) {\n      if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n      xz[i] = x;\n      yz[i] = y;\n      if (x < x0) x0 = x;\n      if (x > x1) x1 = x;\n      if (y < y0) y0 = y;\n      if (y > y1) y1 = y;\n    }\n\n    // If there were no (valid) points, inherit the existing extent.\n    if (x1 < x0) x0 = this._x0, x1 = this._x1;\n    if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n    // Expand the tree to cover the new points.\n    this.cover(x0, y0).cover(x1, y1);\n\n    // Add the new points.\n    for (i = 0; i < n; ++i) {\n      add(this, xz[i], yz[i], data[i]);\n    }\n\n    return this;\n  }\n\n  var tree_cover = function tree_cover(x, y) {\n    if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n    var x0 = this._x0,\n        y0 = this._y0,\n        x1 = this._x1,\n        y1 = this._y1;\n\n    // If the quadtree has no extent, initialize them.\n    // Integer extent are necessary so that if we later double the extent,\n    // the existing quadrant boundaries dont change due to floating point error!\n    if (isNaN(x0)) {\n      x1 = (x0 = Math.floor(x)) + 1;\n      y1 = (y0 = Math.floor(y)) + 1;\n    }\n\n    // Otherwise, double repeatedly to cover.\n    else if (x0 > x || x > x1 || y0 > y || y > y1) {\n        var z = x1 - x0,\n            node = this._root,\n            parent,\n            i;\n\n        switch (i = (y < (y0 + y1) / 2) << 1 | x < (x0 + x1) / 2) {\n          case 0:\n            {\n              do {\n                parent = new Array(4), parent[i] = node, node = parent;\n              } while ((z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1));\n              break;\n            }\n          case 1:\n            {\n              do {\n                parent = new Array(4), parent[i] = node, node = parent;\n              } while ((z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1));\n              break;\n            }\n          case 2:\n            {\n              do {\n                parent = new Array(4), parent[i] = node, node = parent;\n              } while ((z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y));\n              break;\n            }\n          case 3:\n            {\n              do {\n                parent = new Array(4), parent[i] = node, node = parent;\n              } while ((z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y));\n              break;\n            }\n        }\n\n        if (this._root && this._root.length) this._root = node;\n      }\n\n      // If the quadtree covers the point already, just return.\n      else return this;\n\n    this._x0 = x0;\n    this._y0 = y0;\n    this._x1 = x1;\n    this._y1 = y1;\n    return this;\n  };\n\n  var tree_data = function tree_data() {\n    var data = [];\n    this.visit(function (node) {\n      if (!node.length) do {\n        data.push(node.data);\n      } while (node = node.next);\n    });\n    return data;\n  };\n\n  var tree_extent = function tree_extent(_) {\n    return arguments.length ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1]) : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n  };\n\n  var Quad = function Quad(node, x0, y0, x1, y1) {\n    this.node = node;\n    this.x0 = x0;\n    this.y0 = y0;\n    this.x1 = x1;\n    this.y1 = y1;\n  };\n\n  var tree_find = function tree_find(x, y, radius) {\n    var data,\n        x0 = this._x0,\n        y0 = this._y0,\n        x1,\n        y1,\n        x2,\n        y2,\n        x3 = this._x1,\n        y3 = this._y1,\n        quads = [],\n        node = this._root,\n        q,\n        i;\n\n    if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n    if (radius == null) radius = Infinity;else {\n      x0 = x - radius, y0 = y - radius;\n      x3 = x + radius, y3 = y + radius;\n      radius *= radius;\n    }\n\n    while (q = quads.pop()) {\n\n      // Stop searching if this quadrant cant contain a closer node.\n      if (!(node = q.node) || (x1 = q.x0) > x3 || (y1 = q.y0) > y3 || (x2 = q.x1) < x0 || (y2 = q.y1) < y0) continue;\n\n      // Bisect the current quadrant.\n      if (node.length) {\n        var xm = (x1 + x2) / 2,\n            ym = (y1 + y2) / 2;\n\n        quads.push(new Quad(node[3], xm, ym, x2, y2), new Quad(node[2], x1, ym, xm, y2), new Quad(node[1], xm, y1, x2, ym), new Quad(node[0], x1, y1, xm, ym));\n\n        // Visit the closest quadrant first.\n        if (i = (y >= ym) << 1 | x >= xm) {\n          q = quads[quads.length - 1];\n          quads[quads.length - 1] = quads[quads.length - 1 - i];\n          quads[quads.length - 1 - i] = q;\n        }\n      }\n\n      // Visit this point. (Visiting coincident points isnt necessary!)\n      else {\n          var dx = x - +this._x.call(null, node.data),\n              dy = y - +this._y.call(null, node.data),\n              d2 = dx * dx + dy * dy;\n          if (d2 < radius) {\n            var d = Math.sqrt(radius = d2);\n            x0 = x - d, y0 = y - d;\n            x3 = x + d, y3 = y + d;\n            data = node.data;\n          }\n        }\n    }\n\n    return data;\n  };\n\n  var tree_remove = function tree_remove(d) {\n    if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n    var parent,\n        node = this._root,\n        retainer,\n        previous,\n        next,\n        x0 = this._x0,\n        y0 = this._y0,\n        x1 = this._x1,\n        y1 = this._y1,\n        x,\n        y,\n        xm,\n        ym,\n        right,\n        bottom,\n        i,\n        j;\n\n    // If the tree is empty, initialize the root as a leaf.\n    if (!node) return this;\n\n    // Find the leaf node for the point.\n    // While descending, also retain the deepest parent with a non-removed sibling.\n    if (node.length) while (true) {\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n      if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n      if (!node.length) break;\n      if (parent[i + 1 & 3] || parent[i + 2 & 3] || parent[i + 3 & 3]) retainer = parent, j = i;\n    }\n\n    // Find the point to remove.\n    while (node.data !== d) {\n      if (!(previous = node, node = node.next)) return this;\n    }if (next = node.next) delete node.next;\n\n    // If there are multiple coincident points, remove just the point.\n    if (previous) return next ? previous.next = next : delete previous.next, this;\n\n    // If this is the root point, remove it.\n    if (!parent) return this._root = next, this;\n\n    // Remove this leaf.\n    next ? parent[i] = next : delete parent[i];\n\n    // If the parent now contains exactly one leaf, collapse superfluous parents.\n    if ((node = parent[0] || parent[1] || parent[2] || parent[3]) && node === (parent[3] || parent[2] || parent[1] || parent[0]) && !node.length) {\n      if (retainer) retainer[j] = node;else this._root = node;\n    }\n\n    return this;\n  };\n\n  function removeAll(data) {\n    for (var i = 0, n = data.length; i < n; ++i) {\n      this.remove(data[i]);\n    }return this;\n  }\n\n  var tree_root = function tree_root() {\n    return this._root;\n  };\n\n  var tree_size = function tree_size() {\n    var size = 0;\n    this.visit(function (node) {\n      if (!node.length) do {\n        ++size;\n      } while (node = node.next);\n    });\n    return size;\n  };\n\n  var tree_visit = function tree_visit(callback) {\n    var quads = [],\n        q,\n        node = this._root,\n        child,\n        x0,\n        y0,\n        x1,\n        y1;\n    if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n    while (q = quads.pop()) {\n      if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n        var xm = (x0 + x1) / 2,\n            ym = (y0 + y1) / 2;\n        if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n        if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n        if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n        if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      }\n    }\n    return this;\n  };\n\n  var tree_visitAfter = function tree_visitAfter(callback) {\n    var quads = [],\n        next = [],\n        q;\n    if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n    while (q = quads.pop()) {\n      var node = q.node;\n      if (node.length) {\n        var child,\n            x0 = q.x0,\n            y0 = q.y0,\n            x1 = q.x1,\n            y1 = q.y1,\n            xm = (x0 + x1) / 2,\n            ym = (y0 + y1) / 2;\n        if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n        if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n        if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n        if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      }\n      next.push(q);\n    }\n    while (q = next.pop()) {\n      callback(q.node, q.x0, q.y0, q.x1, q.y1);\n    }\n    return this;\n  };\n\n  function defaultX(d) {\n    return d[0];\n  }\n\n  var tree_x = function tree_x(_) {\n    return arguments.length ? (this._x = _, this) : this._x;\n  };\n\n  function defaultY(d) {\n    return d[1];\n  }\n\n  var tree_y = function tree_y(_) {\n    return arguments.length ? (this._y = _, this) : this._y;\n  };\n\n  function quadtree(nodes, x, y) {\n    var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n    return nodes == null ? tree : tree.addAll(nodes);\n  }\n\n  function Quadtree(x, y, x0, y0, x1, y1) {\n    this._x = x;\n    this._y = y;\n    this._x0 = x0;\n    this._y0 = y0;\n    this._x1 = x1;\n    this._y1 = y1;\n    this._root = undefined;\n  }\n\n  function leaf_copy(leaf) {\n    var copy = { data: leaf.data },\n        next = copy;\n    while (leaf = leaf.next) {\n      next = next.next = { data: leaf.data };\n    }return copy;\n  }\n\n  var treeProto = quadtree.prototype = Quadtree.prototype;\n\n  treeProto.copy = function () {\n    var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n        node = this._root,\n        nodes,\n        child;\n\n    if (!node) return copy;\n\n    if (!node.length) return copy._root = leaf_copy(node), copy;\n\n    nodes = [{ source: node, target: copy._root = new Array(4) }];\n    while (node = nodes.pop()) {\n      for (var i = 0; i < 4; ++i) {\n        if (child = node.source[i]) {\n          if (child.length) nodes.push({ source: child, target: node.target[i] = new Array(4) });else node.target[i] = leaf_copy(child);\n        }\n      }\n    }\n\n    return copy;\n  };\n\n  treeProto.add = tree_add;\n  treeProto.addAll = addAll;\n  treeProto.cover = tree_cover;\n  treeProto.data = tree_data;\n  treeProto.extent = tree_extent;\n  treeProto.find = tree_find;\n  treeProto.remove = tree_remove;\n  treeProto.removeAll = removeAll;\n  treeProto.root = tree_root;\n  treeProto.size = tree_size;\n  treeProto.visit = tree_visit;\n  treeProto.visitAfter = tree_visitAfter;\n  treeProto.x = tree_x;\n  treeProto.y = tree_y;\n\n  function x(d) {\n    return d.x + d.vx;\n  }\n\n  function y(d) {\n    return d.y + d.vy;\n  }\n\n  var collide = function collide(radius) {\n    var nodes,\n        radii,\n        strength = 1,\n        iterations = 1;\n\n    if (typeof radius !== \"function\") radius = constant$6(radius == null ? 1 : +radius);\n\n    function force() {\n      var i,\n          n = nodes.length,\n          tree,\n          node,\n          xi,\n          yi,\n          ri,\n          ri2;\n\n      for (var k = 0; k < iterations; ++k) {\n        tree = quadtree(nodes, x, y).visitAfter(prepare);\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          ri = radii[node.index], ri2 = ri * ri;\n          xi = node.x + node.vx;\n          yi = node.y + node.vy;\n          tree.visit(apply);\n        }\n      }\n\n      function apply(quad, x0, y0, x1, y1) {\n        var data = quad.data,\n            rj = quad.r,\n            r = ri + rj;\n        if (data) {\n          if (data.index > node.index) {\n            var x = xi - data.x - data.vx,\n                y = yi - data.y - data.vy,\n                l = x * x + y * y;\n            if (l < r * r) {\n              if (x === 0) x = jiggle(), l += x * x;\n              if (y === 0) y = jiggle(), l += y * y;\n              l = (r - (l = Math.sqrt(l))) / l * strength;\n              node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n              node.vy += (y *= l) * r;\n              data.vx -= x * (r = 1 - r);\n              data.vy -= y * r;\n            }\n          }\n          return;\n        }\n        return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n      }\n    }\n\n    function prepare(quad) {\n      if (quad.data) return quad.r = radii[quad.data.index];\n      for (var i = quad.r = 0; i < 4; ++i) {\n        if (quad[i] && quad[i].r > quad.r) {\n          quad.r = quad[i].r;\n        }\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      var i,\n          n = nodes.length,\n          node;\n      radii = new Array(n);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n      }\n    }\n\n    force.initialize = function (_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.iterations = function (_) {\n      return arguments.length ? (iterations = +_, force) : iterations;\n    };\n\n    force.strength = function (_) {\n      return arguments.length ? (strength = +_, force) : strength;\n    };\n\n    force.radius = function (_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : radius;\n    };\n\n    return force;\n  };\n\n  function index(d) {\n    return d.index;\n  }\n\n  function find(nodeById, nodeId) {\n    var node = nodeById.get(nodeId);\n    if (!node) throw new Error(\"missing: \" + nodeId);\n    return node;\n  }\n\n  var link = function link(links) {\n    var id = index,\n        strength = defaultStrength,\n        strengths,\n        distance = constant$6(30),\n        distances,\n        nodes,\n        count,\n        bias,\n        iterations = 1;\n\n    if (links == null) links = [];\n\n    function defaultStrength(link) {\n      return 1 / Math.min(count[link.source.index], count[link.target.index]);\n    }\n\n    function force(alpha) {\n      for (var k = 0, n = links.length; k < iterations; ++k) {\n        for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n          link = links[i], source = link.source, target = link.target;\n          x = target.x + target.vx - source.x - source.vx || jiggle();\n          y = target.y + target.vy - source.y - source.vy || jiggle();\n          l = Math.sqrt(x * x + y * y);\n          l = (l - distances[i]) / l * alpha * strengths[i];\n          x *= l, y *= l;\n          target.vx -= x * (b = bias[i]);\n          target.vy -= y * b;\n          source.vx += x * (b = 1 - b);\n          source.vy += y * b;\n        }\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n\n      var i,\n          n = nodes.length,\n          m = links.length,\n          nodeById = map$1(nodes, id),\n          link;\n\n      for (i = 0, count = new Array(n); i < m; ++i) {\n        link = links[i], link.index = i;\n        if (_typeof(link.source) !== \"object\") link.source = find(nodeById, link.source);\n        if (_typeof(link.target) !== \"object\") link.target = find(nodeById, link.target);\n        count[link.source.index] = (count[link.source.index] || 0) + 1;\n        count[link.target.index] = (count[link.target.index] || 0) + 1;\n      }\n\n      for (i = 0, bias = new Array(m); i < m; ++i) {\n        link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n      }\n\n      strengths = new Array(m), initializeStrength();\n      distances = new Array(m), initializeDistance();\n    }\n\n    function initializeStrength() {\n      if (!nodes) return;\n\n      for (var i = 0, n = links.length; i < n; ++i) {\n        strengths[i] = +strength(links[i], i, links);\n      }\n    }\n\n    function initializeDistance() {\n      if (!nodes) return;\n\n      for (var i = 0, n = links.length; i < n; ++i) {\n        distances[i] = +distance(links[i], i, links);\n      }\n    }\n\n    force.initialize = function (_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.links = function (_) {\n      return arguments.length ? (links = _, initialize(), force) : links;\n    };\n\n    force.id = function (_) {\n      return arguments.length ? (id = _, force) : id;\n    };\n\n    force.iterations = function (_) {\n      return arguments.length ? (iterations = +_, force) : iterations;\n    };\n\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initializeStrength(), force) : strength;\n    };\n\n    force.distance = function (_) {\n      return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant$6(+_), initializeDistance(), force) : distance;\n    };\n\n    return force;\n  };\n\n  function x$1(d) {\n    return d.x;\n  }\n\n  function y$1(d) {\n    return d.y;\n  }\n\n  var initialRadius = 10;\n  var initialAngle = Math.PI * (3 - Math.sqrt(5));\n\n  var simulation = function simulation(_nodes) {\n    var simulation,\n        _alpha = 1,\n        _alphaMin = 0.001,\n        _alphaDecay = 1 - Math.pow(_alphaMin, 1 / 300),\n        _alphaTarget = 0,\n        _velocityDecay = 0.6,\n        forces = map$1(),\n        stepper = timer(step),\n        event = dispatch(\"tick\", \"end\");\n\n    if (_nodes == null) _nodes = [];\n\n    function step() {\n      tick();\n      event.call(\"tick\", simulation);\n      if (_alpha < _alphaMin) {\n        stepper.stop();\n        event.call(\"end\", simulation);\n      }\n    }\n\n    function tick() {\n      var i,\n          n = _nodes.length,\n          node;\n\n      _alpha += (_alphaTarget - _alpha) * _alphaDecay;\n\n      forces.each(function (force) {\n        force(_alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = _nodes[i];\n        if (node.fx == null) node.x += node.vx *= _velocityDecay;else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= _velocityDecay;else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    function initializeNodes() {\n      for (var i = 0, n = _nodes.length, node; i < n; ++i) {\n        node = _nodes[i], node.index = i;\n        if (isNaN(node.x) || isNaN(node.y)) {\n          var radius = initialRadius * Math.sqrt(i),\n              angle = i * initialAngle;\n          node.x = radius * Math.cos(angle);\n          node.y = radius * Math.sin(angle);\n        }\n        if (isNaN(node.vx) || isNaN(node.vy)) {\n          node.vx = node.vy = 0;\n        }\n      }\n    }\n\n    function initializeForce(force) {\n      if (force.initialize) force.initialize(_nodes);\n      return force;\n    }\n\n    initializeNodes();\n\n    return simulation = {\n      tick: tick,\n\n      restart: function restart() {\n        return stepper.restart(step), simulation;\n      },\n\n      stop: function stop() {\n        return stepper.stop(), simulation;\n      },\n\n      nodes: function nodes(_) {\n        return arguments.length ? (_nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : _nodes;\n      },\n\n      alpha: function alpha(_) {\n        return arguments.length ? (_alpha = +_, simulation) : _alpha;\n      },\n\n      alphaMin: function alphaMin(_) {\n        return arguments.length ? (_alphaMin = +_, simulation) : _alphaMin;\n      },\n\n      alphaDecay: function alphaDecay(_) {\n        return arguments.length ? (_alphaDecay = +_, simulation) : +_alphaDecay;\n      },\n\n      alphaTarget: function alphaTarget(_) {\n        return arguments.length ? (_alphaTarget = +_, simulation) : _alphaTarget;\n      },\n\n      velocityDecay: function velocityDecay(_) {\n        return arguments.length ? (_velocityDecay = 1 - _, simulation) : 1 - _velocityDecay;\n      },\n\n      force: function force(name, _) {\n        return arguments.length > 1 ? (_ == null ? forces.remove(name) : forces.set(name, initializeForce(_)), simulation) : forces.get(name);\n      },\n\n      find: function find(x, y, radius) {\n        var i = 0,\n            n = _nodes.length,\n            dx,\n            dy,\n            d2,\n            node,\n            closest;\n\n        if (radius == null) radius = Infinity;else radius *= radius;\n\n        for (i = 0; i < n; ++i) {\n          node = _nodes[i];\n          dx = x - node.x;\n          dy = y - node.y;\n          d2 = dx * dx + dy * dy;\n          if (d2 < radius) closest = node, radius = d2;\n        }\n\n        return closest;\n      },\n\n      on: function on(name, _) {\n        return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n      }\n    };\n  };\n\n  var manyBody = function manyBody() {\n    var nodes,\n        node,\n        alpha,\n        strength = constant$6(-30),\n        strengths,\n        distanceMin2 = 1,\n        distanceMax2 = Infinity,\n        theta2 = 0.81;\n\n    function force(_) {\n      var i,\n          n = nodes.length,\n          tree = quadtree(nodes, x$1, y$1).visitAfter(accumulate);\n      for (alpha = _, i = 0; i < n; ++i) {\n        node = nodes[i], tree.visit(apply);\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      var i,\n          n = nodes.length,\n          node;\n      strengths = new Array(n);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n      }\n    }\n\n    function accumulate(quad) {\n      var strength = 0,\n          q,\n          c,\n          x,\n          y,\n          i;\n\n      // For internal nodes, accumulate forces from child quadrants.\n      if (quad.length) {\n        for (x = y = i = 0; i < 4; ++i) {\n          if ((q = quad[i]) && (c = q.value)) {\n            strength += c, x += c * q.x, y += c * q.y;\n          }\n        }\n        quad.x = x / strength;\n        quad.y = y / strength;\n      }\n\n      // For leaf nodes, accumulate forces from coincident quadrants.\n      else {\n          q = quad;\n          q.x = q.data.x;\n          q.y = q.data.y;\n          do {\n            strength += strengths[q.data.index];\n          } while (q = q.next);\n        }\n\n      quad.value = strength;\n    }\n\n    function apply(quad, x1, _, x2) {\n      if (!quad.value) return true;\n\n      var x = quad.x - node.x,\n          y = quad.y - node.y,\n          w = x2 - x1,\n          l = x * x + y * y;\n\n      // Apply the Barnes-Hut approximation if possible.\n      // Limit forces for very close nodes; randomize direction if coincident.\n      if (w * w / theta2 < l) {\n        if (l < distanceMax2) {\n          if (x === 0) x = jiggle(), l += x * x;\n          if (y === 0) y = jiggle(), l += y * y;\n          if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n          node.vx += x * quad.value * alpha / l;\n          node.vy += y * quad.value * alpha / l;\n        }\n        return true;\n      }\n\n      // Otherwise, process points directly.\n      else if (quad.length || l >= distanceMax2) return;\n\n      // Limit forces for very close nodes; randomize direction if coincident.\n      if (quad.data !== node || quad.next) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n      }\n\n      do {\n        if (quad.data !== node) {\n          w = strengths[quad.data.index] * alpha / l;\n          node.vx += x * w;\n          node.vy += y * w;\n        }\n      } while (quad = quad.next);\n    }\n\n    force.initialize = function (_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n    };\n\n    force.distanceMin = function (_) {\n      return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n    };\n\n    force.distanceMax = function (_) {\n      return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n    };\n\n    force.theta = function (_) {\n      return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n    };\n\n    return force;\n  };\n\n  var x$2 = function x$2(x) {\n    var strength = constant$6(0.1),\n        nodes,\n        strengths,\n        xz;\n\n    if (typeof x !== \"function\") x = constant$6(x == null ? 0 : +x);\n\n    function force(alpha) {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      var i,\n          n = nodes.length;\n      strengths = new Array(n);\n      xz = new Array(n);\n      for (i = 0; i < n; ++i) {\n        strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n      }\n    }\n\n    force.initialize = function (_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n    };\n\n    force.x = function (_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : x;\n    };\n\n    return force;\n  };\n\n  var y$2 = function y$2(y) {\n    var strength = constant$6(0.1),\n        nodes,\n        strengths,\n        yz;\n\n    if (typeof y !== \"function\") y = constant$6(y == null ? 0 : +y);\n\n    function force(alpha) {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      var i,\n          n = nodes.length;\n      strengths = new Array(n);\n      yz = new Array(n);\n      for (i = 0; i < n; ++i) {\n        strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n      }\n    }\n\n    force.initialize = function (_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n    };\n\n    force.y = function (_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : y;\n    };\n\n    return force;\n  };\n\n  // Computes the decimal coefficient and exponent of the specified number x with\n  // significant digits p, where x is positive and p is in [1, 21] or undefined.\n  // For example, formatDecimal(1.23) returns [\"123\", 0].\n  var formatDecimal = function formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n    var i,\n        coefficient = x.slice(0, i);\n\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n  };\n\n  var exponent$1 = function exponent$1(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n  };\n\n  var formatGroup = function formatGroup(grouping, thousands) {\n    return function (value, width) {\n      var i = value.length,\n          t = [],\n          j = 0,\n          g = grouping[0],\n          length = 0;\n\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = grouping[j = (j + 1) % grouping.length];\n      }\n\n      return t.reverse().join(thousands);\n    };\n  };\n\n  var formatNumerals = function formatNumerals(numerals) {\n    return function (value) {\n      return value.replace(/[0-9]/g, function (i) {\n        return numerals[+i];\n      });\n    };\n  };\n\n  var formatDefault = function formatDefault(x, p) {\n    x = x.toPrecision(p);\n\n    out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n      switch (x[i]) {\n        case \".\":\n          i0 = i1 = i;break;\n        case \"0\":\n          if (i0 === 0) i0 = i;i1 = i;break;\n        case \"e\":\n          break out;\n        default:\n          if (i0 > 0) i0 = 0;break;\n      }\n    }\n\n    return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n  };\n\n  var prefixExponent;\n\n  var formatPrefixAuto = function formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1],\n        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n        n = coefficient.length;\n    return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n  };\n\n  var formatRounded = function formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n  };\n\n  var formatTypes = {\n    \"\": formatDefault,\n    \"%\": function _(x, p) {\n      return (x * 100).toFixed(p);\n    },\n    \"b\": function b(x) {\n      return Math.round(x).toString(2);\n    },\n    \"c\": function c(x) {\n      return x + \"\";\n    },\n    \"d\": function d(x) {\n      return Math.round(x).toString(10);\n    },\n    \"e\": function e(x, p) {\n      return x.toExponential(p);\n    },\n    \"f\": function f(x, p) {\n      return x.toFixed(p);\n    },\n    \"g\": function g(x, p) {\n      return x.toPrecision(p);\n    },\n    \"o\": function o(x) {\n      return Math.round(x).toString(8);\n    },\n    \"p\": function p(x, _p) {\n      return formatRounded(x * 100, _p);\n    },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function X(x) {\n      return Math.round(x).toString(16).toUpperCase();\n    },\n    \"x\": function x(_x) {\n      return Math.round(_x).toString(16);\n    }\n  };\n\n  // [[fill]align][sign][symbol][0][width][,][.precision][type]\n  var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n  function formatSpecifier(specifier) {\n    return new FormatSpecifier(specifier);\n  }\n\n  formatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\n  function FormatSpecifier(specifier) {\n    if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n    var match,\n        fill = match[1] || \" \",\n        align = match[2] || \">\",\n        sign = match[3] || \"-\",\n        symbol = match[4] || \"\",\n        zero = !!match[5],\n        width = match[6] && +match[6],\n        comma = !!match[7],\n        precision = match[8] && +match[8].slice(1),\n        type = match[9] || \"\";\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // Map invalid types to the default format.\n    else if (!formatTypes[type]) type = \"\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\";\n\n    this.fill = fill;\n    this.align = align;\n    this.sign = sign;\n    this.symbol = symbol;\n    this.zero = zero;\n    this.width = width;\n    this.comma = comma;\n    this.precision = precision;\n    this.type = type;\n  }\n\n  FormatSpecifier.prototype.toString = function () {\n    return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width == null ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0)) + this.type;\n  };\n\n  var identity$3 = function identity$3(x) {\n    return x;\n  };\n\n  var prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"\\xB5\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\n\n  var formatLocale = function formatLocale(locale) {\n    var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity$3,\n        currency = locale.currency,\n        decimal = locale.decimal,\n        numerals = locale.numerals ? formatNumerals(locale.numerals) : identity$3,\n        percent = locale.percent || \"%\";\n\n    function newFormat(specifier) {\n      specifier = formatSpecifier(specifier);\n\n      var fill = specifier.fill,\n          align = specifier.align,\n          sign = specifier.sign,\n          symbol = specifier.symbol,\n          zero = specifier.zero,\n          width = specifier.width,\n          comma = specifier.comma,\n          precision = specifier.precision,\n          type = specifier.type;\n\n      // Compute the prefix and suffix.\n      // For SI-prefix, the suffix is lazily computed.\n      var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n          suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n      // What format function should we use?\n      // Is this an integer type?\n      // Can this type generate exponential notation?\n      var formatType = formatTypes[type],\n          maybeSuffix = !type || /[defgprs%]/.test(type);\n\n      // Set the default precision if not specified,\n      // or clamp the specified precision to the supported range.\n      // For significant precision, it must be in [1, 21].\n      // For fixed precision, it must be in [0, 20].\n      precision = precision == null ? type ? 6 : 12 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n\n      function format(value) {\n        var valuePrefix = prefix,\n            valueSuffix = suffix,\n            i,\n            n,\n            c;\n\n        if (type === \"c\") {\n          valueSuffix = formatType(value) + valueSuffix;\n          value = \"\";\n        } else {\n          value = +value;\n\n          // Perform the initial formatting.\n          var valueNegative = value < 0;\n          value = formatType(Math.abs(value), precision);\n\n          // If a negative value rounds to zero during formatting, treat as positive.\n          if (valueNegative && +value === 0) valueNegative = false;\n\n          // Compute the prefix and suffix.\n          valuePrefix = (valueNegative ? sign === \"(\" ? sign : \"-\" : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n          valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n          // Break the formatted value into the integer value part that can be\n          // grouped, and fractional or exponential suffix part that is not.\n          if (maybeSuffix) {\n            i = -1, n = value.length;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                value = value.slice(0, i);\n                break;\n              }\n            }\n          }\n        }\n\n        // If the fill character is not \"0\", grouping is applied before padding.\n        if (comma && !zero) value = group(value, Infinity);\n\n        // Compute the padding.\n        var length = valuePrefix.length + value.length + valueSuffix.length,\n            padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n        // If the fill character is \"0\", grouping is applied after padding.\n        if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n        // Reconstruct the final output based on the desired alignment.\n        switch (align) {\n          case \"<\":\n            value = valuePrefix + value + valueSuffix + padding;break;\n          case \"=\":\n            value = valuePrefix + padding + value + valueSuffix;break;\n          case \"^\":\n            value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);break;\n          default:\n            value = padding + valuePrefix + value + valueSuffix;break;\n        }\n\n        return numerals(value);\n      }\n\n      format.toString = function () {\n        return specifier + \"\";\n      };\n\n      return format;\n    }\n\n    function formatPrefix(specifier, value) {\n      var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n          e = Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3,\n          k = Math.pow(10, -e),\n          prefix = prefixes[8 + e / 3];\n      return function (value) {\n        return f(k * value) + prefix;\n      };\n    }\n\n    return {\n      format: newFormat,\n      formatPrefix: formatPrefix\n    };\n  };\n\n  var locale$1;\n\n  defaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  });\n\n  function defaultLocale(definition) {\n    locale$1 = formatLocale(definition);\n    exports.format = locale$1.format;\n    exports.formatPrefix = locale$1.formatPrefix;\n    return locale$1;\n  }\n\n  var precisionFixed = function precisionFixed(step) {\n    return Math.max(0, -exponent$1(Math.abs(step)));\n  };\n\n  var precisionPrefix = function precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3 - exponent$1(Math.abs(step)));\n  };\n\n  var precisionRound = function precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent$1(max) - exponent$1(step)) + 1;\n  };\n\n  // Adds floating point numbers with twice the normal precision.\n  // Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n  // Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n  // 305363 (1997).\n  // Code adapted from GeographicLib by Charles F. F. Karney,\n  // http://geographiclib.sourceforge.net/\n\n  var adder = function adder() {\n    return new Adder();\n  };\n\n  function Adder() {\n    this.reset();\n  }\n\n  Adder.prototype = {\n    constructor: Adder,\n    reset: function reset() {\n      this.s = // rounded value\n      this.t = 0; // exact error\n    },\n    add: function add(y) {\n      add$1(temp, y, this.t);\n      add$1(this, temp.s, this.s);\n      if (this.s) this.t += temp.t;else this.s = temp.t;\n    },\n    valueOf: function valueOf() {\n      return this.s;\n    }\n  };\n\n  var temp = new Adder();\n\n  function add$1(adder, a, b) {\n    var x = adder.s = a + b,\n        bv = x - a,\n        av = x - bv;\n    adder.t = a - av + (b - bv);\n  }\n\n  var epsilon$2 = 1e-6;\n  var epsilon2$1 = 1e-12;\n  var pi$3 = Math.PI;\n  var halfPi$2 = pi$3 / 2;\n  var quarterPi = pi$3 / 4;\n  var tau$3 = pi$3 * 2;\n\n  var degrees$1 = 180 / pi$3;\n  var radians = pi$3 / 180;\n\n  var abs = Math.abs;\n  var atan = Math.atan;\n  var atan2 = Math.atan2;\n  var cos$1 = Math.cos;\n  var ceil = Math.ceil;\n  var exp = Math.exp;\n\n  var log = Math.log;\n  var pow = Math.pow;\n  var sin$1 = Math.sin;\n  var sign = Math.sign || function (x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n  };\n  var sqrt = Math.sqrt;\n  var tan = Math.tan;\n\n  function acos(x) {\n    return x > 1 ? 0 : x < -1 ? pi$3 : Math.acos(x);\n  }\n\n  function asin(x) {\n    return x > 1 ? halfPi$2 : x < -1 ? -halfPi$2 : Math.asin(x);\n  }\n\n  function haversin(x) {\n    return (x = sin$1(x / 2)) * x;\n  }\n\n  function noop$1() {}\n\n  function streamGeometry(geometry, stream) {\n    if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n      streamGeometryType[geometry.type](geometry, stream);\n    }\n  }\n\n  var streamObjectType = {\n    Feature: function Feature(object, stream) {\n      streamGeometry(object.geometry, stream);\n    },\n    FeatureCollection: function FeatureCollection(object, stream) {\n      var features = object.features,\n          i = -1,\n          n = features.length;\n      while (++i < n) {\n        streamGeometry(features[i].geometry, stream);\n      }\n    }\n  };\n\n  var streamGeometryType = {\n    Sphere: function Sphere(object, stream) {\n      stream.sphere();\n    },\n    Point: function Point(object, stream) {\n      object = object.coordinates;\n      stream.point(object[0], object[1], object[2]);\n    },\n    MultiPoint: function MultiPoint(object, stream) {\n      var coordinates = object.coordinates,\n          i = -1,\n          n = coordinates.length;\n      while (++i < n) {\n        object = coordinates[i], stream.point(object[0], object[1], object[2]);\n      }\n    },\n    LineString: function LineString(object, stream) {\n      streamLine(object.coordinates, stream, 0);\n    },\n    MultiLineString: function MultiLineString(object, stream) {\n      var coordinates = object.coordinates,\n          i = -1,\n          n = coordinates.length;\n      while (++i < n) {\n        streamLine(coordinates[i], stream, 0);\n      }\n    },\n    Polygon: function Polygon(object, stream) {\n      streamPolygon(object.coordinates, stream);\n    },\n    MultiPolygon: function MultiPolygon(object, stream) {\n      var coordinates = object.coordinates,\n          i = -1,\n          n = coordinates.length;\n      while (++i < n) {\n        streamPolygon(coordinates[i], stream);\n      }\n    },\n    GeometryCollection: function GeometryCollection(object, stream) {\n      var geometries = object.geometries,\n          i = -1,\n          n = geometries.length;\n      while (++i < n) {\n        streamGeometry(geometries[i], stream);\n      }\n    }\n  };\n\n  function streamLine(coordinates, stream, closed) {\n    var i = -1,\n        n = coordinates.length - closed,\n        coordinate;\n    stream.lineStart();\n    while (++i < n) {\n      coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n    }stream.lineEnd();\n  }\n\n  function streamPolygon(coordinates, stream) {\n    var i = -1,\n        n = coordinates.length;\n    stream.polygonStart();\n    while (++i < n) {\n      streamLine(coordinates[i], stream, 1);\n    }stream.polygonEnd();\n  }\n\n  var geoStream = function geoStream(object, stream) {\n    if (object && streamObjectType.hasOwnProperty(object.type)) {\n      streamObjectType[object.type](object, stream);\n    } else {\n      streamGeometry(object, stream);\n    }\n  };\n\n  var areaRingSum = adder();\n\n  var areaSum = adder();\n  var lambda00;\n  var phi00;\n  var lambda0;\n  var cosPhi0;\n  var sinPhi0;\n\n  var areaStream = {\n    point: noop$1,\n    lineStart: noop$1,\n    lineEnd: noop$1,\n    polygonStart: function polygonStart() {\n      areaRingSum.reset();\n      areaStream.lineStart = areaRingStart;\n      areaStream.lineEnd = areaRingEnd;\n    },\n    polygonEnd: function polygonEnd() {\n      var areaRing = +areaRingSum;\n      areaSum.add(areaRing < 0 ? tau$3 + areaRing : areaRing);\n      this.lineStart = this.lineEnd = this.point = noop$1;\n    },\n    sphere: function sphere() {\n      areaSum.add(tau$3);\n    }\n  };\n\n  function areaRingStart() {\n    areaStream.point = areaPointFirst;\n  }\n\n  function areaRingEnd() {\n    areaPoint(lambda00, phi00);\n  }\n\n  function areaPointFirst(lambda, phi) {\n    areaStream.point = areaPoint;\n    lambda00 = lambda, phi00 = phi;\n    lambda *= radians, phi *= radians;\n    lambda0 = lambda, cosPhi0 = cos$1(phi = phi / 2 + quarterPi), sinPhi0 = sin$1(phi);\n  }\n\n  function areaPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n    // Spherical excess E for a spherical triangle with vertices: south pole,\n    // previous point, current point.  Uses a formula derived from Cagnolis\n    // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n    var dLambda = lambda - lambda0,\n        sdLambda = dLambda >= 0 ? 1 : -1,\n        adLambda = sdLambda * dLambda,\n        cosPhi = cos$1(phi),\n        sinPhi = sin$1(phi),\n        k = sinPhi0 * sinPhi,\n        u = cosPhi0 * cosPhi + k * cos$1(adLambda),\n        v = k * sdLambda * sin$1(adLambda);\n    areaRingSum.add(atan2(v, u));\n\n    // Advance the previous points.\n    lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n  }\n\n  var area = function area(object) {\n    areaSum.reset();\n    geoStream(object, areaStream);\n    return areaSum * 2;\n  };\n\n  function spherical(cartesian) {\n    return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n  }\n\n  function cartesian(spherical) {\n    var lambda = spherical[0],\n        phi = spherical[1],\n        cosPhi = cos$1(phi);\n    return [cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi)];\n  }\n\n  function cartesianDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n  }\n\n  function cartesianCross(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n\n  // TODO return a\n  function cartesianAddInPlace(a, b) {\n    a[0] += b[0], a[1] += b[1], a[2] += b[2];\n  }\n\n  function cartesianScale(vector, k) {\n    return [vector[0] * k, vector[1] * k, vector[2] * k];\n  }\n\n  // TODO return d\n  function cartesianNormalizeInPlace(d) {\n    var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n    d[0] /= l, d[1] /= l, d[2] /= l;\n  }\n\n  var lambda0$1;\n  var phi0;\n  var lambda1;\n  var phi1;\n  var lambda2;\n  var lambda00$1;\n  var phi00$1;\n  var p0;\n  var deltaSum = adder();\n  var ranges;\n  var range;\n\n  var boundsStream = {\n    point: boundsPoint,\n    lineStart: boundsLineStart,\n    lineEnd: boundsLineEnd,\n    polygonStart: function polygonStart() {\n      boundsStream.point = boundsRingPoint;\n      boundsStream.lineStart = boundsRingStart;\n      boundsStream.lineEnd = boundsRingEnd;\n      deltaSum.reset();\n      areaStream.polygonStart();\n    },\n    polygonEnd: function polygonEnd() {\n      areaStream.polygonEnd();\n      boundsStream.point = boundsPoint;\n      boundsStream.lineStart = boundsLineStart;\n      boundsStream.lineEnd = boundsLineEnd;\n      if (areaRingSum < 0) lambda0$1 = -(lambda1 = 180), phi0 = -(phi1 = 90);else if (deltaSum > epsilon$2) phi1 = 90;else if (deltaSum < -epsilon$2) phi0 = -90;\n      range[0] = lambda0$1, range[1] = lambda1;\n    }\n  };\n\n  function boundsPoint(lambda, phi) {\n    ranges.push(range = [lambda0$1 = lambda, lambda1 = lambda]);\n    if (phi < phi0) phi0 = phi;\n    if (phi > phi1) phi1 = phi;\n  }\n\n  function linePoint(lambda, phi) {\n    var p = cartesian([lambda * radians, phi * radians]);\n    if (p0) {\n      var normal = cartesianCross(p0, p),\n          equatorial = [normal[1], -normal[0], 0],\n          inflection = cartesianCross(equatorial, normal);\n      cartesianNormalizeInPlace(inflection);\n      inflection = spherical(inflection);\n      var delta = lambda - lambda2,\n          sign$$1 = delta > 0 ? 1 : -1,\n          lambdai = inflection[0] * degrees$1 * sign$$1,\n          phii,\n          antimeridian = abs(delta) > 180;\n      if (antimeridian ^ (sign$$1 * lambda2 < lambdai && lambdai < sign$$1 * lambda)) {\n        phii = inflection[1] * degrees$1;\n        if (phii > phi1) phi1 = phii;\n      } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign$$1 * lambda2 < lambdai && lambdai < sign$$1 * lambda)) {\n        phii = -inflection[1] * degrees$1;\n        if (phii < phi0) phi0 = phii;\n      } else {\n        if (phi < phi0) phi0 = phi;\n        if (phi > phi1) phi1 = phi;\n      }\n      if (antimeridian) {\n        if (lambda < lambda2) {\n          if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n        }\n      } else {\n        if (lambda1 >= lambda0$1) {\n          if (lambda < lambda0$1) lambda0$1 = lambda;\n          if (lambda > lambda1) lambda1 = lambda;\n        } else {\n          if (lambda > lambda2) {\n            if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n          } else {\n            if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n          }\n        }\n      }\n    } else {\n      ranges.push(range = [lambda0$1 = lambda, lambda1 = lambda]);\n    }\n    if (phi < phi0) phi0 = phi;\n    if (phi > phi1) phi1 = phi;\n    p0 = p, lambda2 = lambda;\n  }\n\n  function boundsLineStart() {\n    boundsStream.point = linePoint;\n  }\n\n  function boundsLineEnd() {\n    range[0] = lambda0$1, range[1] = lambda1;\n    boundsStream.point = boundsPoint;\n    p0 = null;\n  }\n\n  function boundsRingPoint(lambda, phi) {\n    if (p0) {\n      var delta = lambda - lambda2;\n      deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n    } else {\n      lambda00$1 = lambda, phi00$1 = phi;\n    }\n    areaStream.point(lambda, phi);\n    linePoint(lambda, phi);\n  }\n\n  function boundsRingStart() {\n    areaStream.lineStart();\n  }\n\n  function boundsRingEnd() {\n    boundsRingPoint(lambda00$1, phi00$1);\n    areaStream.lineEnd();\n    if (abs(deltaSum) > epsilon$2) lambda0$1 = -(lambda1 = 180);\n    range[0] = lambda0$1, range[1] = lambda1;\n    p0 = null;\n  }\n\n  // Finds the left-right distance between two longitudes.\n  // This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n  // the distance between 180 to be 360.\n  function angle(lambda0, lambda1) {\n    return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n  }\n\n  function rangeCompare(a, b) {\n    return a[0] - b[0];\n  }\n\n  function rangeContains(range, x) {\n    return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n  }\n\n  var bounds = function bounds(feature) {\n    var i, n, a, b, merged, deltaMax, delta;\n\n    phi1 = lambda1 = -(lambda0$1 = phi0 = Infinity);\n    ranges = [];\n    geoStream(feature, boundsStream);\n\n    // First, sort ranges by their minimum longitudes.\n    if (n = ranges.length) {\n      ranges.sort(rangeCompare);\n\n      // Then, merge any ranges that overlap.\n      for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n        b = ranges[i];\n        if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n          if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n          if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n        } else {\n          merged.push(a = b);\n        }\n      }\n\n      // Finally, find the largest gap between the merged ranges.\n      // The final bounding box will be the inverse of this gap.\n      for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n        b = merged[i];\n        if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0$1 = b[0], lambda1 = a[1];\n      }\n    }\n\n    ranges = range = null;\n\n    return lambda0$1 === Infinity || phi0 === Infinity ? [[NaN, NaN], [NaN, NaN]] : [[lambda0$1, phi0], [lambda1, phi1]];\n  };\n\n  var W0;\n  var W1;\n  var X0;\n  var Y0;\n  var Z0;\n  var X1;\n  var Y1;\n  var Z1;\n  var X2;\n  var Y2;\n  var Z2;\n  var lambda00$2;\n  var phi00$2;\n  var x0;\n  var y0;\n  var z0; // previous point\n\n  var centroidStream = {\n    sphere: noop$1,\n    point: centroidPoint,\n    lineStart: centroidLineStart,\n    lineEnd: centroidLineEnd,\n    polygonStart: function polygonStart() {\n      centroidStream.lineStart = centroidRingStart;\n      centroidStream.lineEnd = centroidRingEnd;\n    },\n    polygonEnd: function polygonEnd() {\n      centroidStream.lineStart = centroidLineStart;\n      centroidStream.lineEnd = centroidLineEnd;\n    }\n  };\n\n  // Arithmetic mean of Cartesian vectors.\n  function centroidPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi);\n    centroidPointCartesian(cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi));\n  }\n\n  function centroidPointCartesian(x, y, z) {\n    ++W0;\n    X0 += (x - X0) / W0;\n    Y0 += (y - Y0) / W0;\n    Z0 += (z - Z0) / W0;\n  }\n\n  function centroidLineStart() {\n    centroidStream.point = centroidLinePointFirst;\n  }\n\n  function centroidLinePointFirst(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi);\n    x0 = cosPhi * cos$1(lambda);\n    y0 = cosPhi * sin$1(lambda);\n    z0 = sin$1(phi);\n    centroidStream.point = centroidLinePoint;\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  function centroidLinePoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi),\n        x = cosPhi * cos$1(lambda),\n        y = cosPhi * sin$1(lambda),\n        z = sin$1(phi),\n        w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n    W1 += w;\n    X1 += w * (x0 + (x0 = x));\n    Y1 += w * (y0 + (y0 = y));\n    Z1 += w * (z0 + (z0 = z));\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  function centroidLineEnd() {\n    centroidStream.point = centroidPoint;\n  }\n\n  // See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n  // J. Applied Mechanics 42, 239 (1975).\n  function centroidRingStart() {\n    centroidStream.point = centroidRingPointFirst;\n  }\n\n  function centroidRingEnd() {\n    centroidRingPoint(lambda00$2, phi00$2);\n    centroidStream.point = centroidPoint;\n  }\n\n  function centroidRingPointFirst(lambda, phi) {\n    lambda00$2 = lambda, phi00$2 = phi;\n    lambda *= radians, phi *= radians;\n    centroidStream.point = centroidRingPoint;\n    var cosPhi = cos$1(phi);\n    x0 = cosPhi * cos$1(lambda);\n    y0 = cosPhi * sin$1(lambda);\n    z0 = sin$1(phi);\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  function centroidRingPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi),\n        x = cosPhi * cos$1(lambda),\n        y = cosPhi * sin$1(lambda),\n        z = sin$1(phi),\n        cx = y0 * z - z0 * y,\n        cy = z0 * x - x0 * z,\n        cz = x0 * y - y0 * x,\n        m = sqrt(cx * cx + cy * cy + cz * cz),\n        w = asin(m),\n        // line weight = angle\n    v = m && -w / m; // area weight multiplier\n    X2 += v * cx;\n    Y2 += v * cy;\n    Z2 += v * cz;\n    W1 += w;\n    X1 += w * (x0 + (x0 = x));\n    Y1 += w * (y0 + (y0 = y));\n    Z1 += w * (z0 + (z0 = z));\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  var centroid = function centroid(object) {\n    W0 = W1 = X0 = Y0 = Z0 = X1 = Y1 = Z1 = X2 = Y2 = Z2 = 0;\n    geoStream(object, centroidStream);\n\n    var x = X2,\n        y = Y2,\n        z = Z2,\n        m = x * x + y * y + z * z;\n\n    // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n    if (m < epsilon2$1) {\n      x = X1, y = Y1, z = Z1;\n      // If the feature has zero length, fall back to arithmetic mean of point vectors.\n      if (W1 < epsilon$2) x = X0, y = Y0, z = Z0;\n      m = x * x + y * y + z * z;\n      // If the feature still has an undefined ccentroid, then return.\n      if (m < epsilon2$1) return [NaN, NaN];\n    }\n\n    return [atan2(y, x) * degrees$1, asin(z / sqrt(m)) * degrees$1];\n  };\n\n  var constant$7 = function constant$7(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  var compose = function compose(a, b) {\n\n    function compose(x, y) {\n      return x = a(x, y), b(x[0], x[1]);\n    }\n\n    if (a.invert && b.invert) compose.invert = function (x, y) {\n      return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n    };\n\n    return compose;\n  };\n\n  function rotationIdentity(lambda, phi) {\n    return [lambda > pi$3 ? lambda - tau$3 : lambda < -pi$3 ? lambda + tau$3 : lambda, phi];\n  }\n\n  rotationIdentity.invert = rotationIdentity;\n\n  function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n    return (deltaLambda %= tau$3) ? deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma)) : rotationLambda(deltaLambda) : deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma) : rotationIdentity;\n  }\n\n  function forwardRotationLambda(deltaLambda) {\n    return function (lambda, phi) {\n      return lambda += deltaLambda, [lambda > pi$3 ? lambda - tau$3 : lambda < -pi$3 ? lambda + tau$3 : lambda, phi];\n    };\n  }\n\n  function rotationLambda(deltaLambda) {\n    var rotation = forwardRotationLambda(deltaLambda);\n    rotation.invert = forwardRotationLambda(-deltaLambda);\n    return rotation;\n  }\n\n  function rotationPhiGamma(deltaPhi, deltaGamma) {\n    var cosDeltaPhi = cos$1(deltaPhi),\n        sinDeltaPhi = sin$1(deltaPhi),\n        cosDeltaGamma = cos$1(deltaGamma),\n        sinDeltaGamma = sin$1(deltaGamma);\n\n    function rotation(lambda, phi) {\n      var cosPhi = cos$1(phi),\n          x = cos$1(lambda) * cosPhi,\n          y = sin$1(lambda) * cosPhi,\n          z = sin$1(phi),\n          k = z * cosDeltaPhi + x * sinDeltaPhi;\n      return [atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi), asin(k * cosDeltaGamma + y * sinDeltaGamma)];\n    }\n\n    rotation.invert = function (lambda, phi) {\n      var cosPhi = cos$1(phi),\n          x = cos$1(lambda) * cosPhi,\n          y = sin$1(lambda) * cosPhi,\n          z = sin$1(phi),\n          k = z * cosDeltaGamma - y * sinDeltaGamma;\n      return [atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi), asin(k * cosDeltaPhi - x * sinDeltaPhi)];\n    };\n\n    return rotation;\n  }\n\n  var rotation = function rotation(rotate) {\n    rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n    function forward(coordinates) {\n      coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n      return coordinates[0] *= degrees$1, coordinates[1] *= degrees$1, coordinates;\n    }\n\n    forward.invert = function (coordinates) {\n      coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n      return coordinates[0] *= degrees$1, coordinates[1] *= degrees$1, coordinates;\n    };\n\n    return forward;\n  };\n\n  // Generates a circle centered at [0, 0], with a given radius and precision.\n  function circleStream(stream, radius, delta, direction, t0, t1) {\n    if (!delta) return;\n    var cosRadius = cos$1(radius),\n        sinRadius = sin$1(radius),\n        step = direction * delta;\n    if (t0 == null) {\n      t0 = radius + direction * tau$3;\n      t1 = radius - step / 2;\n    } else {\n      t0 = circleRadius(cosRadius, t0);\n      t1 = circleRadius(cosRadius, t1);\n      if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau$3;\n    }\n    for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n      point = spherical([cosRadius, -sinRadius * cos$1(t), -sinRadius * sin$1(t)]);\n      stream.point(point[0], point[1]);\n    }\n  }\n\n  // Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\n  function circleRadius(cosRadius, point) {\n    point = cartesian(point), point[0] -= cosRadius;\n    cartesianNormalizeInPlace(point);\n    var radius = acos(-point[1]);\n    return ((-point[2] < 0 ? -radius : radius) + tau$3 - epsilon$2) % tau$3;\n  }\n\n  var circle = function circle() {\n    var center = constant$7([0, 0]),\n        radius = constant$7(90),\n        precision = constant$7(6),\n        ring,\n        rotate,\n        stream = { point: point };\n\n    function point(x, y) {\n      ring.push(x = rotate(x, y));\n      x[0] *= degrees$1, x[1] *= degrees$1;\n    }\n\n    function circle() {\n      var c = center.apply(this, arguments),\n          r = radius.apply(this, arguments) * radians,\n          p = precision.apply(this, arguments) * radians;\n      ring = [];\n      rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n      circleStream(stream, r, p, 1);\n      c = { type: \"Polygon\", coordinates: [ring] };\n      ring = rotate = null;\n      return c;\n    }\n\n    circle.center = function (_) {\n      return arguments.length ? (center = typeof _ === \"function\" ? _ : constant$7([+_[0], +_[1]]), circle) : center;\n    };\n\n    circle.radius = function (_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$7(+_), circle) : radius;\n    };\n\n    circle.precision = function (_) {\n      return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant$7(+_), circle) : precision;\n    };\n\n    return circle;\n  };\n\n  var clipBuffer = function clipBuffer() {\n    var lines = [],\n        line;\n    return {\n      point: function point(x, y) {\n        line.push([x, y]);\n      },\n      lineStart: function lineStart() {\n        lines.push(line = []);\n      },\n      lineEnd: noop$1,\n      rejoin: function rejoin() {\n        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n      },\n      result: function result() {\n        var result = lines;\n        lines = [];\n        line = null;\n        return result;\n      }\n    };\n  };\n\n  var clipLine = function clipLine(a, b, x0, y0, x1, y1) {\n    var ax = a[0],\n        ay = a[1],\n        bx = b[0],\n        by = b[1],\n        t0 = 0,\n        t1 = 1,\n        dx = bx - ax,\n        dy = by - ay,\n        r;\n\n    r = x0 - ax;\n    if (!dx && r > 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dx > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = x1 - ax;\n    if (!dx && r < 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dx > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    r = y0 - ay;\n    if (!dy && r > 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dy > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = y1 - ay;\n    if (!dy && r < 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dy > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n    if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n    return true;\n  };\n\n  var pointEqual = function pointEqual(a, b) {\n    return abs(a[0] - b[0]) < epsilon$2 && abs(a[1] - b[1]) < epsilon$2;\n  };\n\n  function Intersection(point, points, other, entry) {\n    this.x = point;\n    this.z = points;\n    this.o = other; // another intersection\n    this.e = entry; // is an entry?\n    this.v = false; // visited\n    this.n = this.p = null; // next & previous\n  }\n\n  // A generalized polygon clipping algorithm: given a polygon that has been cut\n  // into its visible line segments, and rejoins the segments by interpolating\n  // along the clip edge.\n  var clipPolygon = function clipPolygon(segments, compareIntersection, startInside, interpolate, stream) {\n    var subject = [],\n        clip = [],\n        i,\n        n;\n\n    segments.forEach(function (segment) {\n      if ((n = segment.length - 1) <= 0) return;\n      var n,\n          p0 = segment[0],\n          p1 = segment[n],\n          x;\n\n      // If the first and last points of a segment are coincident, then treat as a\n      // closed ring. TODO if all rings are closed, then the winding order of the\n      // exterior ring should be checked.\n      if (pointEqual(p0, p1)) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) {\n          stream.point((p0 = segment[i])[0], p0[1]);\n        }stream.lineEnd();\n        return;\n      }\n\n      subject.push(x = new Intersection(p0, segment, null, true));\n      clip.push(x.o = new Intersection(p0, null, x, false));\n      subject.push(x = new Intersection(p1, segment, null, false));\n      clip.push(x.o = new Intersection(p1, null, x, true));\n    });\n\n    if (!subject.length) return;\n\n    clip.sort(compareIntersection);\n    link$1(subject);\n    link$1(clip);\n\n    for (i = 0, n = clip.length; i < n; ++i) {\n      clip[i].e = startInside = !startInside;\n    }\n\n    var start = subject[0],\n        points,\n        point;\n\n    while (1) {\n      // Find first unvisited intersection.\n      var current = start,\n          isSubject = true;\n      while (current.v) {\n        if ((current = current.n) === start) return;\n      }points = current.z;\n      stream.lineStart();\n      do {\n        current.v = current.o.v = true;\n        if (current.e) {\n          if (isSubject) {\n            for (i = 0, n = points.length; i < n; ++i) {\n              stream.point((point = points[i])[0], point[1]);\n            }\n          } else {\n            interpolate(current.x, current.n.x, 1, stream);\n          }\n          current = current.n;\n        } else {\n          if (isSubject) {\n            points = current.p.z;\n            for (i = points.length - 1; i >= 0; --i) {\n              stream.point((point = points[i])[0], point[1]);\n            }\n          } else {\n            interpolate(current.x, current.p.x, -1, stream);\n          }\n          current = current.p;\n        }\n        current = current.o;\n        points = current.z;\n        isSubject = !isSubject;\n      } while (!current.v);\n      stream.lineEnd();\n    }\n  };\n\n  function link$1(array) {\n    if (!(n = array.length)) return;\n    var n,\n        i = 0,\n        a = array[0],\n        b;\n    while (++i < n) {\n      a.n = b = array[i];\n      b.p = a;\n      a = b;\n    }\n    a.n = b = array[0];\n    b.p = a;\n  }\n\n  var clipMax = 1e9;\n  var clipMin = -clipMax;\n\n  // TODO Use d3-polygons polygonContains here for the ring check?\n  // TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\n  function _clipExtent(x0, y0, x1, y1) {\n\n    function visible(x, y) {\n      return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n    }\n\n    function interpolate(from, to, direction, stream) {\n      var a = 0,\n          a1 = 0;\n      if (from == null || (a = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoint(from, to) < 0 ^ direction > 0) {\n        do {\n          stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n        } while ((a = (a + direction + 4) % 4) !== a1);\n      } else {\n        stream.point(to[0], to[1]);\n      }\n    }\n\n    function corner(p, direction) {\n      return abs(p[0] - x0) < epsilon$2 ? direction > 0 ? 0 : 3 : abs(p[0] - x1) < epsilon$2 ? direction > 0 ? 2 : 1 : abs(p[1] - y0) < epsilon$2 ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n    }\n\n    function compareIntersection(a, b) {\n      return comparePoint(a.x, b.x);\n    }\n\n    function comparePoint(a, b) {\n      var ca = corner(a, 1),\n          cb = corner(b, 1);\n      return ca !== cb ? ca - cb : ca === 0 ? b[1] - a[1] : ca === 1 ? a[0] - b[0] : ca === 2 ? a[1] - b[1] : b[0] - a[0];\n    }\n\n    return function (stream) {\n      var activeStream = stream,\n          bufferStream = clipBuffer(),\n          segments,\n          polygon,\n          ring,\n          x__,\n          y__,\n          v__,\n          // first point\n      x_,\n          y_,\n          v_,\n          // previous point\n      first,\n          clean;\n\n      var clipStream = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: polygonStart,\n        polygonEnd: polygonEnd\n      };\n\n      function point(x, y) {\n        if (visible(x, y)) activeStream.point(x, y);\n      }\n\n      function polygonInside() {\n        var winding = 0;\n\n        for (var i = 0, n = polygon.length; i < n; ++i) {\n          for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n            a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n            if (a1 <= y1) {\n              if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding;\n            } else {\n              if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding;\n            }\n          }\n        }\n\n        return winding;\n      }\n\n      // Buffer geometry within a polygon and then clip it en masse.\n      function polygonStart() {\n        activeStream = bufferStream, segments = [], polygon = [], clean = true;\n      }\n\n      function polygonEnd() {\n        var startInside = polygonInside(),\n            cleanInside = clean && startInside,\n            visible = (segments = merge(segments)).length;\n        if (cleanInside || visible) {\n          stream.polygonStart();\n          if (cleanInside) {\n            stream.lineStart();\n            interpolate(null, null, 1, stream);\n            stream.lineEnd();\n          }\n          if (visible) {\n            clipPolygon(segments, compareIntersection, startInside, interpolate, stream);\n          }\n          stream.polygonEnd();\n        }\n        activeStream = stream, segments = polygon = ring = null;\n      }\n\n      function lineStart() {\n        clipStream.point = linePoint;\n        if (polygon) polygon.push(ring = []);\n        first = true;\n        v_ = false;\n        x_ = y_ = NaN;\n      }\n\n      // TODO rather than special-case polygons, simply handle them separately.\n      // Ideally, coincident intersection points should be jittered to avoid\n      // clipping issues.\n      function lineEnd() {\n        if (segments) {\n          linePoint(x__, y__);\n          if (v__ && v_) bufferStream.rejoin();\n          segments.push(bufferStream.result());\n        }\n        clipStream.point = point;\n        if (v_) activeStream.lineEnd();\n      }\n\n      function linePoint(x, y) {\n        var v = visible(x, y);\n        if (polygon) ring.push([x, y]);\n        if (first) {\n          x__ = x, y__ = y, v__ = v;\n          first = false;\n          if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n          }\n        } else {\n          if (v && v_) activeStream.point(x, y);else {\n            var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n                b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n            if (clipLine(a, b, x0, y0, x1, y1)) {\n              if (!v_) {\n                activeStream.lineStart();\n                activeStream.point(a[0], a[1]);\n              }\n              activeStream.point(b[0], b[1]);\n              if (!v) activeStream.lineEnd();\n              clean = false;\n            } else if (v) {\n              activeStream.lineStart();\n              activeStream.point(x, y);\n              clean = false;\n            }\n          }\n        }\n        x_ = x, y_ = y, v_ = v;\n      }\n\n      return clipStream;\n    };\n  }\n\n  var extent$1 = function extent$1() {\n    var x0 = 0,\n        y0 = 0,\n        x1 = 960,\n        y1 = 500,\n        cache,\n        cacheStream,\n        clip;\n\n    return clip = {\n      stream: function stream(_stream) {\n        return cache && cacheStream === _stream ? cache : cache = _clipExtent(x0, y0, x1, y1)(cacheStream = _stream);\n      },\n      extent: function extent(_) {\n        return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n      }\n    };\n  };\n\n  var sum$1 = adder();\n\n  var polygonContains = function polygonContains(polygon, point) {\n    var lambda = point[0],\n        phi = point[1],\n        normal = [sin$1(lambda), -cos$1(lambda), 0],\n        angle = 0,\n        winding = 0;\n\n    sum$1.reset();\n\n    for (var i = 0, n = polygon.length; i < n; ++i) {\n      if (!(m = (ring = polygon[i]).length)) continue;\n      var ring,\n          m,\n          point0 = ring[m - 1],\n          lambda0 = point0[0],\n          phi0 = point0[1] / 2 + quarterPi,\n          sinPhi0 = sin$1(phi0),\n          cosPhi0 = cos$1(phi0);\n\n      for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n        var point1 = ring[j],\n            lambda1 = point1[0],\n            phi1 = point1[1] / 2 + quarterPi,\n            sinPhi1 = sin$1(phi1),\n            cosPhi1 = cos$1(phi1),\n            delta = lambda1 - lambda0,\n            sign$$1 = delta >= 0 ? 1 : -1,\n            absDelta = sign$$1 * delta,\n            antimeridian = absDelta > pi$3,\n            k = sinPhi0 * sinPhi1;\n\n        sum$1.add(atan2(k * sign$$1 * sin$1(absDelta), cosPhi0 * cosPhi1 + k * cos$1(absDelta)));\n        angle += antimeridian ? delta + sign$$1 * tau$3 : delta;\n\n        // Are the longitudes either side of the points meridian (lambda),\n        // and are the latitudes smaller than the parallel (phi)?\n        if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n          var arc = cartesianCross(cartesian(point0), cartesian(point1));\n          cartesianNormalizeInPlace(arc);\n          var intersection = cartesianCross(normal, arc);\n          cartesianNormalizeInPlace(intersection);\n          var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n          if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n            winding += antimeridian ^ delta >= 0 ? 1 : -1;\n          }\n        }\n      }\n    }\n\n    // First, determine whether the South pole is inside or outside:\n    //\n    // It is inside if:\n    // * the polygon winds around it in a clockwise direction.\n    // * the polygon does not (cumulatively) wind around it, but has a negative\n    //   (counter-clockwise) area.\n    //\n    // Second, count the (signed) number of times a segment crosses a lambda\n    // from the point to the South pole.  If it is zero, then the point is the\n    // same side as the South pole.\n\n    return (angle < -epsilon$2 || angle < epsilon$2 && sum$1 < -epsilon$2) ^ winding & 1;\n  };\n\n  var lengthSum = adder();\n  var lambda0$2;\n  var sinPhi0$1;\n  var cosPhi0$1;\n\n  var lengthStream = {\n    sphere: noop$1,\n    point: noop$1,\n    lineStart: lengthLineStart,\n    lineEnd: noop$1,\n    polygonStart: noop$1,\n    polygonEnd: noop$1\n  };\n\n  function lengthLineStart() {\n    lengthStream.point = lengthPointFirst;\n    lengthStream.lineEnd = lengthLineEnd;\n  }\n\n  function lengthLineEnd() {\n    lengthStream.point = lengthStream.lineEnd = noop$1;\n  }\n\n  function lengthPointFirst(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    lambda0$2 = lambda, sinPhi0$1 = sin$1(phi), cosPhi0$1 = cos$1(phi);\n    lengthStream.point = lengthPoint;\n  }\n\n  function lengthPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var sinPhi = sin$1(phi),\n        cosPhi = cos$1(phi),\n        delta = abs(lambda - lambda0$2),\n        cosDelta = cos$1(delta),\n        sinDelta = sin$1(delta),\n        x = cosPhi * sinDelta,\n        y = cosPhi0$1 * sinPhi - sinPhi0$1 * cosPhi * cosDelta,\n        z = sinPhi0$1 * sinPhi + cosPhi0$1 * cosPhi * cosDelta;\n    lengthSum.add(atan2(sqrt(x * x + y * y), z));\n    lambda0$2 = lambda, sinPhi0$1 = sinPhi, cosPhi0$1 = cosPhi;\n  }\n\n  var length$1 = function length$1(object) {\n    lengthSum.reset();\n    geoStream(object, lengthStream);\n    return +lengthSum;\n  };\n\n  var coordinates = [null, null];\n  var object$1 = { type: \"LineString\", coordinates: coordinates };\n\n  var distance = function distance(a, b) {\n    coordinates[0] = a;\n    coordinates[1] = b;\n    return length$1(object$1);\n  };\n\n  var containsObjectType = {\n    Feature: function Feature(object, point) {\n      return containsGeometry(object.geometry, point);\n    },\n    FeatureCollection: function FeatureCollection(object, point) {\n      var features = object.features,\n          i = -1,\n          n = features.length;\n      while (++i < n) {\n        if (containsGeometry(features[i].geometry, point)) return true;\n      }return false;\n    }\n  };\n\n  var containsGeometryType = {\n    Sphere: function Sphere() {\n      return true;\n    },\n    Point: function Point(object, point) {\n      return containsPoint(object.coordinates, point);\n    },\n    MultiPoint: function MultiPoint(object, point) {\n      var coordinates = object.coordinates,\n          i = -1,\n          n = coordinates.length;\n      while (++i < n) {\n        if (containsPoint(coordinates[i], point)) return true;\n      }return false;\n    },\n    LineString: function LineString(object, point) {\n      return containsLine(object.coordinates, point);\n    },\n    MultiLineString: function MultiLineString(object, point) {\n      var coordinates = object.coordinates,\n          i = -1,\n          n = coordinates.length;\n      while (++i < n) {\n        if (containsLine(coordinates[i], point)) return true;\n      }return false;\n    },\n    Polygon: function Polygon(object, point) {\n      return containsPolygon(object.coordinates, point);\n    },\n    MultiPolygon: function MultiPolygon(object, point) {\n      var coordinates = object.coordinates,\n          i = -1,\n          n = coordinates.length;\n      while (++i < n) {\n        if (containsPolygon(coordinates[i], point)) return true;\n      }return false;\n    },\n    GeometryCollection: function GeometryCollection(object, point) {\n      var geometries = object.geometries,\n          i = -1,\n          n = geometries.length;\n      while (++i < n) {\n        if (containsGeometry(geometries[i], point)) return true;\n      }return false;\n    }\n  };\n\n  function containsGeometry(geometry, point) {\n    return geometry && containsGeometryType.hasOwnProperty(geometry.type) ? containsGeometryType[geometry.type](geometry, point) : false;\n  }\n\n  function containsPoint(coordinates, point) {\n    return distance(coordinates, point) === 0;\n  }\n\n  function containsLine(coordinates, point) {\n    var ab = distance(coordinates[0], coordinates[1]),\n        ao = distance(coordinates[0], point),\n        ob = distance(point, coordinates[1]);\n    return ao + ob <= ab + epsilon$2;\n  }\n\n  function containsPolygon(coordinates, point) {\n    return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n  }\n\n  function ringRadians(ring) {\n    return ring = ring.map(pointRadians), ring.pop(), ring;\n  }\n\n  function pointRadians(point) {\n    return [point[0] * radians, point[1] * radians];\n  }\n\n  var contains = function contains(object, point) {\n    return (object && containsObjectType.hasOwnProperty(object.type) ? containsObjectType[object.type] : containsGeometry)(object, point);\n  };\n\n  function graticuleX(y0, y1, dy) {\n    var y = sequence(y0, y1 - epsilon$2, dy).concat(y1);\n    return function (x) {\n      return y.map(function (y) {\n        return [x, y];\n      });\n    };\n  }\n\n  function graticuleY(x0, x1, dx) {\n    var x = sequence(x0, x1 - epsilon$2, dx).concat(x1);\n    return function (y) {\n      return x.map(function (x) {\n        return [x, y];\n      });\n    };\n  }\n\n  function graticule() {\n    var x1,\n        x0,\n        X1,\n        X0,\n        y1,\n        y0,\n        Y1,\n        Y0,\n        dx = 10,\n        dy = dx,\n        DX = 90,\n        DY = 360,\n        x,\n        y,\n        X,\n        Y,\n        precision = 2.5;\n\n    function graticule() {\n      return { type: \"MultiLineString\", coordinates: lines() };\n    }\n\n    function lines() {\n      return sequence(ceil(X0 / DX) * DX, X1, DX).map(X).concat(sequence(ceil(Y0 / DY) * DY, Y1, DY).map(Y)).concat(sequence(ceil(x0 / dx) * dx, x1, dx).filter(function (x) {\n        return abs(x % DX) > epsilon$2;\n      }).map(x)).concat(sequence(ceil(y0 / dy) * dy, y1, dy).filter(function (y) {\n        return abs(y % DY) > epsilon$2;\n      }).map(y));\n    }\n\n    graticule.lines = function () {\n      return lines().map(function (coordinates) {\n        return { type: \"LineString\", coordinates: coordinates };\n      });\n    };\n\n    graticule.outline = function () {\n      return {\n        type: \"Polygon\",\n        coordinates: [X(X0).concat(Y(Y1).slice(1), X(X1).reverse().slice(1), Y(Y0).reverse().slice(1))]\n      };\n    };\n\n    graticule.extent = function (_) {\n      if (!arguments.length) return graticule.extentMinor();\n      return graticule.extentMajor(_).extentMinor(_);\n    };\n\n    graticule.extentMajor = function (_) {\n      if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n      X0 = +_[0][0], X1 = +_[1][0];\n      Y0 = +_[0][1], Y1 = +_[1][1];\n      if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n      return graticule.precision(precision);\n    };\n\n    graticule.extentMinor = function (_) {\n      if (!arguments.length) return [[x0, y0], [x1, y1]];\n      x0 = +_[0][0], x1 = +_[1][0];\n      y0 = +_[0][1], y1 = +_[1][1];\n      if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n      if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n      return graticule.precision(precision);\n    };\n\n    graticule.step = function (_) {\n      if (!arguments.length) return graticule.stepMinor();\n      return graticule.stepMajor(_).stepMinor(_);\n    };\n\n    graticule.stepMajor = function (_) {\n      if (!arguments.length) return [DX, DY];\n      DX = +_[0], DY = +_[1];\n      return graticule;\n    };\n\n    graticule.stepMinor = function (_) {\n      if (!arguments.length) return [dx, dy];\n      dx = +_[0], dy = +_[1];\n      return graticule;\n    };\n\n    graticule.precision = function (_) {\n      if (!arguments.length) return precision;\n      precision = +_;\n      x = graticuleX(y0, y1, 90);\n      y = graticuleY(x0, x1, precision);\n      X = graticuleX(Y0, Y1, 90);\n      Y = graticuleY(X0, X1, precision);\n      return graticule;\n    };\n\n    return graticule.extentMajor([[-180, -90 + epsilon$2], [180, 90 - epsilon$2]]).extentMinor([[-180, -80 - epsilon$2], [180, 80 + epsilon$2]]);\n  }\n\n  function graticule10() {\n    return graticule()();\n  }\n\n  var interpolate$1 = function interpolate$1(a, b) {\n    var x0 = a[0] * radians,\n        y0 = a[1] * radians,\n        x1 = b[0] * radians,\n        y1 = b[1] * radians,\n        cy0 = cos$1(y0),\n        sy0 = sin$1(y0),\n        cy1 = cos$1(y1),\n        sy1 = sin$1(y1),\n        kx0 = cy0 * cos$1(x0),\n        ky0 = cy0 * sin$1(x0),\n        kx1 = cy1 * cos$1(x1),\n        ky1 = cy1 * sin$1(x1),\n        d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n        k = sin$1(d);\n\n    var interpolate = d ? function (t) {\n      var B = sin$1(t *= d) / k,\n          A = sin$1(d - t) / k,\n          x = A * kx0 + B * kx1,\n          y = A * ky0 + B * ky1,\n          z = A * sy0 + B * sy1;\n      return [atan2(y, x) * degrees$1, atan2(z, sqrt(x * x + y * y)) * degrees$1];\n    } : function () {\n      return [x0 * degrees$1, y0 * degrees$1];\n    };\n\n    interpolate.distance = d;\n\n    return interpolate;\n  };\n\n  var identity$4 = function identity$4(x) {\n    return x;\n  };\n\n  var areaSum$1 = adder();\n  var areaRingSum$1 = adder();\n  var x00;\n  var y00;\n  var x0$1;\n  var y0$1;\n\n  var areaStream$1 = {\n    point: noop$1,\n    lineStart: noop$1,\n    lineEnd: noop$1,\n    polygonStart: function polygonStart() {\n      areaStream$1.lineStart = areaRingStart$1;\n      areaStream$1.lineEnd = areaRingEnd$1;\n    },\n    polygonEnd: function polygonEnd() {\n      areaStream$1.lineStart = areaStream$1.lineEnd = areaStream$1.point = noop$1;\n      areaSum$1.add(abs(areaRingSum$1));\n      areaRingSum$1.reset();\n    },\n    result: function result() {\n      var area = areaSum$1 / 2;\n      areaSum$1.reset();\n      return area;\n    }\n  };\n\n  function areaRingStart$1() {\n    areaStream$1.point = areaPointFirst$1;\n  }\n\n  function areaPointFirst$1(x, y) {\n    areaStream$1.point = areaPoint$1;\n    x00 = x0$1 = x, y00 = y0$1 = y;\n  }\n\n  function areaPoint$1(x, y) {\n    areaRingSum$1.add(y0$1 * x - x0$1 * y);\n    x0$1 = x, y0$1 = y;\n  }\n\n  function areaRingEnd$1() {\n    areaPoint$1(x00, y00);\n  }\n\n  var x0$2 = Infinity;\n  var y0$2 = x0$2;\n  var x1 = -x0$2;\n  var y1 = x1;\n\n  var boundsStream$1 = {\n    point: boundsPoint$1,\n    lineStart: noop$1,\n    lineEnd: noop$1,\n    polygonStart: noop$1,\n    polygonEnd: noop$1,\n    result: function result() {\n      var bounds = [[x0$2, y0$2], [x1, y1]];\n      x1 = y1 = -(y0$2 = x0$2 = Infinity);\n      return bounds;\n    }\n  };\n\n  function boundsPoint$1(x, y) {\n    if (x < x0$2) x0$2 = x;\n    if (x > x1) x1 = x;\n    if (y < y0$2) y0$2 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // TODO Enforce positive area for exterior, negative area for interior?\n\n  var X0$1 = 0;\n  var Y0$1 = 0;\n  var Z0$1 = 0;\n  var X1$1 = 0;\n  var Y1$1 = 0;\n  var Z1$1 = 0;\n  var X2$1 = 0;\n  var Y2$1 = 0;\n  var Z2$1 = 0;\n  var x00$1;\n  var y00$1;\n  var x0$3;\n  var y0$3;\n\n  var centroidStream$1 = {\n    point: centroidPoint$1,\n    lineStart: centroidLineStart$1,\n    lineEnd: centroidLineEnd$1,\n    polygonStart: function polygonStart() {\n      centroidStream$1.lineStart = centroidRingStart$1;\n      centroidStream$1.lineEnd = centroidRingEnd$1;\n    },\n    polygonEnd: function polygonEnd() {\n      centroidStream$1.point = centroidPoint$1;\n      centroidStream$1.lineStart = centroidLineStart$1;\n      centroidStream$1.lineEnd = centroidLineEnd$1;\n    },\n    result: function result() {\n      var centroid = Z2$1 ? [X2$1 / Z2$1, Y2$1 / Z2$1] : Z1$1 ? [X1$1 / Z1$1, Y1$1 / Z1$1] : Z0$1 ? [X0$1 / Z0$1, Y0$1 / Z0$1] : [NaN, NaN];\n      X0$1 = Y0$1 = Z0$1 = X1$1 = Y1$1 = Z1$1 = X2$1 = Y2$1 = Z2$1 = 0;\n      return centroid;\n    }\n  };\n\n  function centroidPoint$1(x, y) {\n    X0$1 += x;\n    Y0$1 += y;\n    ++Z0$1;\n  }\n\n  function centroidLineStart$1() {\n    centroidStream$1.point = centroidPointFirstLine;\n  }\n\n  function centroidPointFirstLine(x, y) {\n    centroidStream$1.point = centroidPointLine;\n    centroidPoint$1(x0$3 = x, y0$3 = y);\n  }\n\n  function centroidPointLine(x, y) {\n    var dx = x - x0$3,\n        dy = y - y0$3,\n        z = sqrt(dx * dx + dy * dy);\n    X1$1 += z * (x0$3 + x) / 2;\n    Y1$1 += z * (y0$3 + y) / 2;\n    Z1$1 += z;\n    centroidPoint$1(x0$3 = x, y0$3 = y);\n  }\n\n  function centroidLineEnd$1() {\n    centroidStream$1.point = centroidPoint$1;\n  }\n\n  function centroidRingStart$1() {\n    centroidStream$1.point = centroidPointFirstRing;\n  }\n\n  function centroidRingEnd$1() {\n    centroidPointRing(x00$1, y00$1);\n  }\n\n  function centroidPointFirstRing(x, y) {\n    centroidStream$1.point = centroidPointRing;\n    centroidPoint$1(x00$1 = x0$3 = x, y00$1 = y0$3 = y);\n  }\n\n  function centroidPointRing(x, y) {\n    var dx = x - x0$3,\n        dy = y - y0$3,\n        z = sqrt(dx * dx + dy * dy);\n\n    X1$1 += z * (x0$3 + x) / 2;\n    Y1$1 += z * (y0$3 + y) / 2;\n    Z1$1 += z;\n\n    z = y0$3 * x - x0$3 * y;\n    X2$1 += z * (x0$3 + x);\n    Y2$1 += z * (y0$3 + y);\n    Z2$1 += z * 3;\n    centroidPoint$1(x0$3 = x, y0$3 = y);\n  }\n\n  function PathContext(context) {\n    this._context = context;\n  }\n\n  PathContext.prototype = {\n    _radius: 4.5,\n    pointRadius: function pointRadius(_) {\n      return this._radius = _, this;\n    },\n    polygonStart: function polygonStart() {\n      this._line = 0;\n    },\n    polygonEnd: function polygonEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (this._line === 0) this._context.closePath();\n      this._point = NaN;\n    },\n    point: function point(x, y) {\n      switch (this._point) {\n        case 0:\n          {\n            this._context.moveTo(x, y);\n            this._point = 1;\n            break;\n          }\n        case 1:\n          {\n            this._context.lineTo(x, y);\n            break;\n          }\n        default:\n          {\n            this._context.moveTo(x + this._radius, y);\n            this._context.arc(x, y, this._radius, 0, tau$3);\n            break;\n          }\n      }\n    },\n    result: noop$1\n  };\n\n  var lengthSum$1 = adder();\n  var lengthRing;\n  var x00$2;\n  var y00$2;\n  var x0$4;\n  var y0$4;\n\n  var lengthStream$1 = {\n    point: noop$1,\n    lineStart: function lineStart() {\n      lengthStream$1.point = lengthPointFirst$1;\n    },\n    lineEnd: function lineEnd() {\n      if (lengthRing) lengthPoint$1(x00$2, y00$2);\n      lengthStream$1.point = noop$1;\n    },\n    polygonStart: function polygonStart() {\n      lengthRing = true;\n    },\n    polygonEnd: function polygonEnd() {\n      lengthRing = null;\n    },\n    result: function result() {\n      var length = +lengthSum$1;\n      lengthSum$1.reset();\n      return length;\n    }\n  };\n\n  function lengthPointFirst$1(x, y) {\n    lengthStream$1.point = lengthPoint$1;\n    x00$2 = x0$4 = x, y00$2 = y0$4 = y;\n  }\n\n  function lengthPoint$1(x, y) {\n    x0$4 -= x, y0$4 -= y;\n    lengthSum$1.add(sqrt(x0$4 * x0$4 + y0$4 * y0$4));\n    x0$4 = x, y0$4 = y;\n  }\n\n  function PathString() {\n    this._string = [];\n  }\n\n  PathString.prototype = {\n    _radius: 4.5,\n    _circle: circle$1(4.5),\n    pointRadius: function pointRadius(_) {\n      if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n      return this;\n    },\n    polygonStart: function polygonStart() {\n      this._line = 0;\n    },\n    polygonEnd: function polygonEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (this._line === 0) this._string.push(\"Z\");\n      this._point = NaN;\n    },\n    point: function point(x, y) {\n      switch (this._point) {\n        case 0:\n          {\n            this._string.push(\"M\", x, \",\", y);\n            this._point = 1;\n            break;\n          }\n        case 1:\n          {\n            this._string.push(\"L\", x, \",\", y);\n            break;\n          }\n        default:\n          {\n            if (this._circle == null) this._circle = circle$1(this._radius);\n            this._string.push(\"M\", x, \",\", y, this._circle);\n            break;\n          }\n      }\n    },\n    result: function result() {\n      if (this._string.length) {\n        var result = this._string.join(\"\");\n        this._string = [];\n        return result;\n      } else {\n        return null;\n      }\n    }\n  };\n\n  function circle$1(radius) {\n    return \"m0,\" + radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius + \"z\";\n  }\n\n  var index$1 = function index$1(projection, context) {\n    var pointRadius = 4.5,\n        projectionStream,\n        contextStream;\n\n    function path(object) {\n      if (object) {\n        if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n        geoStream(object, projectionStream(contextStream));\n      }\n      return contextStream.result();\n    }\n\n    path.area = function (object) {\n      geoStream(object, projectionStream(areaStream$1));\n      return areaStream$1.result();\n    };\n\n    path.measure = function (object) {\n      geoStream(object, projectionStream(lengthStream$1));\n      return lengthStream$1.result();\n    };\n\n    path.bounds = function (object) {\n      geoStream(object, projectionStream(boundsStream$1));\n      return boundsStream$1.result();\n    };\n\n    path.centroid = function (object) {\n      geoStream(object, projectionStream(centroidStream$1));\n      return centroidStream$1.result();\n    };\n\n    path.projection = function (_) {\n      return arguments.length ? (projectionStream = _ == null ? (projection = null, identity$4) : (projection = _).stream, path) : projection;\n    };\n\n    path.context = function (_) {\n      if (!arguments.length) return context;\n      contextStream = _ == null ? (context = null, new PathString()) : new PathContext(context = _);\n      if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n      return path;\n    };\n\n    path.pointRadius = function (_) {\n      if (!arguments.length) return pointRadius;\n      pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n      return path;\n    };\n\n    return path.projection(projection).context(context);\n  };\n\n  var clip = function clip(pointVisible, clipLine, interpolate, start) {\n    return function (rotate, sink) {\n      var line = clipLine(sink),\n          rotatedStart = rotate.invert(start[0], start[1]),\n          ringBuffer = clipBuffer(),\n          ringSink = clipLine(ringBuffer),\n          polygonStarted = false,\n          polygon,\n          segments,\n          ring;\n\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function polygonStart() {\n          clip.point = pointRing;\n          clip.lineStart = ringStart;\n          clip.lineEnd = ringEnd;\n          segments = [];\n          polygon = [];\n        },\n        polygonEnd: function polygonEnd() {\n          clip.point = point;\n          clip.lineStart = lineStart;\n          clip.lineEnd = lineEnd;\n          segments = merge(segments);\n          var startInside = polygonContains(polygon, rotatedStart);\n          if (segments.length) {\n            if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n            clipPolygon(segments, compareIntersection, startInside, interpolate, sink);\n          } else if (startInside) {\n            if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n            sink.lineStart();\n            interpolate(null, null, 1, sink);\n            sink.lineEnd();\n          }\n          if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n          segments = polygon = null;\n        },\n        sphere: function sphere() {\n          sink.polygonStart();\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n          sink.polygonEnd();\n        }\n      };\n\n      function point(lambda, phi) {\n        var point = rotate(lambda, phi);\n        if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n      }\n\n      function pointLine(lambda, phi) {\n        var point = rotate(lambda, phi);\n        line.point(point[0], point[1]);\n      }\n\n      function lineStart() {\n        clip.point = pointLine;\n        line.lineStart();\n      }\n\n      function lineEnd() {\n        clip.point = point;\n        line.lineEnd();\n      }\n\n      function pointRing(lambda, phi) {\n        ring.push([lambda, phi]);\n        var point = rotate(lambda, phi);\n        ringSink.point(point[0], point[1]);\n      }\n\n      function ringStart() {\n        ringSink.lineStart();\n        ring = [];\n      }\n\n      function ringEnd() {\n        pointRing(ring[0][0], ring[0][1]);\n        ringSink.lineEnd();\n\n        var clean = ringSink.clean(),\n            ringSegments = ringBuffer.result(),\n            i,\n            n = ringSegments.length,\n            m,\n            segment,\n            point;\n\n        ring.pop();\n        polygon.push(ring);\n        ring = null;\n\n        if (!n) return;\n\n        // No intersections.\n        if (clean & 1) {\n          segment = ringSegments[0];\n          if ((m = segment.length - 1) > 0) {\n            if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n            sink.lineStart();\n            for (i = 0; i < m; ++i) {\n              sink.point((point = segment[i])[0], point[1]);\n            }sink.lineEnd();\n          }\n          return;\n        }\n\n        // Rejoin connected segments.\n        // TODO reuse ringBuffer.rejoin()?\n        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n        segments.push(ringSegments.filter(validSegment));\n      }\n\n      return clip;\n    };\n  };\n\n  function validSegment(segment) {\n    return segment.length > 1;\n  }\n\n  // Intersections are sorted along the clip edge. For both antimeridian cutting\n  // and circle clipping, the same comparison is used.\n  function compareIntersection(a, b) {\n    return ((a = a.x)[0] < 0 ? a[1] - halfPi$2 - epsilon$2 : halfPi$2 - a[1]) - ((b = b.x)[0] < 0 ? b[1] - halfPi$2 - epsilon$2 : halfPi$2 - b[1]);\n  }\n\n  var clipAntimeridian = clip(function () {\n    return true;\n  }, clipAntimeridianLine, clipAntimeridianInterpolate, [-pi$3, -halfPi$2]);\n\n  // Takes a line and cuts into visible segments. Return values: 0 - there were\n  // intersections or the line was empty; 1 - no intersections; 2 - there were\n  // intersections, and the first and last segments should be rejoined.\n  function clipAntimeridianLine(stream) {\n    var lambda0 = NaN,\n        phi0 = NaN,\n        sign0 = NaN,\n        _clean; // no intersections\n\n    return {\n      lineStart: function lineStart() {\n        stream.lineStart();\n        _clean = 1;\n      },\n      point: function point(lambda1, phi1) {\n        var sign1 = lambda1 > 0 ? pi$3 : -pi$3,\n            delta = abs(lambda1 - lambda0);\n        if (abs(delta - pi$3) < epsilon$2) {\n          // line crosses a pole\n          stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi$2 : -halfPi$2);\n          stream.point(sign0, phi0);\n          stream.lineEnd();\n          stream.lineStart();\n          stream.point(sign1, phi0);\n          stream.point(lambda1, phi0);\n          _clean = 0;\n        } else if (sign0 !== sign1 && delta >= pi$3) {\n          // line crosses antimeridian\n          if (abs(lambda0 - sign0) < epsilon$2) lambda0 -= sign0 * epsilon$2; // handle degeneracies\n          if (abs(lambda1 - sign1) < epsilon$2) lambda1 -= sign1 * epsilon$2;\n          phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n          stream.point(sign0, phi0);\n          stream.lineEnd();\n          stream.lineStart();\n          stream.point(sign1, phi0);\n          _clean = 0;\n        }\n        stream.point(lambda0 = lambda1, phi0 = phi1);\n        sign0 = sign1;\n      },\n      lineEnd: function lineEnd() {\n        stream.lineEnd();\n        lambda0 = phi0 = NaN;\n      },\n      clean: function clean() {\n        return 2 - _clean; // if intersections, rejoin first and last segments\n      }\n    };\n  }\n\n  function clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n    var cosPhi0,\n        cosPhi1,\n        sinLambda0Lambda1 = sin$1(lambda0 - lambda1);\n    return abs(sinLambda0Lambda1) > epsilon$2 ? atan((sin$1(phi0) * (cosPhi1 = cos$1(phi1)) * sin$1(lambda1) - sin$1(phi1) * (cosPhi0 = cos$1(phi0)) * sin$1(lambda0)) / (cosPhi0 * cosPhi1 * sinLambda0Lambda1)) : (phi0 + phi1) / 2;\n  }\n\n  function clipAntimeridianInterpolate(from, to, direction, stream) {\n    var phi;\n    if (from == null) {\n      phi = direction * halfPi$2;\n      stream.point(-pi$3, phi);\n      stream.point(0, phi);\n      stream.point(pi$3, phi);\n      stream.point(pi$3, 0);\n      stream.point(pi$3, -phi);\n      stream.point(0, -phi);\n      stream.point(-pi$3, -phi);\n      stream.point(-pi$3, 0);\n      stream.point(-pi$3, phi);\n    } else if (abs(from[0] - to[0]) > epsilon$2) {\n      var lambda = from[0] < to[0] ? pi$3 : -pi$3;\n      phi = direction * lambda / 2;\n      stream.point(-lambda, phi);\n      stream.point(0, phi);\n      stream.point(lambda, phi);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  var clipCircle = function clipCircle(radius, delta) {\n    var cr = cos$1(radius),\n        smallRadius = cr > 0,\n        notHemisphere = abs(cr) > epsilon$2; // TODO optimise for this common case\n\n    function interpolate(from, to, direction, stream) {\n      circleStream(stream, radius, delta, direction, from, to);\n    }\n\n    function visible(lambda, phi) {\n      return cos$1(lambda) * cos$1(phi) > cr;\n    }\n\n    // Takes a line and cuts into visible segments. Return values used for polygon\n    // clipping: 0 - there were intersections or the line was empty; 1 - no\n    // intersections 2 - there were intersections, and the first and last segments\n    // should be rejoined.\n    function clipLine(stream) {\n      var point0, // previous point\n      c0, // code for previous point\n      v0, // visibility of previous point\n      v00, // visibility of first point\n      _clean2; // no intersections\n      return {\n        lineStart: function lineStart() {\n          v00 = v0 = false;\n          _clean2 = 1;\n        },\n        point: function point(lambda, phi) {\n          var point1 = [lambda, phi],\n              point2,\n              v = visible(lambda, phi),\n              c = smallRadius ? v ? 0 : code(lambda, phi) : v ? code(lambda + (lambda < 0 ? pi$3 : -pi$3), phi) : 0;\n          if (!point0 && (v00 = v0 = v)) stream.lineStart();\n          // Handle degeneracies.\n          // TODO ignore if not clipping polygons.\n          if (v !== v0) {\n            point2 = intersect(point0, point1);\n            if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n              point1[0] += epsilon$2;\n              point1[1] += epsilon$2;\n              v = visible(point1[0], point1[1]);\n            }\n          }\n          if (v !== v0) {\n            _clean2 = 0;\n            if (v) {\n              // outside going in\n              stream.lineStart();\n              point2 = intersect(point1, point0);\n              stream.point(point2[0], point2[1]);\n            } else {\n              // inside going out\n              point2 = intersect(point0, point1);\n              stream.point(point2[0], point2[1]);\n              stream.lineEnd();\n            }\n            point0 = point2;\n          } else if (notHemisphere && point0 && smallRadius ^ v) {\n            var t;\n            // If the codes for two points are different, or are both zero,\n            // and there this segment intersects with the small circle.\n            if (!(c & c0) && (t = intersect(point1, point0, true))) {\n              _clean2 = 0;\n              if (smallRadius) {\n                stream.lineStart();\n                stream.point(t[0][0], t[0][1]);\n                stream.point(t[1][0], t[1][1]);\n                stream.lineEnd();\n              } else {\n                stream.point(t[1][0], t[1][1]);\n                stream.lineEnd();\n                stream.lineStart();\n                stream.point(t[0][0], t[0][1]);\n              }\n            }\n          }\n          if (v && (!point0 || !pointEqual(point0, point1))) {\n            stream.point(point1[0], point1[1]);\n          }\n          point0 = point1, v0 = v, c0 = c;\n        },\n        lineEnd: function lineEnd() {\n          if (v0) stream.lineEnd();\n          point0 = null;\n        },\n        // Rejoin first and last segments if there were intersections and the first\n        // and last points were visible.\n        clean: function clean() {\n          return _clean2 | (v00 && v0) << 1;\n        }\n      };\n    }\n\n    // Intersects the great circle between a and b with the clip circle.\n    function intersect(a, b, two) {\n      var pa = cartesian(a),\n          pb = cartesian(b);\n\n      // We have two planes, n1.p = d1 and n2.p = d2.\n      // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n      var n1 = [1, 0, 0],\n          // normal\n      n2 = cartesianCross(pa, pb),\n          n2n2 = cartesianDot(n2, n2),\n          n1n2 = n2[0],\n          // cartesianDot(n1, n2),\n      determinant = n2n2 - n1n2 * n1n2;\n\n      // Two polar points.\n      if (!determinant) return !two && a;\n\n      var c1 = cr * n2n2 / determinant,\n          c2 = -cr * n1n2 / determinant,\n          n1xn2 = cartesianCross(n1, n2),\n          A = cartesianScale(n1, c1),\n          B = cartesianScale(n2, c2);\n      cartesianAddInPlace(A, B);\n\n      // Solve |p(t)|^2 = 1.\n      var u = n1xn2,\n          w = cartesianDot(A, u),\n          uu = cartesianDot(u, u),\n          t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n      if (t2 < 0) return;\n\n      var t = sqrt(t2),\n          q = cartesianScale(u, (-w - t) / uu);\n      cartesianAddInPlace(q, A);\n      q = spherical(q);\n\n      if (!two) return q;\n\n      // Two intersection points.\n      var lambda0 = a[0],\n          lambda1 = b[0],\n          phi0 = a[1],\n          phi1 = b[1],\n          z;\n\n      if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n      var delta = lambda1 - lambda0,\n          polar = abs(delta - pi$3) < epsilon$2,\n          meridian = polar || delta < epsilon$2;\n\n      if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n      // Check that the first point is between a and b.\n      if (meridian ? polar ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon$2 ? phi0 : phi1) : phi0 <= q[1] && q[1] <= phi1 : delta > pi$3 ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n        var q1 = cartesianScale(u, (-w + t) / uu);\n        cartesianAddInPlace(q1, A);\n        return [q, spherical(q1)];\n      }\n    }\n\n    // Generates a 4-bit vector representing the location of a point relative to\n    // the small circle's bounding box.\n    function code(lambda, phi) {\n      var r = smallRadius ? radius : pi$3 - radius,\n          code = 0;\n      if (lambda < -r) code |= 1; // left\n      else if (lambda > r) code |= 2; // right\n      if (phi < -r) code |= 4; // below\n      else if (phi > r) code |= 8; // above\n      return code;\n    }\n\n    return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi$3, radius - pi$3]);\n  };\n\n  var transform = function transform(methods) {\n    return {\n      stream: transformer(methods)\n    };\n  };\n\n  function transformer(methods) {\n    return function (stream) {\n      var s = new TransformStream();\n      for (var key in methods) {\n        s[key] = methods[key];\n      }s.stream = stream;\n      return s;\n    };\n  }\n\n  function TransformStream() {}\n\n  TransformStream.prototype = {\n    constructor: TransformStream,\n    point: function point(x, y) {\n      this.stream.point(x, y);\n    },\n    sphere: function sphere() {\n      this.stream.sphere();\n    },\n    lineStart: function lineStart() {\n      this.stream.lineStart();\n    },\n    lineEnd: function lineEnd() {\n      this.stream.lineEnd();\n    },\n    polygonStart: function polygonStart() {\n      this.stream.polygonStart();\n    },\n    polygonEnd: function polygonEnd() {\n      this.stream.polygonEnd();\n    }\n  };\n\n  function _fitExtent(projection, extent, object) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        clip = projection.clipExtent && projection.clipExtent();\n\n    projection.scale(150).translate([0, 0]);\n\n    if (clip != null) projection.clipExtent(null);\n\n    geoStream(object, projection.stream(boundsStream$1));\n\n    var b = boundsStream$1.result(),\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n    if (clip != null) projection.clipExtent(clip);\n\n    return projection.scale(k * 150).translate([x, y]);\n  }\n\n  function _fitSize(projection, size, object) {\n    return _fitExtent(projection, [[0, 0], size], object);\n  }\n\n  var maxDepth = 16;\n  var cosMinDistance = cos$1(30 * radians); // cos(minimum angular distance)\n\n  var resample = function resample(project, delta2) {\n    return +delta2 ? resample$1(project, delta2) : resampleNone(project);\n  };\n\n  function resampleNone(project) {\n    return transformer({\n      point: function point(x, y) {\n        x = project(x, y);\n        this.stream.point(x[0], x[1]);\n      }\n    });\n  }\n\n  function resample$1(project, delta2) {\n\n    function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n      var dx = x1 - x0,\n          dy = y1 - y0,\n          d2 = dx * dx + dy * dy;\n      if (d2 > 4 * delta2 && depth--) {\n        var a = a0 + a1,\n            b = b0 + b1,\n            c = c0 + c1,\n            m = sqrt(a * a + b * b + c * c),\n            phi2 = asin(c /= m),\n            lambda2 = abs(abs(c) - 1) < epsilon$2 || abs(lambda0 - lambda1) < epsilon$2 ? (lambda0 + lambda1) / 2 : atan2(b, a),\n            p = project(lambda2, phi2),\n            x2 = p[0],\n            y2 = p[1],\n            dx2 = x2 - x0,\n            dy2 = y2 - y0,\n            dz = dy * dx2 - dx * dy2;\n        if (dz * dz / d2 > delta2 // perpendicular projected distance\n        || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n        || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) {\n          // angular distance\n          resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n          stream.point(x2, y2);\n          resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n        }\n      }\n    }\n    return function (stream) {\n      var lambda00, x00, y00, a00, b00, c00, // first point\n      lambda0, x0, y0, a0, b0, c0; // previous point\n\n      var resampleStream = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function polygonStart() {\n          stream.polygonStart();resampleStream.lineStart = ringStart;\n        },\n        polygonEnd: function polygonEnd() {\n          stream.polygonEnd();resampleStream.lineStart = lineStart;\n        }\n      };\n\n      function point(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      }\n\n      function lineStart() {\n        x0 = NaN;\n        resampleStream.point = linePoint;\n        stream.lineStart();\n      }\n\n      function linePoint(lambda, phi) {\n        var c = cartesian([lambda, phi]),\n            p = project(lambda, phi);\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n        stream.point(x0, y0);\n      }\n\n      function lineEnd() {\n        resampleStream.point = point;\n        stream.lineEnd();\n      }\n\n      function ringStart() {\n        lineStart();\n        resampleStream.point = ringPoint;\n        resampleStream.lineEnd = ringEnd;\n      }\n\n      function ringPoint(lambda, phi) {\n        linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n        resampleStream.point = linePoint;\n      }\n\n      function ringEnd() {\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n        resampleStream.lineEnd = lineEnd;\n        lineEnd();\n      }\n\n      return resampleStream;\n    };\n  }\n\n  var transformRadians = transformer({\n    point: function point(x, y) {\n      this.stream.point(x * radians, y * radians);\n    }\n  });\n\n  function projection(project) {\n    return projectionMutator(function () {\n      return project;\n    })();\n  }\n\n  function projectionMutator(projectAt) {\n    var project,\n        k = 150,\n        // scale\n    x = 480,\n        y = 250,\n        // translate\n    dx,\n        dy,\n        lambda = 0,\n        phi = 0,\n        // center\n    deltaLambda = 0,\n        deltaPhi = 0,\n        deltaGamma = 0,\n        rotate,\n        projectRotate,\n        // rotate\n    theta = null,\n        preclip = clipAntimeridian,\n        // clip angle\n    x0 = null,\n        y0,\n        x1,\n        y1,\n        postclip = identity$4,\n        // clip extent\n    delta2 = 0.5,\n        projectResample = resample(projectTransform, delta2),\n        // precision\n    cache,\n        cacheStream;\n\n    function projection(point) {\n      point = projectRotate(point[0] * radians, point[1] * radians);\n      return [point[0] * k + dx, dy - point[1] * k];\n    }\n\n    function invert(point) {\n      point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n      return point && [point[0] * degrees$1, point[1] * degrees$1];\n    }\n\n    function projectTransform(x, y) {\n      return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n    }\n\n    projection.stream = function (stream) {\n      return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n    };\n\n    projection.clipAngle = function (_) {\n      return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees$1;\n    };\n\n    projection.clipExtent = function (_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity$4) : _clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    };\n\n    projection.scale = function (_) {\n      return arguments.length ? (k = +_, recenter()) : k;\n    };\n\n    projection.translate = function (_) {\n      return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n    };\n\n    projection.center = function (_) {\n      return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees$1, phi * degrees$1];\n    };\n\n    projection.rotate = function (_) {\n      return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees$1, deltaPhi * degrees$1, deltaGamma * degrees$1];\n    };\n\n    projection.precision = function (_) {\n      return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n    };\n\n    projection.fitExtent = function (extent, object) {\n      return _fitExtent(projection, extent, object);\n    };\n\n    projection.fitSize = function (size, object) {\n      return _fitSize(projection, size, object);\n    };\n\n    function recenter() {\n      projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n      var center = project(lambda, phi);\n      dx = x - center[0] * k;\n      dy = y + center[1] * k;\n      return reset();\n    }\n\n    function reset() {\n      cache = cacheStream = null;\n      return projection;\n    }\n\n    return function () {\n      project = projectAt.apply(this, arguments);\n      projection.invert = project.invert && invert;\n      return recenter();\n    };\n  }\n\n  function conicProjection(projectAt) {\n    var phi0 = 0,\n        phi1 = pi$3 / 3,\n        m = projectionMutator(projectAt),\n        p = m(phi0, phi1);\n\n    p.parallels = function (_) {\n      return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees$1, phi1 * degrees$1];\n    };\n\n    return p;\n  }\n\n  function cylindricalEqualAreaRaw(phi0) {\n    var cosPhi0 = cos$1(phi0);\n\n    function forward(lambda, phi) {\n      return [lambda * cosPhi0, sin$1(phi) / cosPhi0];\n    }\n\n    forward.invert = function (x, y) {\n      return [x / cosPhi0, asin(y * cosPhi0)];\n    };\n\n    return forward;\n  }\n\n  function conicEqualAreaRaw(y0, y1) {\n    var sy0 = sin$1(y0),\n        n = (sy0 + sin$1(y1)) / 2;\n\n    // Are the parallels symmetrical around the Equator?\n    if (abs(n) < epsilon$2) return cylindricalEqualAreaRaw(y0);\n\n    var c = 1 + sy0 * (2 * n - sy0),\n        r0 = sqrt(c) / n;\n\n    function project(x, y) {\n      var r = sqrt(c - 2 * n * sin$1(y)) / n;\n      return [r * sin$1(x *= n), r0 - r * cos$1(x)];\n    }\n\n    project.invert = function (x, y) {\n      var r0y = r0 - y;\n      return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n    };\n\n    return project;\n  }\n\n  var conicEqualArea = function conicEqualArea() {\n    return conicProjection(conicEqualAreaRaw).scale(155.424).center([0, 33.6442]);\n  };\n\n  var albers = function albers() {\n    return conicEqualArea().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-0.6, 38.7]);\n  };\n\n  // The projections must have mutually exclusive clip regions on the sphere,\n  // as this will avoid emitting interleaving lines and polygons.\n  function multiplex(streams) {\n    var n = streams.length;\n    return {\n      point: function point(x, y) {\n        var i = -1;while (++i < n) {\n          streams[i].point(x, y);\n        }\n      },\n      sphere: function sphere() {\n        var i = -1;while (++i < n) {\n          streams[i].sphere();\n        }\n      },\n      lineStart: function lineStart() {\n        var i = -1;while (++i < n) {\n          streams[i].lineStart();\n        }\n      },\n      lineEnd: function lineEnd() {\n        var i = -1;while (++i < n) {\n          streams[i].lineEnd();\n        }\n      },\n      polygonStart: function polygonStart() {\n        var i = -1;while (++i < n) {\n          streams[i].polygonStart();\n        }\n      },\n      polygonEnd: function polygonEnd() {\n        var i = -1;while (++i < n) {\n          streams[i].polygonEnd();\n        }\n      }\n    };\n  }\n\n  // A composite projection for the United States, configured by default for\n  // 960500. The projection also works quite well at 960600 if you change the\n  // scale to 1285 and adjust the translate accordingly. The set of standard\n  // parallels for each region comes from USGS, which is published here:\n  // http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\n  var albersUsa = function albersUsa() {\n    var cache,\n        cacheStream,\n        lower48 = albers(),\n        lower48Point,\n        alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]),\n        alaskaPoint,\n        // EPSG:3338\n    hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]),\n        hawaiiPoint,\n        // ESRI:102007\n    _point,\n        pointStream = { point: function point(x, y) {\n        _point = [x, y];\n      } };\n\n    function albersUsa(coordinates) {\n      var x = coordinates[0],\n          y = coordinates[1];\n      return _point = null, (lower48Point.point(x, y), _point) || (alaskaPoint.point(x, y), _point) || (hawaiiPoint.point(x, y), _point);\n    }\n\n    albersUsa.invert = function (coordinates) {\n      var k = lower48.scale(),\n          t = lower48.translate(),\n          x = (coordinates[0] - t[0]) / k,\n          y = (coordinates[1] - t[1]) / k;\n      return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii : lower48).invert(coordinates);\n    };\n\n    albersUsa.stream = function (stream) {\n      return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n    };\n\n    albersUsa.precision = function (_) {\n      if (!arguments.length) return lower48.precision();\n      lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n      return reset();\n    };\n\n    albersUsa.scale = function (_) {\n      if (!arguments.length) return lower48.scale();\n      lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n      return albersUsa.translate(lower48.translate());\n    };\n\n    albersUsa.translate = function (_) {\n      if (!arguments.length) return lower48.translate();\n      var k = lower48.scale(),\n          x = +_[0],\n          y = +_[1];\n\n      lower48Point = lower48.translate(_).clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]]).stream(pointStream);\n\n      alaskaPoint = alaska.translate([x - 0.307 * k, y + 0.201 * k]).clipExtent([[x - 0.425 * k + epsilon$2, y + 0.120 * k + epsilon$2], [x - 0.214 * k - epsilon$2, y + 0.234 * k - epsilon$2]]).stream(pointStream);\n\n      hawaiiPoint = hawaii.translate([x - 0.205 * k, y + 0.212 * k]).clipExtent([[x - 0.214 * k + epsilon$2, y + 0.166 * k + epsilon$2], [x - 0.115 * k - epsilon$2, y + 0.234 * k - epsilon$2]]).stream(pointStream);\n\n      return reset();\n    };\n\n    albersUsa.fitExtent = function (extent, object) {\n      return _fitExtent(albersUsa, extent, object);\n    };\n\n    albersUsa.fitSize = function (size, object) {\n      return _fitSize(albersUsa, size, object);\n    };\n\n    function reset() {\n      cache = cacheStream = null;\n      return albersUsa;\n    }\n\n    return albersUsa.scale(1070);\n  };\n\n  function azimuthalRaw(scale) {\n    return function (x, y) {\n      var cx = cos$1(x),\n          cy = cos$1(y),\n          k = scale(cx * cy);\n      return [k * cy * sin$1(x), k * sin$1(y)];\n    };\n  }\n\n  function azimuthalInvert(angle) {\n    return function (x, y) {\n      var z = sqrt(x * x + y * y),\n          c = angle(z),\n          sc = sin$1(c),\n          cc = cos$1(c);\n      return [atan2(x * sc, z * cc), asin(z && y * sc / z)];\n    };\n  }\n\n  var azimuthalEqualAreaRaw = azimuthalRaw(function (cxcy) {\n    return sqrt(2 / (1 + cxcy));\n  });\n\n  azimuthalEqualAreaRaw.invert = azimuthalInvert(function (z) {\n    return 2 * asin(z / 2);\n  });\n\n  var azimuthalEqualArea = function azimuthalEqualArea() {\n    return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180 - 1e-3);\n  };\n\n  var azimuthalEquidistantRaw = azimuthalRaw(function (c) {\n    return (c = acos(c)) && c / sin$1(c);\n  });\n\n  azimuthalEquidistantRaw.invert = azimuthalInvert(function (z) {\n    return z;\n  });\n\n  var azimuthalEquidistant = function azimuthalEquidistant() {\n    return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180 - 1e-3);\n  };\n\n  function mercatorRaw(lambda, phi) {\n    return [lambda, log(tan((halfPi$2 + phi) / 2))];\n  }\n\n  mercatorRaw.invert = function (x, y) {\n    return [x, 2 * atan(exp(y)) - halfPi$2];\n  };\n\n  var mercator = function mercator() {\n    return mercatorProjection(mercatorRaw).scale(961 / tau$3);\n  };\n\n  function mercatorProjection(project) {\n    var m = projection(project),\n        center = m.center,\n        scale = m.scale,\n        translate = m.translate,\n        clipExtent = m.clipExtent,\n        x0 = null,\n        y0,\n        x1,\n        y1; // clip extent\n\n    m.scale = function (_) {\n      return arguments.length ? (scale(_), reclip()) : scale();\n    };\n\n    m.translate = function (_) {\n      return arguments.length ? (translate(_), reclip()) : translate();\n    };\n\n    m.center = function (_) {\n      return arguments.length ? (center(_), reclip()) : center();\n    };\n\n    m.clipExtent = function (_) {\n      return arguments.length ? (_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    };\n\n    function reclip() {\n      var k = pi$3 * scale(),\n          t = m(rotation(m.rotate()).invert([0, 0]));\n      return clipExtent(x0 == null ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]] : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n    }\n\n    return reclip();\n  }\n\n  function tany(y) {\n    return tan((halfPi$2 + y) / 2);\n  }\n\n  function conicConformalRaw(y0, y1) {\n    var cy0 = cos$1(y0),\n        n = y0 === y1 ? sin$1(y0) : log(cy0 / cos$1(y1)) / log(tany(y1) / tany(y0)),\n        f = cy0 * pow(tany(y0), n) / n;\n\n    if (!n) return mercatorRaw;\n\n    function project(x, y) {\n      if (f > 0) {\n        if (y < -halfPi$2 + epsilon$2) y = -halfPi$2 + epsilon$2;\n      } else {\n        if (y > halfPi$2 - epsilon$2) y = halfPi$2 - epsilon$2;\n      }\n      var r = f / pow(tany(y), n);\n      return [r * sin$1(n * x), f - r * cos$1(n * x)];\n    }\n\n    project.invert = function (x, y) {\n      var fy = f - y,\n          r = sign(n) * sqrt(x * x + fy * fy);\n      return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi$2];\n    };\n\n    return project;\n  }\n\n  var conicConformal = function conicConformal() {\n    return conicProjection(conicConformalRaw).scale(109.5).parallels([30, 30]);\n  };\n\n  function equirectangularRaw(lambda, phi) {\n    return [lambda, phi];\n  }\n\n  equirectangularRaw.invert = equirectangularRaw;\n\n  var equirectangular = function equirectangular() {\n    return projection(equirectangularRaw).scale(152.63);\n  };\n\n  function conicEquidistantRaw(y0, y1) {\n    var cy0 = cos$1(y0),\n        n = y0 === y1 ? sin$1(y0) : (cy0 - cos$1(y1)) / (y1 - y0),\n        g = cy0 / n + y0;\n\n    if (abs(n) < epsilon$2) return equirectangularRaw;\n\n    function project(x, y) {\n      var gy = g - y,\n          nx = n * x;\n      return [gy * sin$1(nx), g - gy * cos$1(nx)];\n    }\n\n    project.invert = function (x, y) {\n      var gy = g - y;\n      return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n    };\n\n    return project;\n  }\n\n  var conicEquidistant = function conicEquidistant() {\n    return conicProjection(conicEquidistantRaw).scale(131.154).center([0, 13.9389]);\n  };\n\n  function gnomonicRaw(x, y) {\n    var cy = cos$1(y),\n        k = cos$1(x) * cy;\n    return [cy * sin$1(x) / k, sin$1(y) / k];\n  }\n\n  gnomonicRaw.invert = azimuthalInvert(atan);\n\n  var gnomonic = function gnomonic() {\n    return projection(gnomonicRaw).scale(144.049).clipAngle(60);\n  };\n\n  function scaleTranslate(kx, ky, tx, ty) {\n    return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity$4 : transformer({\n      point: function point(x, y) {\n        this.stream.point(x * kx + tx, y * ky + ty);\n      }\n    });\n  }\n\n  var identity$5 = function identity$5() {\n    var k = 1,\n        tx = 0,\n        ty = 0,\n        sx = 1,\n        sy = 1,\n        transform$$1 = identity$4,\n        // scale, translate and reflect\n    x0 = null,\n        y0,\n        x1,\n        y1,\n        clip = identity$4,\n        // clip extent\n    cache,\n        cacheStream,\n        projection;\n\n    function reset() {\n      cache = cacheStream = null;\n      return projection;\n    }\n\n    return projection = {\n      stream: function stream(_stream2) {\n        return cache && cacheStream === _stream2 ? cache : cache = transform$$1(clip(cacheStream = _stream2));\n      },\n      clipExtent: function clipExtent(_) {\n        return arguments.length ? (clip = _ == null ? (x0 = y0 = x1 = y1 = null, identity$4) : _clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n      },\n      scale: function scale(_) {\n        return arguments.length ? (transform$$1 = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n      },\n      translate: function translate(_) {\n        return arguments.length ? (transform$$1 = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n      },\n      reflectX: function reflectX(_) {\n        return arguments.length ? (transform$$1 = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n      },\n      reflectY: function reflectY(_) {\n        return arguments.length ? (transform$$1 = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n      },\n      fitExtent: function fitExtent(extent, object) {\n        return _fitExtent(projection, extent, object);\n      },\n      fitSize: function fitSize(size, object) {\n        return _fitSize(projection, size, object);\n      }\n    };\n  };\n\n  function orthographicRaw(x, y) {\n    return [cos$1(y) * sin$1(x), sin$1(y)];\n  }\n\n  orthographicRaw.invert = azimuthalInvert(asin);\n\n  var orthographic = function orthographic() {\n    return projection(orthographicRaw).scale(249.5).clipAngle(90 + epsilon$2);\n  };\n\n  function stereographicRaw(x, y) {\n    var cy = cos$1(y),\n        k = 1 + cos$1(x) * cy;\n    return [cy * sin$1(x) / k, sin$1(y) / k];\n  }\n\n  stereographicRaw.invert = azimuthalInvert(function (z) {\n    return 2 * atan(z);\n  });\n\n  var stereographic = function stereographic() {\n    return projection(stereographicRaw).scale(250).clipAngle(142);\n  };\n\n  function transverseMercatorRaw(lambda, phi) {\n    return [log(tan((halfPi$2 + phi) / 2)), -lambda];\n  }\n\n  transverseMercatorRaw.invert = function (x, y) {\n    return [-y, 2 * atan(exp(x)) - halfPi$2];\n  };\n\n  var transverseMercator = function transverseMercator() {\n    var m = mercatorProjection(transverseMercatorRaw),\n        center = m.center,\n        rotate = m.rotate;\n\n    m.center = function (_) {\n      return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n    };\n\n    m.rotate = function (_) {\n      return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n    };\n\n    return rotate([0, 0, 90]).scale(159.155);\n  };\n\n  function defaultSeparation(a, b) {\n    return a.parent === b.parent ? 1 : 2;\n  }\n\n  function meanX(children) {\n    return children.reduce(meanXReduce, 0) / children.length;\n  }\n\n  function meanXReduce(x, c) {\n    return x + c.x;\n  }\n\n  function maxY(children) {\n    return 1 + children.reduce(maxYReduce, 0);\n  }\n\n  function maxYReduce(y, c) {\n    return Math.max(y, c.y);\n  }\n\n  function leafLeft(node) {\n    var children;\n    while (children = node.children) {\n      node = children[0];\n    }return node;\n  }\n\n  function leafRight(node) {\n    var children;\n    while (children = node.children) {\n      node = children[children.length - 1];\n    }return node;\n  }\n\n  var cluster = function cluster() {\n    var separation = defaultSeparation,\n        dx = 1,\n        dy = 1,\n        nodeSize = false;\n\n    function cluster(root) {\n      var previousNode,\n          x = 0;\n\n      // First walk, computing the initial x & y values.\n      root.eachAfter(function (node) {\n        var children = node.children;\n        if (children) {\n          node.x = meanX(children);\n          node.y = maxY(children);\n        } else {\n          node.x = previousNode ? x += separation(node, previousNode) : 0;\n          node.y = 0;\n          previousNode = node;\n        }\n      });\n\n      var left = leafLeft(root),\n          right = leafRight(root),\n          x0 = left.x - separation(left, right) / 2,\n          x1 = right.x + separation(right, left) / 2;\n\n      // Second walk, normalizing x & y to the desired size.\n      return root.eachAfter(nodeSize ? function (node) {\n        node.x = (node.x - root.x) * dx;\n        node.y = (root.y - node.y) * dy;\n      } : function (node) {\n        node.x = (node.x - x0) / (x1 - x0) * dx;\n        node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n      });\n    }\n\n    cluster.separation = function (x) {\n      return arguments.length ? (separation = x, cluster) : separation;\n    };\n\n    cluster.size = function (x) {\n      return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : nodeSize ? null : [dx, dy];\n    };\n\n    cluster.nodeSize = function (x) {\n      return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : nodeSize ? [dx, dy] : null;\n    };\n\n    return cluster;\n  };\n\n  function count(node) {\n    var sum = 0,\n        children = node.children,\n        i = children && children.length;\n    if (!i) sum = 1;else while (--i >= 0) {\n      sum += children[i].value;\n    }node.value = sum;\n  }\n\n  var node_count = function node_count() {\n    return this.eachAfter(count);\n  };\n\n  var node_each = function node_each(callback) {\n    var node = this,\n        current,\n        next = [node],\n        children,\n        i,\n        n;\n    do {\n      current = next.reverse(), next = [];\n      while (node = current.pop()) {\n        callback(node), children = node.children;\n        if (children) for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    } while (next.length);\n    return this;\n  };\n\n  var node_eachBefore = function node_eachBefore(callback) {\n    var node = this,\n        nodes = [node],\n        children,\n        i;\n    while (node = nodes.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n    return this;\n  };\n\n  var node_eachAfter = function node_eachAfter(callback) {\n    var node = this,\n        nodes = [node],\n        next = [],\n        children,\n        i,\n        n;\n    while (node = nodes.pop()) {\n      next.push(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n    while (node = next.pop()) {\n      callback(node);\n    }\n    return this;\n  };\n\n  var node_sum = function node_sum(value) {\n    return this.eachAfter(function (node) {\n      var sum = +value(node.data) || 0,\n          children = node.children,\n          i = children && children.length;\n      while (--i >= 0) {\n        sum += children[i].value;\n      }node.value = sum;\n    });\n  };\n\n  var node_sort = function node_sort(compare) {\n    return this.eachBefore(function (node) {\n      if (node.children) {\n        node.children.sort(compare);\n      }\n    });\n  };\n\n  var node_path = function node_path(end) {\n    var start = this,\n        ancestor = leastCommonAncestor(start, end),\n        nodes = [start];\n    while (start !== ancestor) {\n      start = start.parent;\n      nodes.push(start);\n    }\n    var k = nodes.length;\n    while (end !== ancestor) {\n      nodes.splice(k, 0, end);\n      end = end.parent;\n    }\n    return nodes;\n  };\n\n  function leastCommonAncestor(a, b) {\n    if (a === b) return a;\n    var aNodes = a.ancestors(),\n        bNodes = b.ancestors(),\n        c = null;\n    a = aNodes.pop();\n    b = bNodes.pop();\n    while (a === b) {\n      c = a;\n      a = aNodes.pop();\n      b = bNodes.pop();\n    }\n    return c;\n  }\n\n  var node_ancestors = function node_ancestors() {\n    var node = this,\n        nodes = [node];\n    while (node = node.parent) {\n      nodes.push(node);\n    }\n    return nodes;\n  };\n\n  var node_descendants = function node_descendants() {\n    var nodes = [];\n    this.each(function (node) {\n      nodes.push(node);\n    });\n    return nodes;\n  };\n\n  var node_leaves = function node_leaves() {\n    var leaves = [];\n    this.eachBefore(function (node) {\n      if (!node.children) {\n        leaves.push(node);\n      }\n    });\n    return leaves;\n  };\n\n  var node_links = function node_links() {\n    var root = this,\n        links = [];\n    root.each(function (node) {\n      if (node !== root) {\n        // Dont include the roots parent, if any.\n        links.push({ source: node.parent, target: node });\n      }\n    });\n    return links;\n  };\n\n  function hierarchy(data, children) {\n    var root = new Node(data),\n        valued = +data.value && (root.value = data.value),\n        node,\n        nodes = [root],\n        child,\n        childs,\n        i,\n        n;\n\n    if (children == null) children = defaultChildren;\n\n    while (node = nodes.pop()) {\n      if (valued) node.value = +node.data.value;\n      if ((childs = children(node.data)) && (n = childs.length)) {\n        node.children = new Array(n);\n        for (i = n - 1; i >= 0; --i) {\n          nodes.push(child = node.children[i] = new Node(childs[i]));\n          child.parent = node;\n          child.depth = node.depth + 1;\n        }\n      }\n    }\n\n    return root.eachBefore(computeHeight);\n  }\n\n  function node_copy() {\n    return hierarchy(this).eachBefore(copyData);\n  }\n\n  function defaultChildren(d) {\n    return d.children;\n  }\n\n  function copyData(node) {\n    node.data = node.data.data;\n  }\n\n  function computeHeight(node) {\n    var height = 0;\n    do {\n      node.height = height;\n    } while ((node = node.parent) && node.height < ++height);\n  }\n\n  function Node(data) {\n    this.data = data;\n    this.depth = this.height = 0;\n    this.parent = null;\n  }\n\n  Node.prototype = hierarchy.prototype = {\n    constructor: Node,\n    count: node_count,\n    each: node_each,\n    eachAfter: node_eachAfter,\n    eachBefore: node_eachBefore,\n    sum: node_sum,\n    sort: node_sort,\n    path: node_path,\n    ancestors: node_ancestors,\n    descendants: node_descendants,\n    leaves: node_leaves,\n    links: node_links,\n    copy: node_copy\n  };\n\n  var slice$3 = Array.prototype.slice;\n\n  function shuffle$1(array) {\n    var m = array.length,\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m];\n      array[m] = array[i];\n      array[i] = t;\n    }\n\n    return array;\n  }\n\n  var enclose = function enclose(circles) {\n    var i = 0,\n        n = (circles = shuffle$1(slice$3.call(circles))).length,\n        B = [],\n        p,\n        e;\n\n    while (i < n) {\n      p = circles[i];\n      if (e && enclosesWeak(e, p)) ++i;else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n    }\n\n    return e;\n  };\n\n  function extendBasis(B, p) {\n    var i, j;\n\n    if (enclosesWeakAll(p, B)) return [p];\n\n    // If we get here then B must have at least one element.\n    for (i = 0; i < B.length; ++i) {\n      if (enclosesNot(p, B[i]) && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n        return [B[i], p];\n      }\n    }\n\n    // If we get here then B must have at least two elements.\n    for (i = 0; i < B.length - 1; ++i) {\n      for (j = i + 1; j < B.length; ++j) {\n        if (enclosesNot(encloseBasis2(B[i], B[j]), p) && enclosesNot(encloseBasis2(B[i], p), B[j]) && enclosesNot(encloseBasis2(B[j], p), B[i]) && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n          return [B[i], B[j], p];\n        }\n      }\n    }\n\n    // If we get here then something is very wrong.\n    throw new Error();\n  }\n\n  function enclosesNot(a, b) {\n    var dr = a.r - b.r,\n        dx = b.x - a.x,\n        dy = b.y - a.y;\n    return dr < 0 || dr * dr < dx * dx + dy * dy;\n  }\n\n  function enclosesWeak(a, b) {\n    var dr = a.r - b.r + 1e-6,\n        dx = b.x - a.x,\n        dy = b.y - a.y;\n    return dr > 0 && dr * dr > dx * dx + dy * dy;\n  }\n\n  function enclosesWeakAll(a, B) {\n    for (var i = 0; i < B.length; ++i) {\n      if (!enclosesWeak(a, B[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function encloseBasis(B) {\n    switch (B.length) {\n      case 1:\n        return encloseBasis1(B[0]);\n      case 2:\n        return encloseBasis2(B[0], B[1]);\n      case 3:\n        return encloseBasis3(B[0], B[1], B[2]);\n    }\n  }\n\n  function encloseBasis1(a) {\n    return {\n      x: a.x,\n      y: a.y,\n      r: a.r\n    };\n  }\n\n  function encloseBasis2(a, b) {\n    var x1 = a.x,\n        y1 = a.y,\n        r1 = a.r,\n        x2 = b.x,\n        y2 = b.y,\n        r2 = b.r,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        r21 = r2 - r1,\n        l = Math.sqrt(x21 * x21 + y21 * y21);\n    return {\n      x: (x1 + x2 + x21 / l * r21) / 2,\n      y: (y1 + y2 + y21 / l * r21) / 2,\n      r: (l + r1 + r2) / 2\n    };\n  }\n\n  function encloseBasis3(a, b, c) {\n    var x1 = a.x,\n        y1 = a.y,\n        r1 = a.r,\n        x2 = b.x,\n        y2 = b.y,\n        r2 = b.r,\n        x3 = c.x,\n        y3 = c.y,\n        r3 = c.r,\n        a2 = x1 - x2,\n        a3 = x1 - x3,\n        b2 = y1 - y2,\n        b3 = y1 - y3,\n        c2 = r2 - r1,\n        c3 = r3 - r1,\n        d1 = x1 * x1 + y1 * y1 - r1 * r1,\n        d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n        d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n        ab = a3 * b2 - a2 * b3,\n        xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n        xb = (b3 * c2 - b2 * c3) / ab,\n        ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n        yb = (a2 * c3 - a3 * c2) / ab,\n        A = xb * xb + yb * yb - 1,\n        B = 2 * (r1 + xa * xb + ya * yb),\n        C = xa * xa + ya * ya - r1 * r1,\n        r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n    return {\n      x: x1 + xa + xb * r,\n      y: y1 + ya + yb * r,\n      r: r\n    };\n  }\n\n  function place(a, b, c) {\n    var ax = a.x,\n        ay = a.y,\n        da = b.r + c.r,\n        db = a.r + c.r,\n        dx = b.x - ax,\n        dy = b.y - ay,\n        dc = dx * dx + dy * dy;\n    if (dc) {\n      var x = 0.5 + ((db *= db) - (da *= da)) / (2 * dc),\n          y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n      c.x = ax + x * dx + y * dy;\n      c.y = ay + x * dy - y * dx;\n    } else {\n      c.x = ax + db;\n      c.y = ay;\n    }\n  }\n\n  function intersects(a, b) {\n    var dx = b.x - a.x,\n        dy = b.y - a.y,\n        dr = a.r + b.r;\n    return dr * dr - 1e-6 > dx * dx + dy * dy;\n  }\n\n  function score(node) {\n    var a = node._,\n        b = node.next._,\n        ab = a.r + b.r,\n        dx = (a.x * b.r + b.x * a.r) / ab,\n        dy = (a.y * b.r + b.y * a.r) / ab;\n    return dx * dx + dy * dy;\n  }\n\n  function Node$1(circle) {\n    this._ = circle;\n    this.next = null;\n    this.previous = null;\n  }\n\n  function packEnclose(circles) {\n    if (!(n = circles.length)) return 0;\n\n    var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n    // Place the first circle.\n    a = circles[0], a.x = 0, a.y = 0;\n    if (!(n > 1)) return a.r;\n\n    // Place the second circle.\n    b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n    if (!(n > 2)) return a.r + b.r;\n\n    // Place the third circle.\n    place(b, a, c = circles[2]);\n\n    // Initialize the front-chain using the first three circles a, b and c.\n    a = new Node$1(a), b = new Node$1(b), c = new Node$1(c);\n    a.next = c.previous = b;\n    b.next = a.previous = c;\n    c.next = b.previous = a;\n\n    // Attempt to place each remaining circle\n    pack: for (i = 3; i < n; ++i) {\n      place(a._, b._, c = circles[i]), c = new Node$1(c);\n\n      // Find the closest intersecting circle on the front-chain, if any.\n      // Closeness is determined by linear distance along the front-chain.\n      // Ahead or behind is likewise determined by linear distance.\n      j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n      do {\n        if (sj <= sk) {\n          if (intersects(j._, c._)) {\n            b = j, a.next = b, b.previous = a, --i;\n            continue pack;\n          }\n          sj += j._.r, j = j.next;\n        } else {\n          if (intersects(k._, c._)) {\n            a = k, a.next = b, b.previous = a, --i;\n            continue pack;\n          }\n          sk += k._.r, k = k.previous;\n        }\n      } while (j !== k.next);\n\n      // Success! Insert the new circle c between a and b.\n      c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n      // Compute the new closest circle pair to the centroid.\n      aa = score(a);\n      while ((c = c.next) !== b) {\n        if ((ca = score(c)) < aa) {\n          a = c, aa = ca;\n        }\n      }\n      b = a.next;\n    }\n\n    // Compute the enclosing circle of the front chain.\n    a = [b._], c = b;while ((c = c.next) !== b) {\n      a.push(c._);\n    }c = enclose(a);\n\n    // Translate the circles to put the enclosing circle around the origin.\n    for (i = 0; i < n; ++i) {\n      a = circles[i], a.x -= c.x, a.y -= c.y;\n    }return c.r;\n  }\n\n  var siblings = function siblings(circles) {\n    packEnclose(circles);\n    return circles;\n  };\n\n  function optional(f) {\n    return f == null ? null : required(f);\n  }\n\n  function required(f) {\n    if (typeof f !== \"function\") throw new Error();\n    return f;\n  }\n\n  function constantZero() {\n    return 0;\n  }\n\n  var constant$8 = function constant$8(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  function defaultRadius$1(d) {\n    return Math.sqrt(d.value);\n  }\n\n  var index$2 = function index$2() {\n    var radius = null,\n        dx = 1,\n        dy = 1,\n        padding = constantZero;\n\n    function pack(root) {\n      root.x = dx / 2, root.y = dy / 2;\n      if (radius) {\n        root.eachBefore(radiusLeaf(radius)).eachAfter(packChildren(padding, 0.5)).eachBefore(translateChild(1));\n      } else {\n        root.eachBefore(radiusLeaf(defaultRadius$1)).eachAfter(packChildren(constantZero, 1)).eachAfter(packChildren(padding, root.r / Math.min(dx, dy))).eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n      }\n      return root;\n    }\n\n    pack.radius = function (x) {\n      return arguments.length ? (radius = optional(x), pack) : radius;\n    };\n\n    pack.size = function (x) {\n      return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n    };\n\n    pack.padding = function (x) {\n      return arguments.length ? (padding = typeof x === \"function\" ? x : constant$8(+x), pack) : padding;\n    };\n\n    return pack;\n  };\n\n  function radiusLeaf(radius) {\n    return function (node) {\n      if (!node.children) {\n        node.r = Math.max(0, +radius(node) || 0);\n      }\n    };\n  }\n\n  function packChildren(padding, k) {\n    return function (node) {\n      if (children = node.children) {\n        var children,\n            i,\n            n = children.length,\n            r = padding(node) * k || 0,\n            e;\n\n        if (r) for (i = 0; i < n; ++i) {\n          children[i].r += r;\n        }e = packEnclose(children);\n        if (r) for (i = 0; i < n; ++i) {\n          children[i].r -= r;\n        }node.r = e + r;\n      }\n    };\n  }\n\n  function translateChild(k) {\n    return function (node) {\n      var parent = node.parent;\n      node.r *= k;\n      if (parent) {\n        node.x = parent.x + k * node.x;\n        node.y = parent.y + k * node.y;\n      }\n    };\n  }\n\n  var roundNode = function roundNode(node) {\n    node.x0 = Math.round(node.x0);\n    node.y0 = Math.round(node.y0);\n    node.x1 = Math.round(node.x1);\n    node.y1 = Math.round(node.y1);\n  };\n\n  var treemapDice = function treemapDice(parent, x0, y0, x1, y1) {\n    var nodes = parent.children,\n        node,\n        i = -1,\n        n = nodes.length,\n        k = parent.value && (x1 - x0) / parent.value;\n\n    while (++i < n) {\n      node = nodes[i], node.y0 = y0, node.y1 = y1;\n      node.x0 = x0, node.x1 = x0 += node.value * k;\n    }\n  };\n\n  var partition = function partition() {\n    var dx = 1,\n        dy = 1,\n        padding = 0,\n        round = false;\n\n    function partition(root) {\n      var n = root.height + 1;\n      root.x0 = root.y0 = padding;\n      root.x1 = dx;\n      root.y1 = dy / n;\n      root.eachBefore(positionNode(dy, n));\n      if (round) root.eachBefore(roundNode);\n      return root;\n    }\n\n    function positionNode(dy, n) {\n      return function (node) {\n        if (node.children) {\n          treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n        }\n        var x0 = node.x0,\n            y0 = node.y0,\n            x1 = node.x1 - padding,\n            y1 = node.y1 - padding;\n        if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n        if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n        node.x0 = x0;\n        node.y0 = y0;\n        node.x1 = x1;\n        node.y1 = y1;\n      };\n    }\n\n    partition.round = function (x) {\n      return arguments.length ? (round = !!x, partition) : round;\n    };\n\n    partition.size = function (x) {\n      return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n    };\n\n    partition.padding = function (x) {\n      return arguments.length ? (padding = +x, partition) : padding;\n    };\n\n    return partition;\n  };\n\n  var keyPrefix$1 = \"$\";\n  var preroot = { depth: -1 };\n  var ambiguous = {};\n\n  function defaultId(d) {\n    return d.id;\n  }\n\n  function defaultParentId(d) {\n    return d.parentId;\n  }\n\n  var stratify = function stratify() {\n    var id = defaultId,\n        parentId = defaultParentId;\n\n    function stratify(data) {\n      var d,\n          i,\n          n = data.length,\n          root,\n          parent,\n          node,\n          nodes = new Array(n),\n          nodeId,\n          nodeKey,\n          nodeByKey = {};\n\n      for (i = 0; i < n; ++i) {\n        d = data[i], node = nodes[i] = new Node(d);\n        if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n          nodeKey = keyPrefix$1 + (node.id = nodeId);\n          nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n        }\n      }\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i], nodeId = parentId(data[i], i, data);\n        if (nodeId == null || !(nodeId += \"\")) {\n          if (root) throw new Error(\"multiple roots\");\n          root = node;\n        } else {\n          parent = nodeByKey[keyPrefix$1 + nodeId];\n          if (!parent) throw new Error(\"missing: \" + nodeId);\n          if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n          if (parent.children) parent.children.push(node);else parent.children = [node];\n          node.parent = parent;\n        }\n      }\n\n      if (!root) throw new Error(\"no root\");\n      root.parent = preroot;\n      root.eachBefore(function (node) {\n        node.depth = node.parent.depth + 1;--n;\n      }).eachBefore(computeHeight);\n      root.parent = null;\n      if (n > 0) throw new Error(\"cycle\");\n\n      return root;\n    }\n\n    stratify.id = function (x) {\n      return arguments.length ? (id = required(x), stratify) : id;\n    };\n\n    stratify.parentId = function (x) {\n      return arguments.length ? (parentId = required(x), stratify) : parentId;\n    };\n\n    return stratify;\n  };\n\n  function defaultSeparation$1(a, b) {\n    return a.parent === b.parent ? 1 : 2;\n  }\n\n  // function radialSeparation(a, b) {\n  //   return (a.parent === b.parent ? 1 : 2) / a.depth;\n  // }\n\n  // This function is used to traverse the left contour of a subtree (or\n  // subforest). It returns the successor of v on this contour. This successor is\n  // either given by the leftmost child of v or by the thread of v. The function\n  // returns null if and only if v is on the highest level of its subtree.\n  function nextLeft(v) {\n    var children = v.children;\n    return children ? children[0] : v.t;\n  }\n\n  // This function works analogously to nextLeft.\n  function nextRight(v) {\n    var children = v.children;\n    return children ? children[children.length - 1] : v.t;\n  }\n\n  // Shifts the current subtree rooted at w+. This is done by increasing\n  // prelim(w+) and mod(w+) by shift.\n  function moveSubtree(wm, wp, shift) {\n    var change = shift / (wp.i - wm.i);\n    wp.c -= change;\n    wp.s += shift;\n    wm.c += change;\n    wp.z += shift;\n    wp.m += shift;\n  }\n\n  // All other shifts, applied to the smaller subtrees between w- and w+, are\n  // performed by this function. To prepare the shifts, we have to adjust\n  // change(w+), shift(w+), and change(w-).\n  function executeShifts(v) {\n    var shift = 0,\n        change = 0,\n        children = v.children,\n        i = children.length,\n        w;\n    while (--i >= 0) {\n      w = children[i];\n      w.z += shift;\n      w.m += shift;\n      shift += w.s + (change += w.c);\n    }\n  }\n\n  // If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n  // returns the specified (default) ancestor.\n  function nextAncestor(vim, v, ancestor) {\n    return vim.a.parent === v.parent ? vim.a : ancestor;\n  }\n\n  function TreeNode(node, i) {\n    this._ = node;\n    this.parent = null;\n    this.children = null;\n    this.A = null; // default ancestor\n    this.a = this; // ancestor\n    this.z = 0; // prelim\n    this.m = 0; // mod\n    this.c = 0; // change\n    this.s = 0; // shift\n    this.t = null; // thread\n    this.i = i; // number\n  }\n\n  TreeNode.prototype = Object.create(Node.prototype);\n\n  function treeRoot(root) {\n    var tree = new TreeNode(root, 0),\n        node,\n        nodes = [tree],\n        child,\n        children,\n        i,\n        n;\n\n    while (node = nodes.pop()) {\n      if (children = node._.children) {\n        node.children = new Array(n = children.length);\n        for (i = n - 1; i >= 0; --i) {\n          nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n          child.parent = node;\n        }\n      }\n    }\n\n    (tree.parent = new TreeNode(null, 0)).children = [tree];\n    return tree;\n  }\n\n  // Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\n  var tree = function tree() {\n    var separation = defaultSeparation$1,\n        dx = 1,\n        dy = 1,\n        nodeSize = null;\n\n    function tree(root) {\n      var t = treeRoot(root);\n\n      // Compute the layout using Buchheim et al.s algorithm.\n      t.eachAfter(firstWalk), t.parent.m = -t.z;\n      t.eachBefore(secondWalk);\n\n      // If a fixed node size is specified, scale x and y.\n      if (nodeSize) root.eachBefore(sizeNode);\n\n      // If a fixed tree size is specified, scale x and y based on the extent.\n      // Compute the left-most, right-most, and depth-most nodes for extents.\n      else {\n          var left = root,\n              right = root,\n              bottom = root;\n          root.eachBefore(function (node) {\n            if (node.x < left.x) left = node;\n            if (node.x > right.x) right = node;\n            if (node.depth > bottom.depth) bottom = node;\n          });\n          var s = left === right ? 1 : separation(left, right) / 2,\n              tx = s - left.x,\n              kx = dx / (right.x + s + tx),\n              ky = dy / (bottom.depth || 1);\n          root.eachBefore(function (node) {\n            node.x = (node.x + tx) * kx;\n            node.y = node.depth * ky;\n          });\n        }\n\n      return root;\n    }\n\n    // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n    // applied recursively to the children of v, as well as the function\n    // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n    // node v is placed to the midpoint of its outermost children.\n    function firstWalk(v) {\n      var children = v.children,\n          siblings = v.parent.children,\n          w = v.i ? siblings[v.i - 1] : null;\n      if (children) {\n        executeShifts(v);\n        var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n        if (w) {\n          v.z = w.z + separation(v._, w._);\n          v.m = v.z - midpoint;\n        } else {\n          v.z = midpoint;\n        }\n      } else if (w) {\n        v.z = w.z + separation(v._, w._);\n      }\n      v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n    }\n\n    // Computes all real x-coordinates by summing up the modifiers recursively.\n    function secondWalk(v) {\n      v._.x = v.z + v.parent.m;\n      v.m += v.parent.m;\n    }\n\n    // The core of the algorithm. Here, a new subtree is combined with the\n    // previous subtrees. Threads are used to traverse the inside and outside\n    // contours of the left and right subtree up to the highest common level. The\n    // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n    // superscript o means outside and i means inside, the subscript - means left\n    // subtree and + means right subtree. For summing up the modifiers along the\n    // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n    // nodes of the inside contours conflict, we compute the left one of the\n    // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n    // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n    // Finally, we add a new thread (if necessary).\n    function apportion(v, w, ancestor) {\n      if (w) {\n        var vip = v,\n            vop = v,\n            vim = w,\n            vom = vip.parent.children[0],\n            sip = vip.m,\n            sop = vop.m,\n            sim = vim.m,\n            som = vom.m,\n            shift;\n        while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n          vom = nextLeft(vom);\n          vop = nextRight(vop);\n          vop.a = v;\n          shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n          if (shift > 0) {\n            moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n            sip += shift;\n            sop += shift;\n          }\n          sim += vim.m;\n          sip += vip.m;\n          som += vom.m;\n          sop += vop.m;\n        }\n        if (vim && !nextRight(vop)) {\n          vop.t = vim;\n          vop.m += sim - sop;\n        }\n        if (vip && !nextLeft(vom)) {\n          vom.t = vip;\n          vom.m += sip - som;\n          ancestor = v;\n        }\n      }\n      return ancestor;\n    }\n\n    function sizeNode(node) {\n      node.x *= dx;\n      node.y = node.depth * dy;\n    }\n\n    tree.separation = function (x) {\n      return arguments.length ? (separation = x, tree) : separation;\n    };\n\n    tree.size = function (x) {\n      return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : nodeSize ? null : [dx, dy];\n    };\n\n    tree.nodeSize = function (x) {\n      return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : nodeSize ? [dx, dy] : null;\n    };\n\n    return tree;\n  };\n\n  var treemapSlice = function treemapSlice(parent, x0, y0, x1, y1) {\n    var nodes = parent.children,\n        node,\n        i = -1,\n        n = nodes.length,\n        k = parent.value && (y1 - y0) / parent.value;\n\n    while (++i < n) {\n      node = nodes[i], node.x0 = x0, node.x1 = x1;\n      node.y0 = y0, node.y1 = y0 += node.value * k;\n    }\n  };\n\n  var phi = (1 + Math.sqrt(5)) / 2;\n\n  function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n    var rows = [],\n        nodes = parent.children,\n        row,\n        nodeValue,\n        i0 = 0,\n        i1 = 0,\n        n = nodes.length,\n        dx,\n        dy,\n        value = parent.value,\n        sumValue,\n        minValue,\n        maxValue,\n        newRatio,\n        minRatio,\n        alpha,\n        beta;\n\n    while (i0 < n) {\n      dx = x1 - x0, dy = y1 - y0;\n\n      // Find the next non-empty node.\n      do {\n        sumValue = nodes[i1++].value;\n      } while (!sumValue && i1 < n);\n      minValue = maxValue = sumValue;\n      alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n      beta = sumValue * sumValue * alpha;\n      minRatio = Math.max(maxValue / beta, beta / minValue);\n\n      // Keep adding nodes while the aspect ratio maintains or improves.\n      for (; i1 < n; ++i1) {\n        sumValue += nodeValue = nodes[i1].value;\n        if (nodeValue < minValue) minValue = nodeValue;\n        if (nodeValue > maxValue) maxValue = nodeValue;\n        beta = sumValue * sumValue * alpha;\n        newRatio = Math.max(maxValue / beta, beta / minValue);\n        if (newRatio > minRatio) {\n          sumValue -= nodeValue;break;\n        }\n        minRatio = newRatio;\n      }\n\n      // Position and record the row orientation.\n      rows.push(row = { value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1) });\n      if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n      value -= sumValue, i0 = i1;\n    }\n\n    return rows;\n  }\n\n  var squarify = function custom(ratio) {\n\n    function squarify(parent, x0, y0, x1, y1) {\n      squarifyRatio(ratio, parent, x0, y0, x1, y1);\n    }\n\n    squarify.ratio = function (x) {\n      return custom((x = +x) > 1 ? x : 1);\n    };\n\n    return squarify;\n  }(phi);\n\n  var index$3 = function index$3() {\n    var tile = squarify,\n        round = false,\n        dx = 1,\n        dy = 1,\n        paddingStack = [0],\n        paddingInner = constantZero,\n        paddingTop = constantZero,\n        paddingRight = constantZero,\n        paddingBottom = constantZero,\n        paddingLeft = constantZero;\n\n    function treemap(root) {\n      root.x0 = root.y0 = 0;\n      root.x1 = dx;\n      root.y1 = dy;\n      root.eachBefore(positionNode);\n      paddingStack = [0];\n      if (round) root.eachBefore(roundNode);\n      return root;\n    }\n\n    function positionNode(node) {\n      var p = paddingStack[node.depth],\n          x0 = node.x0 + p,\n          y0 = node.y0 + p,\n          x1 = node.x1 - p,\n          y1 = node.y1 - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n      if (node.children) {\n        p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n        x0 += paddingLeft(node) - p;\n        y0 += paddingTop(node) - p;\n        x1 -= paddingRight(node) - p;\n        y1 -= paddingBottom(node) - p;\n        if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n        if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n        tile(node, x0, y0, x1, y1);\n      }\n    }\n\n    treemap.round = function (x) {\n      return arguments.length ? (round = !!x, treemap) : round;\n    };\n\n    treemap.size = function (x) {\n      return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n    };\n\n    treemap.tile = function (x) {\n      return arguments.length ? (tile = required(x), treemap) : tile;\n    };\n\n    treemap.padding = function (x) {\n      return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n    };\n\n    treemap.paddingInner = function (x) {\n      return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingInner;\n    };\n\n    treemap.paddingOuter = function (x) {\n      return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n    };\n\n    treemap.paddingTop = function (x) {\n      return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingTop;\n    };\n\n    treemap.paddingRight = function (x) {\n      return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingRight;\n    };\n\n    treemap.paddingBottom = function (x) {\n      return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingBottom;\n    };\n\n    treemap.paddingLeft = function (x) {\n      return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingLeft;\n    };\n\n    return treemap;\n  };\n\n  var binary = function binary(parent, x0, y0, x1, y1) {\n    var nodes = parent.children,\n        i,\n        n = nodes.length,\n        sum,\n        sums = new Array(n + 1);\n\n    for (sums[0] = sum = i = 0; i < n; ++i) {\n      sums[i + 1] = sum += nodes[i].value;\n    }\n\n    partition(0, n, parent.value, x0, y0, x1, y1);\n\n    function partition(i, j, value, x0, y0, x1, y1) {\n      if (i >= j - 1) {\n        var node = nodes[i];\n        node.x0 = x0, node.y0 = y0;\n        node.x1 = x1, node.y1 = y1;\n        return;\n      }\n\n      var valueOffset = sums[i],\n          valueTarget = value / 2 + valueOffset,\n          k = i + 1,\n          hi = j - 1;\n\n      while (k < hi) {\n        var mid = k + hi >>> 1;\n        if (sums[mid] < valueTarget) k = mid + 1;else hi = mid;\n      }\n\n      if (valueTarget - sums[k - 1] < sums[k] - valueTarget && i + 1 < k) --k;\n\n      var valueLeft = sums[k] - valueOffset,\n          valueRight = value - valueLeft;\n\n      if (x1 - x0 > y1 - y0) {\n        var xk = (x0 * valueRight + x1 * valueLeft) / value;\n        partition(i, k, valueLeft, x0, y0, xk, y1);\n        partition(k, j, valueRight, xk, y0, x1, y1);\n      } else {\n        var yk = (y0 * valueRight + y1 * valueLeft) / value;\n        partition(i, k, valueLeft, x0, y0, x1, yk);\n        partition(k, j, valueRight, x0, yk, x1, y1);\n      }\n    }\n  };\n\n  var sliceDice = function sliceDice(parent, x0, y0, x1, y1) {\n    (parent.depth & 1 ? treemapSlice : treemapDice)(parent, x0, y0, x1, y1);\n  };\n\n  var resquarify = function custom(ratio) {\n\n    function resquarify(parent, x0, y0, x1, y1) {\n      if ((rows = parent._squarify) && rows.ratio === ratio) {\n        var rows,\n            row,\n            nodes,\n            i,\n            j = -1,\n            n,\n            m = rows.length,\n            value = parent.value;\n\n        while (++j < m) {\n          row = rows[j], nodes = row.children;\n          for (i = row.value = 0, n = nodes.length; i < n; ++i) {\n            row.value += nodes[i].value;\n          }if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n          value -= row.value;\n        }\n      } else {\n        parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n        rows.ratio = ratio;\n      }\n    }\n\n    resquarify.ratio = function (x) {\n      return custom((x = +x) > 1 ? x : 1);\n    };\n\n    return resquarify;\n  }(phi);\n\n  var area$1 = function area$1(polygon) {\n    var i = -1,\n        n = polygon.length,\n        a,\n        b = polygon[n - 1],\n        area = 0;\n\n    while (++i < n) {\n      a = b;\n      b = polygon[i];\n      area += a[1] * b[0] - a[0] * b[1];\n    }\n\n    return area / 2;\n  };\n\n  var centroid$1 = function centroid$1(polygon) {\n    var i = -1,\n        n = polygon.length,\n        x = 0,\n        y = 0,\n        a,\n        b = polygon[n - 1],\n        c,\n        k = 0;\n\n    while (++i < n) {\n      a = b;\n      b = polygon[i];\n      k += c = a[0] * b[1] - b[0] * a[1];\n      x += (a[0] + b[0]) * c;\n      y += (a[1] + b[1]) * c;\n    }\n\n    return k *= 3, [x / k, y / k];\n  };\n\n  // Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n  // the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n  // right, +y is up). Returns a positive value if ABC is counter-clockwise,\n  // negative if clockwise, and zero if the points are collinear.\n  var cross$1 = function cross$1(a, b, c) {\n    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n  };\n\n  function lexicographicOrder(a, b) {\n    return a[0] - b[0] || a[1] - b[1];\n  }\n\n  // Computes the upper convex hull per the monotone chain algorithm.\n  // Assumes points.length >= 3, is sorted by x, unique in y.\n  // Returns an array of indices into points in left-to-right order.\n  function computeUpperHullIndexes(points) {\n    var n = points.length,\n        indexes = [0, 1],\n        size = 2;\n\n    for (var i = 2; i < n; ++i) {\n      while (size > 1 && cross$1(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) {\n        --size;\n      }indexes[size++] = i;\n    }\n\n    return indexes.slice(0, size); // remove popped points\n  }\n\n  var hull = function hull(points) {\n    if ((n = points.length) < 3) return null;\n\n    var i,\n        n,\n        sortedPoints = new Array(n),\n        flippedPoints = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      sortedPoints[i] = [+points[i][0], +points[i][1], i];\n    }sortedPoints.sort(lexicographicOrder);\n    for (i = 0; i < n; ++i) {\n      flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n    }var upperIndexes = computeUpperHullIndexes(sortedPoints),\n        lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n    // Construct the hull polygon, removing possible duplicate endpoints.\n    var skipLeft = lowerIndexes[0] === upperIndexes[0],\n        skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n        hull = [];\n\n    // Add upper hull in right-to-l order.\n    // Then add lower hull in left-to-right order.\n    for (i = upperIndexes.length - 1; i >= 0; --i) {\n      hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n    }for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) {\n      hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n    }return hull;\n  };\n\n  var contains$1 = function contains$1(polygon, point) {\n    var n = polygon.length,\n        p = polygon[n - 1],\n        x = point[0],\n        y = point[1],\n        x0 = p[0],\n        y0 = p[1],\n        x1,\n        y1,\n        inside = false;\n\n    for (var i = 0; i < n; ++i) {\n      p = polygon[i], x1 = p[0], y1 = p[1];\n      if (y1 > y !== y0 > y && x < (x0 - x1) * (y - y1) / (y0 - y1) + x1) inside = !inside;\n      x0 = x1, y0 = y1;\n    }\n\n    return inside;\n  };\n\n  var length$2 = function length$2(polygon) {\n    var i = -1,\n        n = polygon.length,\n        b = polygon[n - 1],\n        xa,\n        ya,\n        xb = b[0],\n        yb = b[1],\n        perimeter = 0;\n\n    while (++i < n) {\n      xa = xb;\n      ya = yb;\n      b = polygon[i];\n      xb = b[0];\n      yb = b[1];\n      xa -= xb;\n      ya -= yb;\n      perimeter += Math.sqrt(xa * xa + ya * ya);\n    }\n\n    return perimeter;\n  };\n\n  var slice$4 = [].slice;\n\n  var noabort = {};\n\n  function Queue(size) {\n    this._size = size;\n    this._call = this._error = null;\n    this._tasks = [];\n    this._data = [];\n    this._waiting = this._active = this._ended = this._start = 0; // inside a synchronous task callback?\n  }\n\n  Queue.prototype = queue.prototype = {\n    constructor: Queue,\n    defer: function defer(callback) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n      if (this._call) throw new Error(\"defer after await\");\n      if (this._error != null) return this;\n      var t = slice$4.call(arguments, 1);\n      t.push(callback);\n      ++this._waiting, this._tasks.push(t);\n      poke$1(this);\n      return this;\n    },\n    abort: function abort() {\n      if (this._error == null) _abort(this, new Error(\"abort\"));\n      return this;\n    },\n    await: function _await(callback) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n      if (this._call) throw new Error(\"multiple await\");\n      this._call = function (error, results) {\n        callback.apply(null, [error].concat(results));\n      };\n      maybeNotify(this);\n      return this;\n    },\n    awaitAll: function awaitAll(callback) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n      if (this._call) throw new Error(\"multiple await\");\n      this._call = callback;\n      maybeNotify(this);\n      return this;\n    }\n  };\n\n  function poke$1(q) {\n    if (!q._start) {\n      try {\n        start$1(q);\n      } // let the current task complete\n      catch (e) {\n        if (q._tasks[q._ended + q._active - 1]) _abort(q, e); // task errored synchronously\n        else if (!q._data) throw e; // await callback errored synchronously\n      }\n    }\n  }\n\n  function start$1(q) {\n    while (q._start = q._waiting && q._active < q._size) {\n      var i = q._ended + q._active,\n          t = q._tasks[i],\n          j = t.length - 1,\n          c = t[j];\n      t[j] = end(q, i);\n      --q._waiting, ++q._active;\n      t = c.apply(null, t);\n      if (!q._tasks[i]) continue; // task finished synchronously\n      q._tasks[i] = t || noabort;\n    }\n  }\n\n  function end(q, i) {\n    return function (e, r) {\n      if (!q._tasks[i]) return; // ignore multiple callbacks\n      --q._active, ++q._ended;\n      q._tasks[i] = null;\n      if (q._error != null) return; // ignore secondary errors\n      if (e != null) {\n        _abort(q, e);\n      } else {\n        q._data[i] = r;\n        if (q._waiting) poke$1(q);else maybeNotify(q);\n      }\n    };\n  }\n\n  function _abort(q, e) {\n    var i = q._tasks.length,\n        t;\n    q._error = e; // ignore active callbacks\n    q._data = undefined; // allow gc\n    q._waiting = NaN; // prevent starting\n\n    while (--i >= 0) {\n      if (t = q._tasks[i]) {\n        q._tasks[i] = null;\n        if (t.abort) {\n          try {\n            t.abort();\n          } catch (e) {/* ignore */}\n        }\n      }\n    }\n\n    q._active = NaN; // allow notification\n    maybeNotify(q);\n  }\n\n  function maybeNotify(q) {\n    if (!q._active && q._call) {\n      var d = q._data;\n      q._data = undefined; // allow gc\n      q._call(q._error, d);\n    }\n  }\n\n  function queue(concurrency) {\n    if (concurrency == null) concurrency = Infinity;else if (!((concurrency = +concurrency) >= 1)) throw new Error(\"invalid concurrency\");\n    return new Queue(concurrency);\n  }\n\n  var defaultSource$1 = function defaultSource$1() {\n    return Math.random();\n  };\n\n  var uniform = function sourceRandomUniform(source) {\n    function randomUniform(min, max) {\n      min = min == null ? 0 : +min;\n      max = max == null ? 1 : +max;\n      if (arguments.length === 1) max = min, min = 0;else max -= min;\n      return function () {\n        return source() * max + min;\n      };\n    }\n\n    randomUniform.source = sourceRandomUniform;\n\n    return randomUniform;\n  }(defaultSource$1);\n\n  var normal = function sourceRandomNormal(source) {\n    function randomNormal(mu, sigma) {\n      var x, r;\n      mu = mu == null ? 0 : +mu;\n      sigma = sigma == null ? 1 : +sigma;\n      return function () {\n        var y;\n\n        // If available, use the second previously-generated uniform random.\n        if (x != null) y = x, x = null;\n\n        // Otherwise, generate a new x and y.\n        else do {\n            x = source() * 2 - 1;\n            y = source() * 2 - 1;\n            r = x * x + y * y;\n          } while (!r || r > 1);\n\n        return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n      };\n    }\n\n    randomNormal.source = sourceRandomNormal;\n\n    return randomNormal;\n  }(defaultSource$1);\n\n  var logNormal = function sourceRandomLogNormal(source) {\n    function randomLogNormal() {\n      var randomNormal = normal.source(source).apply(this, arguments);\n      return function () {\n        return Math.exp(randomNormal());\n      };\n    }\n\n    randomLogNormal.source = sourceRandomLogNormal;\n\n    return randomLogNormal;\n  }(defaultSource$1);\n\n  var irwinHall = function sourceRandomIrwinHall(source) {\n    function randomIrwinHall(n) {\n      return function () {\n        for (var sum = 0, i = 0; i < n; ++i) {\n          sum += source();\n        }return sum;\n      };\n    }\n\n    randomIrwinHall.source = sourceRandomIrwinHall;\n\n    return randomIrwinHall;\n  }(defaultSource$1);\n\n  var bates = function sourceRandomBates(source) {\n    function randomBates(n) {\n      var randomIrwinHall = irwinHall.source(source)(n);\n      return function () {\n        return randomIrwinHall() / n;\n      };\n    }\n\n    randomBates.source = sourceRandomBates;\n\n    return randomBates;\n  }(defaultSource$1);\n\n  var exponential$1 = function sourceRandomExponential(source) {\n    function randomExponential(lambda) {\n      return function () {\n        return -Math.log(1 - source()) / lambda;\n      };\n    }\n\n    randomExponential.source = sourceRandomExponential;\n\n    return randomExponential;\n  }(defaultSource$1);\n\n  var request = function request(url, callback) {\n    var request,\n        event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n        _mimeType,\n        headers = map$1(),\n        xhr = new XMLHttpRequest(),\n        _user = null,\n        _password = null,\n        _response,\n        _responseType,\n        _timeout = 0;\n\n    // If IE does not support CORS, use XDomainRequest.\n    if (typeof XDomainRequest !== \"undefined\" && !(\"withCredentials\" in xhr) && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest();\n\n    \"onload\" in xhr ? xhr.onload = xhr.onerror = xhr.ontimeout = respond : xhr.onreadystatechange = function (o) {\n      xhr.readyState > 3 && respond(o);\n    };\n\n    function respond(o) {\n      var status = xhr.status,\n          result;\n      if (!status && hasResponse(xhr) || status >= 200 && status < 300 || status === 304) {\n        if (_response) {\n          try {\n            result = _response.call(request, xhr);\n          } catch (e) {\n            event.call(\"error\", request, e);\n            return;\n          }\n        } else {\n          result = xhr;\n        }\n        event.call(\"load\", request, result);\n      } else {\n        event.call(\"error\", request, o);\n      }\n    }\n\n    xhr.onprogress = function (e) {\n      event.call(\"progress\", request, e);\n    };\n\n    request = {\n      header: function header(name, value) {\n        name = (name + \"\").toLowerCase();\n        if (arguments.length < 2) return headers.get(name);\n        if (value == null) headers.remove(name);else headers.set(name, value + \"\");\n        return request;\n      },\n\n      // If mimeType is non-null and no Accept header is set, a default is used.\n      mimeType: function mimeType(value) {\n        if (!arguments.length) return _mimeType;\n        _mimeType = value == null ? null : value + \"\";\n        return request;\n      },\n\n      // Specifies what type the response value should take;\n      // for instance, arraybuffer, blob, document, or text.\n      responseType: function responseType(value) {\n        if (!arguments.length) return _responseType;\n        _responseType = value;\n        return request;\n      },\n\n      timeout: function timeout(value) {\n        if (!arguments.length) return _timeout;\n        _timeout = +value;\n        return request;\n      },\n\n      user: function user(value) {\n        return arguments.length < 1 ? _user : (_user = value == null ? null : value + \"\", request);\n      },\n\n      password: function password(value) {\n        return arguments.length < 1 ? _password : (_password = value == null ? null : value + \"\", request);\n      },\n\n      // Specify how to convert the response content to a specific type;\n      // changes the callback value on \"load\" events.\n      response: function response(value) {\n        _response = value;\n        return request;\n      },\n\n      // Alias for send(\"GET\", ).\n      get: function get(data, callback) {\n        return request.send(\"GET\", data, callback);\n      },\n\n      // Alias for send(\"POST\", ).\n      post: function post(data, callback) {\n        return request.send(\"POST\", data, callback);\n      },\n\n      // If callback is non-null, it will be used for error and load events.\n      send: function send(method, data, callback) {\n        xhr.open(method, url, true, _user, _password);\n        if (_mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", _mimeType + \",*/*\");\n        if (xhr.setRequestHeader) headers.each(function (value, name) {\n          xhr.setRequestHeader(name, value);\n        });\n        if (_mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(_mimeType);\n        if (_responseType != null) xhr.responseType = _responseType;\n        if (_timeout > 0) xhr.timeout = _timeout;\n        if (callback == null && typeof data === \"function\") callback = data, data = null;\n        if (callback != null && callback.length === 1) callback = fixCallback(callback);\n        if (callback != null) request.on(\"error\", callback).on(\"load\", function (xhr) {\n          callback(null, xhr);\n        });\n        event.call(\"beforesend\", request, xhr);\n        xhr.send(data == null ? null : data);\n        return request;\n      },\n\n      abort: function abort() {\n        xhr.abort();\n        return request;\n      },\n\n      on: function on() {\n        var value = event.on.apply(event, arguments);\n        return value === event ? request : value;\n      }\n    };\n\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return request.get(callback);\n    }\n\n    return request;\n  };\n\n  function fixCallback(callback) {\n    return function (error, xhr) {\n      callback(error == null ? xhr : null);\n    };\n  }\n\n  function hasResponse(xhr) {\n    var type = xhr.responseType;\n    return type && type !== \"text\" ? xhr.response // null on error\n    : xhr.responseText; // \"\" on error\n  }\n\n  var type$1 = function type$1(defaultMimeType, response) {\n    return function (url, callback) {\n      var r = request(url).mimeType(defaultMimeType).response(response);\n      if (callback != null) {\n        if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n        return r.get(callback);\n      }\n      return r;\n    };\n  };\n\n  var html = type$1(\"text/html\", function (xhr) {\n    return document.createRange().createContextualFragment(xhr.responseText);\n  });\n\n  var json = type$1(\"application/json\", function (xhr) {\n    return JSON.parse(xhr.responseText);\n  });\n\n  var text = type$1(\"text/plain\", function (xhr) {\n    return xhr.responseText;\n  });\n\n  var xml = type$1(\"application/xml\", function (xhr) {\n    var xml = xhr.responseXML;\n    if (!xml) throw new Error(\"parse error\");\n    return xml;\n  });\n\n  var dsv$1 = function dsv$1(defaultMimeType, parse) {\n    return function (url, row, callback) {\n      if (arguments.length < 3) callback = row, row = null;\n      var r = request(url).mimeType(defaultMimeType);\n      r.row = function (_) {\n        return arguments.length ? r.response(responseOf(parse, row = _)) : row;\n      };\n      r.row(row);\n      return callback ? r.get(callback) : r;\n    };\n  };\n\n  function responseOf(parse, row) {\n    return function (request$$1) {\n      return parse(request$$1.responseText, row);\n    };\n  }\n\n  var csv$1 = dsv$1(\"text/csv\", csvParse);\n\n  var tsv$1 = dsv$1(\"text/tab-separated-values\", tsvParse);\n\n  var array$2 = Array.prototype;\n\n  var map$3 = array$2.map;\n  var slice$5 = array$2.slice;\n\n  var implicit = { name: \"implicit\" };\n\n  function ordinal(range) {\n    var index = map$1(),\n        domain = [],\n        unknown = implicit;\n\n    range = range == null ? [] : slice$5.call(range);\n\n    function scale(d) {\n      var key = d + \"\",\n          i = index.get(key);\n      if (!i) {\n        if (unknown !== implicit) return unknown;\n        index.set(key, i = domain.push(d));\n      }\n      return range[(i - 1) % range.length];\n    }\n\n    scale.domain = function (_) {\n      if (!arguments.length) return domain.slice();\n      domain = [], index = map$1();\n      var i = -1,\n          n = _.length,\n          d,\n          key;\n      while (++i < n) {\n        if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n      }return scale;\n    };\n\n    scale.range = function (_) {\n      return arguments.length ? (range = slice$5.call(_), scale) : range.slice();\n    };\n\n    scale.unknown = function (_) {\n      return arguments.length ? (unknown = _, scale) : unknown;\n    };\n\n    scale.copy = function () {\n      return ordinal().domain(domain).range(range).unknown(unknown);\n    };\n\n    return scale;\n  }\n\n  function band() {\n    var scale = ordinal().unknown(undefined),\n        domain = scale.domain,\n        ordinalRange = scale.range,\n        range = [0, 1],\n        step,\n        bandwidth,\n        round = false,\n        paddingInner = 0,\n        paddingOuter = 0,\n        align = 0.5;\n\n    delete scale.unknown;\n\n    function rescale() {\n      var n = domain().length,\n          reverse = range[1] < range[0],\n          start = range[reverse - 0],\n          stop = range[1 - reverse];\n      step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n      if (round) step = Math.floor(step);\n      start += (stop - start - step * (n - paddingInner)) * align;\n      bandwidth = step * (1 - paddingInner);\n      if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n      var values = sequence(n).map(function (i) {\n        return start + step * i;\n      });\n      return ordinalRange(reverse ? values.reverse() : values);\n    }\n\n    scale.domain = function (_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.range = function (_) {\n      return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function (_) {\n      return range = [+_[0], +_[1]], round = true, rescale();\n    };\n\n    scale.bandwidth = function () {\n      return bandwidth;\n    };\n\n    scale.step = function () {\n      return step;\n    };\n\n    scale.round = function (_) {\n      return arguments.length ? (round = !!_, rescale()) : round;\n    };\n\n    scale.padding = function (_) {\n      return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingInner = function (_) {\n      return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingOuter = function (_) {\n      return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n    };\n\n    scale.align = function (_) {\n      return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n    };\n\n    scale.copy = function () {\n      return band().domain(domain()).range(range).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n    };\n\n    return rescale();\n  }\n\n  function pointish(scale) {\n    var copy = scale.copy;\n\n    scale.padding = scale.paddingOuter;\n    delete scale.paddingInner;\n    delete scale.paddingOuter;\n\n    scale.copy = function () {\n      return pointish(copy());\n    };\n\n    return scale;\n  }\n\n  function point$1() {\n    return pointish(band().paddingInner(1));\n  }\n\n  var constant$9 = function constant$9(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  var number$2 = function number$2(x) {\n    return +x;\n  };\n\n  var unit = [0, 1];\n\n  function deinterpolateLinear(a, b) {\n    return (b -= a = +a) ? function (x) {\n      return (x - a) / b;\n    } : constant$9(b);\n  }\n\n  function deinterpolateClamp(deinterpolate) {\n    return function (a, b) {\n      var d = deinterpolate(a = +a, b = +b);\n      return function (x) {\n        return x <= a ? 0 : x >= b ? 1 : d(x);\n      };\n    };\n  }\n\n  function reinterpolateClamp(reinterpolate$$1) {\n    return function (a, b) {\n      var r = reinterpolate$$1(a = +a, b = +b);\n      return function (t) {\n        return t <= 0 ? a : t >= 1 ? b : r(t);\n      };\n    };\n  }\n\n  function bimap(domain, range, deinterpolate, reinterpolate$$1) {\n    var d0 = domain[0],\n        d1 = domain[1],\n        r0 = range[0],\n        r1 = range[1];\n    if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate$$1(r1, r0);else d0 = deinterpolate(d0, d1), r0 = reinterpolate$$1(r0, r1);\n    return function (x) {\n      return r0(d0(x));\n    };\n  }\n\n  function polymap(domain, range, deinterpolate, reinterpolate$$1) {\n    var j = Math.min(domain.length, range.length) - 1,\n        d = new Array(j),\n        r = new Array(j),\n        i = -1;\n\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n\n    while (++i < j) {\n      d[i] = deinterpolate(domain[i], domain[i + 1]);\n      r[i] = reinterpolate$$1(range[i], range[i + 1]);\n    }\n\n    return function (x) {\n      var i = bisectRight(domain, x, 1, j) - 1;\n      return r[i](d[i](x));\n    };\n  }\n\n  function copy(source, target) {\n    return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp());\n  }\n\n  // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n  // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\n  function continuous(deinterpolate, reinterpolate$$1) {\n    var domain = unit,\n        range = unit,\n        interpolate = interpolateValue,\n        clamp = false,\n        piecewise,\n        output,\n        input;\n\n    function rescale() {\n      piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n      output = input = null;\n      return scale;\n    }\n\n    function scale(x) {\n      return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n    }\n\n    scale.invert = function (y) {\n      return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate$$1) : reinterpolate$$1)))(+y);\n    };\n\n    scale.domain = function (_) {\n      return arguments.length ? (domain = map$3.call(_, number$2), rescale()) : domain.slice();\n    };\n\n    scale.range = function (_) {\n      return arguments.length ? (range = slice$5.call(_), rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function (_) {\n      return range = slice$5.call(_), interpolate = interpolateRound, rescale();\n    };\n\n    scale.clamp = function (_) {\n      return arguments.length ? (clamp = !!_, rescale()) : clamp;\n    };\n\n    scale.interpolate = function (_) {\n      return arguments.length ? (interpolate = _, rescale()) : interpolate;\n    };\n\n    return rescale();\n  }\n\n  var tickFormat = function tickFormat(domain, count, specifier) {\n    var start = domain[0],\n        stop = domain[domain.length - 1],\n        step = tickStep(start, stop, count == null ? 10 : count),\n        precision;\n    specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n      case \"s\":\n        {\n          var value = Math.max(Math.abs(start), Math.abs(stop));\n          if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n          return exports.formatPrefix(specifier, value);\n        }\n      case \"\":\n      case \"e\":\n      case \"g\":\n      case \"p\":\n      case \"r\":\n        {\n          if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n          break;\n        }\n      case \"f\":\n      case \"%\":\n        {\n          if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n          break;\n        }\n    }\n    return exports.format(specifier);\n  };\n\n  function linearish(scale) {\n    var domain = scale.domain;\n\n    scale.ticks = function (count) {\n      var d = domain();\n      return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n\n    scale.tickFormat = function (count, specifier) {\n      return tickFormat(domain(), count, specifier);\n    };\n\n    scale.nice = function (count) {\n      if (count == null) count = 10;\n\n      var d = domain(),\n          i0 = 0,\n          i1 = d.length - 1,\n          start = d[i0],\n          stop = d[i1],\n          step;\n\n      if (stop < start) {\n        step = start, start = stop, stop = step;\n        step = i0, i0 = i1, i1 = step;\n      }\n\n      step = tickIncrement(start, stop, count);\n\n      if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n        step = tickIncrement(start, stop, count);\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n        step = tickIncrement(start, stop, count);\n      }\n\n      if (step > 0) {\n        d[i0] = Math.floor(start / step) * step;\n        d[i1] = Math.ceil(stop / step) * step;\n        domain(d);\n      } else if (step < 0) {\n        d[i0] = Math.ceil(start * step) / step;\n        d[i1] = Math.floor(stop * step) / step;\n        domain(d);\n      }\n\n      return scale;\n    };\n\n    return scale;\n  }\n\n  function linear$2() {\n    var scale = continuous(deinterpolateLinear, reinterpolate);\n\n    scale.copy = function () {\n      return copy(scale, linear$2());\n    };\n\n    return linearish(scale);\n  }\n\n  function identity$6() {\n    var domain = [0, 1];\n\n    function scale(x) {\n      return +x;\n    }\n\n    scale.invert = scale;\n\n    scale.domain = scale.range = function (_) {\n      return arguments.length ? (domain = map$3.call(_, number$2), scale) : domain.slice();\n    };\n\n    scale.copy = function () {\n      return identity$6().domain(domain);\n    };\n\n    return linearish(scale);\n  }\n\n  var nice = function nice(domain, interval) {\n    domain = domain.slice();\n\n    var i0 = 0,\n        i1 = domain.length - 1,\n        x0 = domain[i0],\n        x1 = domain[i1],\n        t;\n\n    if (x1 < x0) {\n      t = i0, i0 = i1, i1 = t;\n      t = x0, x0 = x1, x1 = t;\n    }\n\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n  };\n\n  function deinterpolate(a, b) {\n    return (b = Math.log(b / a)) ? function (x) {\n      return Math.log(x / a) / b;\n    } : constant$9(b);\n  }\n\n  function reinterpolate$1(a, b) {\n    return a < 0 ? function (t) {\n      return -Math.pow(-b, t) * Math.pow(-a, 1 - t);\n    } : function (t) {\n      return Math.pow(b, t) * Math.pow(a, 1 - t);\n    };\n  }\n\n  function pow10(x) {\n    return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n  }\n\n  function powp(base) {\n    return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n      return Math.pow(base, x);\n    };\n  }\n\n  function logp(base) {\n    return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n      return Math.log(x) / base;\n    });\n  }\n\n  function reflect(f) {\n    return function (x) {\n      return -f(-x);\n    };\n  }\n\n  function log$1() {\n    var scale = continuous(deinterpolate, reinterpolate$1).domain([1, 10]),\n        domain = scale.domain,\n        base = 10,\n        logs = logp(10),\n        pows = powp(10);\n\n    function rescale() {\n      logs = logp(base), pows = powp(base);\n      if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n      return scale;\n    }\n\n    scale.base = function (_) {\n      return arguments.length ? (base = +_, rescale()) : base;\n    };\n\n    scale.domain = function (_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.ticks = function (count) {\n      var d = domain(),\n          u = d[0],\n          v = d[d.length - 1],\n          r;\n\n      if (r = v < u) i = u, u = v, v = i;\n\n      var i = logs(u),\n          j = logs(v),\n          p,\n          k,\n          t,\n          n = count == null ? 10 : +count,\n          z = [];\n\n      if (!(base % 1) && j - i < n) {\n        i = Math.round(i) - 1, j = Math.round(j) + 1;\n        if (u > 0) for (; i < j; ++i) {\n          for (k = 1, p = pows(i); k < base; ++k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        } else for (; i < j; ++i) {\n          for (k = base - 1, p = pows(i); k >= 1; --k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n      } else {\n        z = ticks(i, j, Math.min(j - i, n)).map(pows);\n      }\n\n      return r ? z.reverse() : z;\n    };\n\n    scale.tickFormat = function (count, specifier) {\n      if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n      if (typeof specifier !== \"function\") specifier = exports.format(specifier);\n      if (count === Infinity) return specifier;\n      if (count == null) count = 10;\n      var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n      return function (d) {\n        var i = d / pows(Math.round(logs(d)));\n        if (i * base < base - 0.5) i *= base;\n        return i <= k ? specifier(d) : \"\";\n      };\n    };\n\n    scale.nice = function () {\n      return domain(nice(domain(), {\n        floor: function floor(x) {\n          return pows(Math.floor(logs(x)));\n        },\n        ceil: function ceil(x) {\n          return pows(Math.ceil(logs(x)));\n        }\n      }));\n    };\n\n    scale.copy = function () {\n      return copy(scale, log$1().base(base));\n    };\n\n    return scale;\n  }\n\n  function raise$1(x, exponent) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  }\n\n  function pow$1() {\n    var exponent = 1,\n        scale = continuous(deinterpolate, reinterpolate),\n        domain = scale.domain;\n\n    function deinterpolate(a, b) {\n      return (b = raise$1(b, exponent) - (a = raise$1(a, exponent))) ? function (x) {\n        return (raise$1(x, exponent) - a) / b;\n      } : constant$9(b);\n    }\n\n    function reinterpolate(a, b) {\n      b = raise$1(b, exponent) - (a = raise$1(a, exponent));\n      return function (t) {\n        return raise$1(a + b * t, 1 / exponent);\n      };\n    }\n\n    scale.exponent = function (_) {\n      return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n    };\n\n    scale.copy = function () {\n      return copy(scale, pow$1().exponent(exponent));\n    };\n\n    return linearish(scale);\n  }\n\n  function sqrt$1() {\n    return pow$1().exponent(0.5);\n  }\n\n  function quantile() {\n    var domain = [],\n        range = [],\n        thresholds = [];\n\n    function rescale() {\n      var i = 0,\n          n = Math.max(1, range.length);\n      thresholds = new Array(n - 1);\n      while (++i < n) {\n        thresholds[i - 1] = threshold(domain, i / n);\n      }return scale;\n    }\n\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[bisectRight(thresholds, x)];\n    }\n\n    scale.invertExtent = function (y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN] : [i > 0 ? thresholds[i - 1] : domain[0], i < thresholds.length ? thresholds[i] : domain[domain.length - 1]];\n    };\n\n    scale.domain = function (_) {\n      if (!arguments.length) return domain.slice();\n      domain = [];\n      for (var i = 0, n = _.length, d; i < n; ++i) {\n        if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n      }domain.sort(ascending);\n      return rescale();\n    };\n\n    scale.range = function (_) {\n      return arguments.length ? (range = slice$5.call(_), rescale()) : range.slice();\n    };\n\n    scale.quantiles = function () {\n      return thresholds.slice();\n    };\n\n    scale.copy = function () {\n      return quantile().domain(domain).range(range);\n    };\n\n    return scale;\n  }\n\n  function quantize$1() {\n    var x0 = 0,\n        x1 = 1,\n        n = 1,\n        domain = [0.5],\n        range = [0, 1];\n\n    function scale(x) {\n      if (x <= x) return range[bisectRight(domain, x, 0, n)];\n    }\n\n    function rescale() {\n      var i = -1;\n      domain = new Array(n);\n      while (++i < n) {\n        domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n      }return scale;\n    }\n\n    scale.domain = function (_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n    };\n\n    scale.range = function (_) {\n      return arguments.length ? (n = (range = slice$5.call(_)).length - 1, rescale()) : range.slice();\n    };\n\n    scale.invertExtent = function (y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN] : i < 1 ? [x0, domain[0]] : i >= n ? [domain[n - 1], x1] : [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function () {\n      return quantize$1().domain([x0, x1]).range(range);\n    };\n\n    return linearish(scale);\n  }\n\n  function threshold$1() {\n    var domain = [0.5],\n        range = [0, 1],\n        n = 1;\n\n    function scale(x) {\n      if (x <= x) return range[bisectRight(domain, x, 0, n)];\n    }\n\n    scale.domain = function (_) {\n      return arguments.length ? (domain = slice$5.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n    };\n\n    scale.range = function (_) {\n      return arguments.length ? (range = slice$5.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n    };\n\n    scale.invertExtent = function (y) {\n      var i = range.indexOf(y);\n      return [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function () {\n      return threshold$1().domain(domain).range(range);\n    };\n\n    return scale;\n  }\n\n  var t0$1 = new Date();\n  var t1$1 = new Date();\n\n  function newInterval(floori, offseti, count, field) {\n\n    function interval(date) {\n      return floori(date = new Date(+date)), date;\n    }\n\n    interval.floor = interval;\n\n    interval.ceil = function (date) {\n      return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n    };\n\n    interval.round = function (date) {\n      var d0 = interval(date),\n          d1 = interval.ceil(date);\n      return date - d0 < d1 - date ? d0 : d1;\n    };\n\n    interval.offset = function (date, step) {\n      return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n    };\n\n    interval.range = function (start, stop, step) {\n      var range = [];\n      start = interval.ceil(start);\n      step = step == null ? 1 : Math.floor(step);\n      if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n      do {\n        range.push(new Date(+start));\n      } while ((offseti(start, step), floori(start), start < stop));\n      return range;\n    };\n\n    interval.filter = function (test) {\n      return newInterval(function (date) {\n        if (date >= date) while (floori(date), !test(date)) {\n          date.setTime(date - 1);\n        }\n      }, function (date, step) {\n        if (date >= date) {\n          if (step < 0) while (++step <= 0) {\n            while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n          } else while (--step >= 0) {\n            while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n          }\n        }\n      });\n    };\n\n    if (count) {\n      interval.count = function (start, end) {\n        t0$1.setTime(+start), t1$1.setTime(+end);\n        floori(t0$1), floori(t1$1);\n        return Math.floor(count(t0$1, t1$1));\n      };\n\n      interval.every = function (step) {\n        step = Math.floor(step);\n        return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? function (d) {\n          return field(d) % step === 0;\n        } : function (d) {\n          return interval.count(0, d) % step === 0;\n        });\n      };\n    }\n\n    return interval;\n  }\n\n  var millisecond = newInterval(function () {\n    // noop\n  }, function (date, step) {\n    date.setTime(+date + step);\n  }, function (start, end) {\n    return end - start;\n  });\n\n  // An optimized implementation for this simple case.\n  millisecond.every = function (k) {\n    k = Math.floor(k);\n    if (!isFinite(k) || !(k > 0)) return null;\n    if (!(k > 1)) return millisecond;\n    return newInterval(function (date) {\n      date.setTime(Math.floor(date / k) * k);\n    }, function (date, step) {\n      date.setTime(+date + step * k);\n    }, function (start, end) {\n      return (end - start) / k;\n    });\n  };\n\n  var milliseconds = millisecond.range;\n\n  var durationSecond$1 = 1e3;\n  var durationMinute$1 = 6e4;\n  var durationHour$1 = 36e5;\n  var durationDay$1 = 864e5;\n  var durationWeek$1 = 6048e5;\n\n  var second = newInterval(function (date) {\n    date.setTime(Math.floor(date / durationSecond$1) * durationSecond$1);\n  }, function (date, step) {\n    date.setTime(+date + step * durationSecond$1);\n  }, function (start, end) {\n    return (end - start) / durationSecond$1;\n  }, function (date) {\n    return date.getUTCSeconds();\n  });\n\n  var seconds = second.range;\n\n  var minute = newInterval(function (date) {\n    date.setTime(Math.floor(date / durationMinute$1) * durationMinute$1);\n  }, function (date, step) {\n    date.setTime(+date + step * durationMinute$1);\n  }, function (start, end) {\n    return (end - start) / durationMinute$1;\n  }, function (date) {\n    return date.getMinutes();\n  });\n\n  var minutes = minute.range;\n\n  var hour = newInterval(function (date) {\n    var offset = date.getTimezoneOffset() * durationMinute$1 % durationHour$1;\n    if (offset < 0) offset += durationHour$1;\n    date.setTime(Math.floor((+date - offset) / durationHour$1) * durationHour$1 + offset);\n  }, function (date, step) {\n    date.setTime(+date + step * durationHour$1);\n  }, function (start, end) {\n    return (end - start) / durationHour$1;\n  }, function (date) {\n    return date.getHours();\n  });\n\n  var hours = hour.range;\n\n  var day = newInterval(function (date) {\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setDate(date.getDate() + step);\n  }, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute$1) / durationDay$1;\n  }, function (date) {\n    return date.getDate() - 1;\n  });\n\n  var days = day.range;\n\n  function weekday(i) {\n    return newInterval(function (date) {\n      date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n      date.setHours(0, 0, 0, 0);\n    }, function (date, step) {\n      date.setDate(date.getDate() + step * 7);\n    }, function (start, end) {\n      return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute$1) / durationWeek$1;\n    });\n  }\n\n  var sunday = weekday(0);\n  var monday = weekday(1);\n  var tuesday = weekday(2);\n  var wednesday = weekday(3);\n  var thursday = weekday(4);\n  var friday = weekday(5);\n  var saturday = weekday(6);\n\n  var sundays = sunday.range;\n  var mondays = monday.range;\n  var tuesdays = tuesday.range;\n  var wednesdays = wednesday.range;\n  var thursdays = thursday.range;\n  var fridays = friday.range;\n  var saturdays = saturday.range;\n\n  var month = newInterval(function (date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setMonth(date.getMonth() + step);\n  }, function (start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n  }, function (date) {\n    return date.getMonth();\n  });\n\n  var months = month.range;\n\n  var year = newInterval(function (date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setFullYear(date.getFullYear() + step);\n  }, function (start, end) {\n    return end.getFullYear() - start.getFullYear();\n  }, function (date) {\n    return date.getFullYear();\n  });\n\n  // An optimized implementation for this simple case.\n  year.every = function (k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n      date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n      date.setMonth(0, 1);\n      date.setHours(0, 0, 0, 0);\n    }, function (date, step) {\n      date.setFullYear(date.getFullYear() + step * k);\n    });\n  };\n\n  var years = year.range;\n\n  var utcMinute = newInterval(function (date) {\n    date.setUTCSeconds(0, 0);\n  }, function (date, step) {\n    date.setTime(+date + step * durationMinute$1);\n  }, function (start, end) {\n    return (end - start) / durationMinute$1;\n  }, function (date) {\n    return date.getUTCMinutes();\n  });\n\n  var utcMinutes = utcMinute.range;\n\n  var utcHour = newInterval(function (date) {\n    date.setUTCMinutes(0, 0, 0);\n  }, function (date, step) {\n    date.setTime(+date + step * durationHour$1);\n  }, function (start, end) {\n    return (end - start) / durationHour$1;\n  }, function (date) {\n    return date.getUTCHours();\n  });\n\n  var utcHours = utcHour.range;\n\n  var utcDay = newInterval(function (date) {\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step);\n  }, function (start, end) {\n    return (end - start) / durationDay$1;\n  }, function (date) {\n    return date.getUTCDate() - 1;\n  });\n\n  var utcDays = utcDay.range;\n\n  function utcWeekday(i) {\n    return newInterval(function (date) {\n      date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n      date.setUTCHours(0, 0, 0, 0);\n    }, function (date, step) {\n      date.setUTCDate(date.getUTCDate() + step * 7);\n    }, function (start, end) {\n      return (end - start) / durationWeek$1;\n    });\n  }\n\n  var utcSunday = utcWeekday(0);\n  var utcMonday = utcWeekday(1);\n  var utcTuesday = utcWeekday(2);\n  var utcWednesday = utcWeekday(3);\n  var utcThursday = utcWeekday(4);\n  var utcFriday = utcWeekday(5);\n  var utcSaturday = utcWeekday(6);\n\n  var utcSundays = utcSunday.range;\n  var utcMondays = utcMonday.range;\n  var utcTuesdays = utcTuesday.range;\n  var utcWednesdays = utcWednesday.range;\n  var utcThursdays = utcThursday.range;\n  var utcFridays = utcFriday.range;\n  var utcSaturdays = utcSaturday.range;\n\n  var utcMonth = newInterval(function (date) {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCMonth(date.getUTCMonth() + step);\n  }, function (start, end) {\n    return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n  }, function (date) {\n    return date.getUTCMonth();\n  });\n\n  var utcMonths = utcMonth.range;\n\n  var utcYear = newInterval(function (date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step);\n  }, function (start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n  }, function (date) {\n    return date.getUTCFullYear();\n  });\n\n  // An optimized implementation for this simple case.\n  utcYear.every = function (k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n      date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n      date.setUTCMonth(0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n    }, function (date, step) {\n      date.setUTCFullYear(date.getUTCFullYear() + step * k);\n    });\n  };\n\n  var utcYears = utcYear.range;\n\n  function localDate(d) {\n    if (0 <= d.y && d.y < 100) {\n      var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n      date.setFullYear(d.y);\n      return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n  }\n\n  function utcDate(d) {\n    if (0 <= d.y && d.y < 100) {\n      var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n      date.setUTCFullYear(d.y);\n      return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n  }\n\n  function newYear(y) {\n    return { y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0 };\n  }\n\n  function formatLocale$1(locale) {\n    var locale_dateTime = locale.dateTime,\n        locale_date = locale.date,\n        locale_time = locale.time,\n        locale_periods = locale.periods,\n        locale_weekdays = locale.days,\n        locale_shortWeekdays = locale.shortDays,\n        locale_months = locale.months,\n        locale_shortMonths = locale.shortMonths;\n\n    var periodRe = formatRe(locale_periods),\n        periodLookup = formatLookup(locale_periods),\n        weekdayRe = formatRe(locale_weekdays),\n        weekdayLookup = formatLookup(locale_weekdays),\n        shortWeekdayRe = formatRe(locale_shortWeekdays),\n        shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n        monthRe = formatRe(locale_months),\n        monthLookup = formatLookup(locale_months),\n        shortMonthRe = formatRe(locale_shortMonths),\n        shortMonthLookup = formatLookup(locale_shortMonths);\n\n    var formats = {\n      \"a\": formatShortWeekday,\n      \"A\": formatWeekday,\n      \"b\": formatShortMonth,\n      \"B\": formatMonth,\n      \"c\": null,\n      \"d\": formatDayOfMonth,\n      \"e\": formatDayOfMonth,\n      \"H\": formatHour24,\n      \"I\": formatHour12,\n      \"j\": formatDayOfYear,\n      \"L\": formatMilliseconds,\n      \"m\": formatMonthNumber,\n      \"M\": formatMinutes,\n      \"p\": formatPeriod,\n      \"S\": formatSeconds,\n      \"U\": formatWeekNumberSunday,\n      \"w\": formatWeekdayNumber,\n      \"W\": formatWeekNumberMonday,\n      \"x\": null,\n      \"X\": null,\n      \"y\": formatYear,\n      \"Y\": formatFullYear,\n      \"Z\": formatZone,\n      \"%\": formatLiteralPercent\n    };\n\n    var utcFormats = {\n      \"a\": formatUTCShortWeekday,\n      \"A\": formatUTCWeekday,\n      \"b\": formatUTCShortMonth,\n      \"B\": formatUTCMonth,\n      \"c\": null,\n      \"d\": formatUTCDayOfMonth,\n      \"e\": formatUTCDayOfMonth,\n      \"H\": formatUTCHour24,\n      \"I\": formatUTCHour12,\n      \"j\": formatUTCDayOfYear,\n      \"L\": formatUTCMilliseconds,\n      \"m\": formatUTCMonthNumber,\n      \"M\": formatUTCMinutes,\n      \"p\": formatUTCPeriod,\n      \"S\": formatUTCSeconds,\n      \"U\": formatUTCWeekNumberSunday,\n      \"w\": formatUTCWeekdayNumber,\n      \"W\": formatUTCWeekNumberMonday,\n      \"x\": null,\n      \"X\": null,\n      \"y\": formatUTCYear,\n      \"Y\": formatUTCFullYear,\n      \"Z\": formatUTCZone,\n      \"%\": formatLiteralPercent\n    };\n\n    var parses = {\n      \"a\": parseShortWeekday,\n      \"A\": parseWeekday,\n      \"b\": parseShortMonth,\n      \"B\": parseMonth,\n      \"c\": parseLocaleDateTime,\n      \"d\": parseDayOfMonth,\n      \"e\": parseDayOfMonth,\n      \"H\": parseHour24,\n      \"I\": parseHour24,\n      \"j\": parseDayOfYear,\n      \"L\": parseMilliseconds,\n      \"m\": parseMonthNumber,\n      \"M\": parseMinutes,\n      \"p\": parsePeriod,\n      \"S\": parseSeconds,\n      \"U\": parseWeekNumberSunday,\n      \"w\": parseWeekdayNumber,\n      \"W\": parseWeekNumberMonday,\n      \"x\": parseLocaleDate,\n      \"X\": parseLocaleTime,\n      \"y\": parseYear,\n      \"Y\": parseFullYear,\n      \"Z\": parseZone,\n      \"%\": parseLiteralPercent\n    };\n\n    // These recursive directive definitions must be deferred.\n    formats.x = newFormat(locale_date, formats);\n    formats.X = newFormat(locale_time, formats);\n    formats.c = newFormat(locale_dateTime, formats);\n    utcFormats.x = newFormat(locale_date, utcFormats);\n    utcFormats.X = newFormat(locale_time, utcFormats);\n    utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n    function newFormat(specifier, formats) {\n      return function (date) {\n        var string = [],\n            i = -1,\n            j = 0,\n            n = specifier.length,\n            c,\n            pad,\n            format;\n\n        if (!(date instanceof Date)) date = new Date(+date);\n\n        while (++i < n) {\n          if (specifier.charCodeAt(i) === 37) {\n            string.push(specifier.slice(j, i));\n            if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n            if (format = formats[c]) c = format(date, pad);\n            string.push(c);\n            j = i + 1;\n          }\n        }\n\n        string.push(specifier.slice(j, i));\n        return string.join(\"\");\n      };\n    }\n\n    function newParse(specifier, newDate) {\n      return function (string) {\n        var d = newYear(1900),\n            i = parseSpecifier(d, specifier, string += \"\", 0);\n        if (i != string.length) return null;\n\n        // The am-pm flag is 0 for AM, and 1 for PM.\n        if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n        // Convert day-of-week and week-of-year to day-of-year.\n        if (\"W\" in d || \"U\" in d) {\n          if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n          var day$$1 = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n          d.m = 0;\n          d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$$1 + 5) % 7 : d.w + d.U * 7 - (day$$1 + 6) % 7;\n        }\n\n        // If a time zone is specified, all fields are interpreted as UTC and then\n        // offset according to the specified time zone.\n        if (\"Z\" in d) {\n          d.H += d.Z / 100 | 0;\n          d.M += d.Z % 100;\n          return utcDate(d);\n        }\n\n        // Otherwise, all fields are in local time.\n        return newDate(d);\n      };\n    }\n\n    function parseSpecifier(d, specifier, string, j) {\n      var i = 0,\n          n = specifier.length,\n          m = string.length,\n          c,\n          parse;\n\n      while (i < n) {\n        if (j >= m) return -1;\n        c = specifier.charCodeAt(i++);\n        if (c === 37) {\n          c = specifier.charAt(i++);\n          parse = parses[c in pads ? specifier.charAt(i++) : c];\n          if (!parse || (j = parse(d, string, j)) < 0) return -1;\n        } else if (c != string.charCodeAt(j++)) {\n          return -1;\n        }\n      }\n\n      return j;\n    }\n\n    function parsePeriod(d, string, i) {\n      var n = periodRe.exec(string.slice(i));\n      return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseShortWeekday(d, string, i) {\n      var n = shortWeekdayRe.exec(string.slice(i));\n      return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseWeekday(d, string, i) {\n      var n = weekdayRe.exec(string.slice(i));\n      return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseShortMonth(d, string, i) {\n      var n = shortMonthRe.exec(string.slice(i));\n      return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseMonth(d, string, i) {\n      var n = monthRe.exec(string.slice(i));\n      return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseLocaleDateTime(d, string, i) {\n      return parseSpecifier(d, locale_dateTime, string, i);\n    }\n\n    function parseLocaleDate(d, string, i) {\n      return parseSpecifier(d, locale_date, string, i);\n    }\n\n    function parseLocaleTime(d, string, i) {\n      return parseSpecifier(d, locale_time, string, i);\n    }\n\n    function formatShortWeekday(d) {\n      return locale_shortWeekdays[d.getDay()];\n    }\n\n    function formatWeekday(d) {\n      return locale_weekdays[d.getDay()];\n    }\n\n    function formatShortMonth(d) {\n      return locale_shortMonths[d.getMonth()];\n    }\n\n    function formatMonth(d) {\n      return locale_months[d.getMonth()];\n    }\n\n    function formatPeriod(d) {\n      return locale_periods[+(d.getHours() >= 12)];\n    }\n\n    function formatUTCShortWeekday(d) {\n      return locale_shortWeekdays[d.getUTCDay()];\n    }\n\n    function formatUTCWeekday(d) {\n      return locale_weekdays[d.getUTCDay()];\n    }\n\n    function formatUTCShortMonth(d) {\n      return locale_shortMonths[d.getUTCMonth()];\n    }\n\n    function formatUTCMonth(d) {\n      return locale_months[d.getUTCMonth()];\n    }\n\n    function formatUTCPeriod(d) {\n      return locale_periods[+(d.getUTCHours() >= 12)];\n    }\n\n    return {\n      format: function format(specifier) {\n        var f = newFormat(specifier += \"\", formats);\n        f.toString = function () {\n          return specifier;\n        };\n        return f;\n      },\n      parse: function parse(specifier) {\n        var p = newParse(specifier += \"\", localDate);\n        p.toString = function () {\n          return specifier;\n        };\n        return p;\n      },\n      utcFormat: function utcFormat(specifier) {\n        var f = newFormat(specifier += \"\", utcFormats);\n        f.toString = function () {\n          return specifier;\n        };\n        return f;\n      },\n      utcParse: function utcParse(specifier) {\n        var p = newParse(specifier, utcDate);\n        p.toString = function () {\n          return specifier;\n        };\n        return p;\n      }\n    };\n  }\n\n  var pads = { \"-\": \"\", \"_\": \" \", \"0\": \"0\" };\n  var numberRe = /^\\s*\\d+/;\n  var percentRe = /^%/;\n  var requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\n  function pad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\",\n        string = (sign ? -value : value) + \"\",\n        length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n  }\n\n  function requote(s) {\n    return s.replace(requoteRe, \"\\\\$&\");\n  }\n\n  function formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n  }\n\n  function formatLookup(names) {\n    var map = {},\n        i = -1,\n        n = names.length;\n    while (++i < n) {\n      map[names[i].toLowerCase()] = i;\n    }return map;\n  }\n\n  function parseWeekdayNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.w = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseWeekNumberSunday(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.U = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseWeekNumberMonday(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.W = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseFullYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 4));\n    return n ? (d.y = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n  }\n\n  function parseZone(d, string, i) {\n    var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n    return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n  }\n\n  function parseMonthNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n  }\n\n  function parseDayOfMonth(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.d = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseDayOfYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseHour24(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.H = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseMinutes(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.M = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseSeconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.S = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseMilliseconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.L = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseLiteralPercent(d, string, i) {\n    var n = percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n  }\n\n  function formatDayOfMonth(d, p) {\n    return pad(d.getDate(), p, 2);\n  }\n\n  function formatHour24(d, p) {\n    return pad(d.getHours(), p, 2);\n  }\n\n  function formatHour12(d, p) {\n    return pad(d.getHours() % 12 || 12, p, 2);\n  }\n\n  function formatDayOfYear(d, p) {\n    return pad(1 + day.count(year(d), d), p, 3);\n  }\n\n  function formatMilliseconds(d, p) {\n    return pad(d.getMilliseconds(), p, 3);\n  }\n\n  function formatMonthNumber(d, p) {\n    return pad(d.getMonth() + 1, p, 2);\n  }\n\n  function formatMinutes(d, p) {\n    return pad(d.getMinutes(), p, 2);\n  }\n\n  function formatSeconds(d, p) {\n    return pad(d.getSeconds(), p, 2);\n  }\n\n  function formatWeekNumberSunday(d, p) {\n    return pad(sunday.count(year(d), d), p, 2);\n  }\n\n  function formatWeekdayNumber(d) {\n    return d.getDay();\n  }\n\n  function formatWeekNumberMonday(d, p) {\n    return pad(monday.count(year(d), d), p, 2);\n  }\n\n  function formatYear(d, p) {\n    return pad(d.getFullYear() % 100, p, 2);\n  }\n\n  function formatFullYear(d, p) {\n    return pad(d.getFullYear() % 10000, p, 4);\n  }\n\n  function formatZone(d) {\n    var z = d.getTimezoneOffset();\n    return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n  }\n\n  function formatUTCDayOfMonth(d, p) {\n    return pad(d.getUTCDate(), p, 2);\n  }\n\n  function formatUTCHour24(d, p) {\n    return pad(d.getUTCHours(), p, 2);\n  }\n\n  function formatUTCHour12(d, p) {\n    return pad(d.getUTCHours() % 12 || 12, p, 2);\n  }\n\n  function formatUTCDayOfYear(d, p) {\n    return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n  }\n\n  function formatUTCMilliseconds(d, p) {\n    return pad(d.getUTCMilliseconds(), p, 3);\n  }\n\n  function formatUTCMonthNumber(d, p) {\n    return pad(d.getUTCMonth() + 1, p, 2);\n  }\n\n  function formatUTCMinutes(d, p) {\n    return pad(d.getUTCMinutes(), p, 2);\n  }\n\n  function formatUTCSeconds(d, p) {\n    return pad(d.getUTCSeconds(), p, 2);\n  }\n\n  function formatUTCWeekNumberSunday(d, p) {\n    return pad(utcSunday.count(utcYear(d), d), p, 2);\n  }\n\n  function formatUTCWeekdayNumber(d) {\n    return d.getUTCDay();\n  }\n\n  function formatUTCWeekNumberMonday(d, p) {\n    return pad(utcMonday.count(utcYear(d), d), p, 2);\n  }\n\n  function formatUTCYear(d, p) {\n    return pad(d.getUTCFullYear() % 100, p, 2);\n  }\n\n  function formatUTCFullYear(d, p) {\n    return pad(d.getUTCFullYear() % 10000, p, 4);\n  }\n\n  function formatUTCZone() {\n    return \"+0000\";\n  }\n\n  function formatLiteralPercent() {\n    return \"%\";\n  }\n\n  var locale$2;\n\n  defaultLocale$1({\n    dateTime: \"%x, %X\",\n    date: \"%-m/%-d/%Y\",\n    time: \"%-I:%M:%S %p\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  });\n\n  function defaultLocale$1(definition) {\n    locale$2 = formatLocale$1(definition);\n    exports.timeFormat = locale$2.format;\n    exports.timeParse = locale$2.parse;\n    exports.utcFormat = locale$2.utcFormat;\n    exports.utcParse = locale$2.utcParse;\n    return locale$2;\n  }\n\n  var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\n  function formatIsoNative(date) {\n    return date.toISOString();\n  }\n\n  var formatIso = Date.prototype.toISOString ? formatIsoNative : exports.utcFormat(isoSpecifier);\n\n  function parseIsoNative(string) {\n    var date = new Date(string);\n    return isNaN(date) ? null : date;\n  }\n\n  var parseIso = +new Date(\"2000-01-01T00:00:00.000Z\") ? parseIsoNative : exports.utcParse(isoSpecifier);\n\n  var durationSecond = 1000;\n  var durationMinute = durationSecond * 60;\n  var durationHour = durationMinute * 60;\n  var durationDay = durationHour * 24;\n  var durationWeek = durationDay * 7;\n  var durationMonth = durationDay * 30;\n  var durationYear = durationDay * 365;\n\n  function date$1(t) {\n    return new Date(t);\n  }\n\n  function number$3(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n  }\n\n  function calendar(year$$1, month$$1, week, day$$1, hour$$1, minute$$1, second$$1, millisecond$$1, format) {\n    var scale = continuous(deinterpolateLinear, reinterpolate),\n        invert = scale.invert,\n        domain = scale.domain;\n\n    var formatMillisecond = format(\".%L\"),\n        formatSecond = format(\":%S\"),\n        formatMinute = format(\"%I:%M\"),\n        formatHour = format(\"%I %p\"),\n        formatDay = format(\"%a %d\"),\n        formatWeek = format(\"%b %d\"),\n        formatMonth = format(\"%B\"),\n        formatYear = format(\"%Y\");\n\n    var tickIntervals = [[second$$1, 1, durationSecond], [second$$1, 5, 5 * durationSecond], [second$$1, 15, 15 * durationSecond], [second$$1, 30, 30 * durationSecond], [minute$$1, 1, durationMinute], [minute$$1, 5, 5 * durationMinute], [minute$$1, 15, 15 * durationMinute], [minute$$1, 30, 30 * durationMinute], [hour$$1, 1, durationHour], [hour$$1, 3, 3 * durationHour], [hour$$1, 6, 6 * durationHour], [hour$$1, 12, 12 * durationHour], [day$$1, 1, durationDay], [day$$1, 2, 2 * durationDay], [week, 1, durationWeek], [month$$1, 1, durationMonth], [month$$1, 3, 3 * durationMonth], [year$$1, 1, durationYear]];\n\n    function tickFormat(date$$1) {\n      return (second$$1(date$$1) < date$$1 ? formatMillisecond : minute$$1(date$$1) < date$$1 ? formatSecond : hour$$1(date$$1) < date$$1 ? formatMinute : day$$1(date$$1) < date$$1 ? formatHour : month$$1(date$$1) < date$$1 ? week(date$$1) < date$$1 ? formatDay : formatWeek : year$$1(date$$1) < date$$1 ? formatMonth : formatYear)(date$$1);\n    }\n\n    function tickInterval(interval$$1, start, stop, step) {\n      if (interval$$1 == null) interval$$1 = 10;\n\n      // If a desired tick count is specified, pick a reasonable tick interval\n      // based on the extent of the domain and a rough estimate of tick size.\n      // Otherwise, assume interval is already a time interval and use it.\n      if (typeof interval$$1 === \"number\") {\n        var target = Math.abs(stop - start) / interval$$1,\n            i = bisector(function (i) {\n          return i[2];\n        }).right(tickIntervals, target);\n        if (i === tickIntervals.length) {\n          step = tickStep(start / durationYear, stop / durationYear, interval$$1);\n          interval$$1 = year$$1;\n        } else if (i) {\n          i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n          step = i[1];\n          interval$$1 = i[0];\n        } else {\n          step = tickStep(start, stop, interval$$1);\n          interval$$1 = millisecond$$1;\n        }\n      }\n\n      return step == null ? interval$$1 : interval$$1.every(step);\n    }\n\n    scale.invert = function (y) {\n      return new Date(invert(y));\n    };\n\n    scale.domain = function (_) {\n      return arguments.length ? domain(map$3.call(_, number$3)) : domain().map(date$1);\n    };\n\n    scale.ticks = function (interval$$1, step) {\n      var d = domain(),\n          t0 = d[0],\n          t1 = d[d.length - 1],\n          r = t1 < t0,\n          t;\n      if (r) t = t0, t0 = t1, t1 = t;\n      t = tickInterval(interval$$1, t0, t1, step);\n      t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n      return r ? t.reverse() : t;\n    };\n\n    scale.tickFormat = function (count, specifier) {\n      return specifier == null ? tickFormat : format(specifier);\n    };\n\n    scale.nice = function (interval$$1, step) {\n      var d = domain();\n      return (interval$$1 = tickInterval(interval$$1, d[0], d[d.length - 1], step)) ? domain(nice(d, interval$$1)) : scale;\n    };\n\n    scale.copy = function () {\n      return copy(scale, calendar(year$$1, month$$1, week, day$$1, hour$$1, minute$$1, second$$1, millisecond$$1, format));\n    };\n\n    return scale;\n  }\n\n  var time = function time() {\n    return calendar(year, month, sunday, day, hour, minute, second, millisecond, exports.timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n  };\n\n  var utcTime = function utcTime() {\n    return calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, exports.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n  };\n\n  var colors = function colors(s) {\n    return s.match(/.{6}/g).map(function (x) {\n      return \"#\" + x;\n    });\n  };\n\n  var category10 = colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n\n  var category20b = colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n\n  var category20c = colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n\n  var category20 = colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n\n  var cubehelix$3 = cubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n\n  var warm = cubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\n  var cool = cubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\n  var rainbow = cubehelix();\n\n  var rainbow$1 = function rainbow$1(t) {\n    if (t < 0 || t > 1) t -= Math.floor(t);\n    var ts = Math.abs(t - 0.5);\n    rainbow.h = 360 * t - 100;\n    rainbow.s = 1.5 - 1.5 * ts;\n    rainbow.l = 0.8 - 0.9 * ts;\n    return rainbow + \"\";\n  };\n\n  function ramp(range) {\n    var n = range.length;\n    return function (t) {\n      return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n    };\n  }\n\n  var viridis = ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\n  var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\n  var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\n  var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n\n  function sequential(interpolator) {\n    var x0 = 0,\n        x1 = 1,\n        clamp = false;\n\n    function scale(x) {\n      var t = (x - x0) / (x1 - x0);\n      return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n    }\n\n    scale.domain = function (_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n    };\n\n    scale.clamp = function (_) {\n      return arguments.length ? (clamp = !!_, scale) : clamp;\n    };\n\n    scale.interpolator = function (_) {\n      return arguments.length ? (interpolator = _, scale) : interpolator;\n    };\n\n    scale.copy = function () {\n      return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n    };\n\n    return linearish(scale);\n  }\n\n  var constant$10 = function constant$10(x) {\n    return function constant() {\n      return x;\n    };\n  };\n\n  var abs$1 = Math.abs;\n  var atan2$1 = Math.atan2;\n  var cos$2 = Math.cos;\n  var max$2 = Math.max;\n  var min$1 = Math.min;\n  var sin$2 = Math.sin;\n  var sqrt$2 = Math.sqrt;\n\n  var epsilon$3 = 1e-12;\n  var pi$4 = Math.PI;\n  var halfPi$3 = pi$4 / 2;\n  var tau$4 = 2 * pi$4;\n\n  function acos$1(x) {\n    return x > 1 ? 0 : x < -1 ? pi$4 : Math.acos(x);\n  }\n\n  function asin$1(x) {\n    return x >= 1 ? halfPi$3 : x <= -1 ? -halfPi$3 : Math.asin(x);\n  }\n\n  function arcInnerRadius(d) {\n    return d.innerRadius;\n  }\n\n  function arcOuterRadius(d) {\n    return d.outerRadius;\n  }\n\n  function arcStartAngle(d) {\n    return d.startAngle;\n  }\n\n  function arcEndAngle(d) {\n    return d.endAngle;\n  }\n\n  function arcPadAngle(d) {\n    return d && d.padAngle; // Note: optional!\n  }\n\n  function intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var x10 = x1 - x0,\n        y10 = y1 - y0,\n        x32 = x3 - x2,\n        y32 = y3 - y2,\n        t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n    return [x0 + t * x10, y0 + t * y10];\n  }\n\n  // Compute perpendicular offset line of length rc.\n  // http://mathworld.wolfram.com/Circle-LineIntersection.html\n  function cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n    var x01 = x0 - x1,\n        y01 = y0 - y1,\n        lo = (cw ? rc : -rc) / sqrt$2(x01 * x01 + y01 * y01),\n        ox = lo * y01,\n        oy = -lo * x01,\n        x11 = x0 + ox,\n        y11 = y0 + oy,\n        x10 = x1 + ox,\n        y10 = y1 + oy,\n        x00 = (x11 + x10) / 2,\n        y00 = (y11 + y10) / 2,\n        dx = x10 - x11,\n        dy = y10 - y11,\n        d2 = dx * dx + dy * dy,\n        r = r1 - rc,\n        D = x11 * y10 - x10 * y11,\n        d = (dy < 0 ? -1 : 1) * sqrt$2(max$2(0, r * r * d2 - D * D)),\n        cx0 = (D * dy - dx * d) / d2,\n        cy0 = (-D * dx - dy * d) / d2,\n        cx1 = (D * dy + dx * d) / d2,\n        cy1 = (-D * dx + dy * d) / d2,\n        dx0 = cx0 - x00,\n        dy0 = cy0 - y00,\n        dx1 = cx1 - x00,\n        dy1 = cy1 - y00;\n\n    // Pick the closer of the two intersection points.\n    // TODO Is there a faster way to determine which intersection to use?\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n    return {\n      cx: cx0,\n      cy: cy0,\n      x01: -ox,\n      y01: -oy,\n      x11: cx0 * (r1 / r - 1),\n      y11: cy0 * (r1 / r - 1)\n    };\n  }\n\n  var arc = function arc() {\n    var innerRadius = arcInnerRadius,\n        outerRadius = arcOuterRadius,\n        cornerRadius = constant$10(0),\n        padRadius = null,\n        startAngle = arcStartAngle,\n        endAngle = arcEndAngle,\n        padAngle = arcPadAngle,\n        context = null;\n\n    function arc() {\n      var buffer,\n          r,\n          r0 = +innerRadius.apply(this, arguments),\n          r1 = +outerRadius.apply(this, arguments),\n          a0 = startAngle.apply(this, arguments) - halfPi$3,\n          a1 = endAngle.apply(this, arguments) - halfPi$3,\n          da = abs$1(a1 - a0),\n          cw = a1 > a0;\n\n      if (!context) context = buffer = path();\n\n      // Ensure that the outer radius is always larger than the inner radius.\n      if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n      // Is it a point?\n      if (!(r1 > epsilon$3)) context.moveTo(0, 0);\n\n      // Or is it a circle or annulus?\n      else if (da > tau$4 - epsilon$3) {\n          context.moveTo(r1 * cos$2(a0), r1 * sin$2(a0));\n          context.arc(0, 0, r1, a0, a1, !cw);\n          if (r0 > epsilon$3) {\n            context.moveTo(r0 * cos$2(a1), r0 * sin$2(a1));\n            context.arc(0, 0, r0, a1, a0, cw);\n          }\n        }\n\n        // Or is it a circular or annular sector?\n        else {\n            var a01 = a0,\n                a11 = a1,\n                a00 = a0,\n                a10 = a1,\n                da0 = da,\n                da1 = da,\n                ap = padAngle.apply(this, arguments) / 2,\n                rp = ap > epsilon$3 && (padRadius ? +padRadius.apply(this, arguments) : sqrt$2(r0 * r0 + r1 * r1)),\n                rc = min$1(abs$1(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n                rc0 = rc,\n                rc1 = rc,\n                t0,\n                t1;\n\n            // Apply padding? Note that since r1  r0, da1  da0.\n            if (rp > epsilon$3) {\n              var p0 = asin$1(rp / r0 * sin$2(ap)),\n                  p1 = asin$1(rp / r1 * sin$2(ap));\n              if ((da0 -= p0 * 2) > epsilon$3) p0 *= cw ? 1 : -1, a00 += p0, a10 -= p0;else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n              if ((da1 -= p1 * 2) > epsilon$3) p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n            }\n\n            var x01 = r1 * cos$2(a01),\n                y01 = r1 * sin$2(a01),\n                x10 = r0 * cos$2(a10),\n                y10 = r0 * sin$2(a10);\n\n            // Apply rounded corners?\n            if (rc > epsilon$3) {\n              var x11 = r1 * cos$2(a11),\n                  y11 = r1 * sin$2(a11),\n                  x00 = r0 * cos$2(a00),\n                  y00 = r0 * sin$2(a00);\n\n              // Restrict the corner radius according to the sector angle.\n              if (da < pi$4) {\n                var oc = da0 > epsilon$3 ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n                    ax = x01 - oc[0],\n                    ay = y01 - oc[1],\n                    bx = x11 - oc[0],\n                    by = y11 - oc[1],\n                    kc = 1 / sin$2(acos$1((ax * bx + ay * by) / (sqrt$2(ax * ax + ay * ay) * sqrt$2(bx * bx + by * by))) / 2),\n                    lc = sqrt$2(oc[0] * oc[0] + oc[1] * oc[1]);\n                rc0 = min$1(rc, (r0 - lc) / (kc - 1));\n                rc1 = min$1(rc, (r1 - lc) / (kc + 1));\n              }\n            }\n\n            // Is the sector collapsed to a line?\n            if (!(da1 > epsilon$3)) context.moveTo(x01, y01);\n\n            // Does the sectors outer ring have rounded corners?\n            else if (rc1 > epsilon$3) {\n                t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n                t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n                context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n                // Have the corners merged?\n                if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2$1(t0.y01, t0.x01), atan2$1(t1.y01, t1.x01), !cw);\n\n                // Otherwise, draw the two corners and the ring.\n                else {\n                    context.arc(t0.cx, t0.cy, rc1, atan2$1(t0.y01, t0.x01), atan2$1(t0.y11, t0.x11), !cw);\n                    context.arc(0, 0, r1, atan2$1(t0.cy + t0.y11, t0.cx + t0.x11), atan2$1(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n                    context.arc(t1.cx, t1.cy, rc1, atan2$1(t1.y11, t1.x11), atan2$1(t1.y01, t1.x01), !cw);\n                  }\n              }\n\n              // Or is the outer ring just a circular arc?\n              else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n            // Is there no inner ring, and its a circular sector?\n            // Or perhaps its an annular sector collapsed due to padding?\n            if (!(r0 > epsilon$3) || !(da0 > epsilon$3)) context.lineTo(x10, y10);\n\n            // Does the sectors inner ring (or point) have rounded corners?\n            else if (rc0 > epsilon$3) {\n                t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n                t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n                context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n                // Have the corners merged?\n                if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2$1(t0.y01, t0.x01), atan2$1(t1.y01, t1.x01), !cw);\n\n                // Otherwise, draw the two corners and the ring.\n                else {\n                    context.arc(t0.cx, t0.cy, rc0, atan2$1(t0.y01, t0.x01), atan2$1(t0.y11, t0.x11), !cw);\n                    context.arc(0, 0, r0, atan2$1(t0.cy + t0.y11, t0.cx + t0.x11), atan2$1(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n                    context.arc(t1.cx, t1.cy, rc0, atan2$1(t1.y11, t1.x11), atan2$1(t1.y01, t1.x01), !cw);\n                  }\n              }\n\n              // Or is the inner ring just a circular arc?\n              else context.arc(0, 0, r0, a10, a00, cw);\n          }\n\n      context.closePath();\n\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n\n    arc.centroid = function () {\n      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n          a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi$4 / 2;\n      return [cos$2(a) * r, sin$2(a) * r];\n    };\n\n    arc.innerRadius = function (_) {\n      return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant$10(+_), arc) : innerRadius;\n    };\n\n    arc.outerRadius = function (_) {\n      return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant$10(+_), arc) : outerRadius;\n    };\n\n    arc.cornerRadius = function (_) {\n      return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant$10(+_), arc) : cornerRadius;\n    };\n\n    arc.padRadius = function (_) {\n      return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant$10(+_), arc) : padRadius;\n    };\n\n    arc.startAngle = function (_) {\n      return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$10(+_), arc) : startAngle;\n    };\n\n    arc.endAngle = function (_) {\n      return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$10(+_), arc) : endAngle;\n    };\n\n    arc.padAngle = function (_) {\n      return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$10(+_), arc) : padAngle;\n    };\n\n    arc.context = function (_) {\n      return arguments.length ? (context = _ == null ? null : _, arc) : context;\n    };\n\n    return arc;\n  };\n\n  function Linear(context) {\n    this._context = context;\n  }\n\n  Linear.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);break;\n        case 1:\n          this._point = 2; // proceed\n        default:\n          this._context.lineTo(x, y);break;\n      }\n    }\n  };\n\n  var curveLinear = function curveLinear(context) {\n    return new Linear(context);\n  };\n\n  function x$3(p) {\n    return p[0];\n  }\n\n  function y$3(p) {\n    return p[1];\n  }\n\n  var line = function line() {\n    var x = x$3,\n        y = y$3,\n        defined = constant$10(true),\n        context = null,\n        curve = curveLinear,\n        output = null;\n\n    function line(data) {\n      var i,\n          n = data.length,\n          d,\n          defined0 = false,\n          buffer;\n\n      if (context == null) output = curve(buffer = path());\n\n      for (i = 0; i <= n; ++i) {\n        if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n          if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n        }\n        if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n      }\n\n      if (buffer) return output = null, buffer + \"\" || null;\n    }\n\n    line.x = function (_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$10(+_), line) : x;\n    };\n\n    line.y = function (_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$10(+_), line) : y;\n    };\n\n    line.defined = function (_) {\n      return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$10(!!_), line) : defined;\n    };\n\n    line.curve = function (_) {\n      return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n    };\n\n    line.context = function (_) {\n      return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n    };\n\n    return line;\n  };\n\n  var area$2 = function area$2() {\n    var x0 = x$3,\n        x1 = null,\n        y0 = constant$10(0),\n        y1 = y$3,\n        defined = constant$10(true),\n        context = null,\n        curve = curveLinear,\n        output = null;\n\n    function area(data) {\n      var i,\n          j,\n          k,\n          n = data.length,\n          d,\n          defined0 = false,\n          buffer,\n          x0z = new Array(n),\n          y0z = new Array(n);\n\n      if (context == null) output = curve(buffer = path());\n\n      for (i = 0; i <= n; ++i) {\n        if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n          if (defined0 = !defined0) {\n            j = i;\n            output.areaStart();\n            output.lineStart();\n          } else {\n            output.lineEnd();\n            output.lineStart();\n            for (k = i - 1; k >= j; --k) {\n              output.point(x0z[k], y0z[k]);\n            }\n            output.lineEnd();\n            output.areaEnd();\n          }\n        }\n        if (defined0) {\n          x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n          output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n        }\n      }\n\n      if (buffer) return output = null, buffer + \"\" || null;\n    }\n\n    function arealine() {\n      return line().defined(defined).curve(curve).context(context);\n    }\n\n    area.x = function (_) {\n      return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$10(+_), x1 = null, area) : x0;\n    };\n\n    area.x0 = function (_) {\n      return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$10(+_), area) : x0;\n    };\n\n    area.x1 = function (_) {\n      return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$10(+_), area) : x1;\n    };\n\n    area.y = function (_) {\n      return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$10(+_), y1 = null, area) : y0;\n    };\n\n    area.y0 = function (_) {\n      return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$10(+_), area) : y0;\n    };\n\n    area.y1 = function (_) {\n      return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$10(+_), area) : y1;\n    };\n\n    area.lineX0 = area.lineY0 = function () {\n      return arealine().x(x0).y(y0);\n    };\n\n    area.lineY1 = function () {\n      return arealine().x(x0).y(y1);\n    };\n\n    area.lineX1 = function () {\n      return arealine().x(x1).y(y0);\n    };\n\n    area.defined = function (_) {\n      return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$10(!!_), area) : defined;\n    };\n\n    area.curve = function (_) {\n      return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n    };\n\n    area.context = function (_) {\n      return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n    };\n\n    return area;\n  };\n\n  var descending$1 = function descending$1(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  };\n\n  var identity$7 = function identity$7(d) {\n    return d;\n  };\n\n  var pie = function pie() {\n    var value = identity$7,\n        sortValues = descending$1,\n        sort = null,\n        startAngle = constant$10(0),\n        endAngle = constant$10(tau$4),\n        padAngle = constant$10(0);\n\n    function pie(data) {\n      var i,\n          n = data.length,\n          j,\n          k,\n          sum = 0,\n          index = new Array(n),\n          arcs = new Array(n),\n          a0 = +startAngle.apply(this, arguments),\n          da = Math.min(tau$4, Math.max(-tau$4, endAngle.apply(this, arguments) - a0)),\n          a1,\n          p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n          pa = p * (da < 0 ? -1 : 1),\n          v;\n\n      for (i = 0; i < n; ++i) {\n        if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n          sum += v;\n        }\n      }\n\n      // Optionally sort the arcs by previously-computed values or by data.\n      if (sortValues != null) index.sort(function (i, j) {\n        return sortValues(arcs[i], arcs[j]);\n      });else if (sort != null) index.sort(function (i, j) {\n        return sort(data[i], data[j]);\n      });\n\n      // Compute the arcs! They are stored in the original data's order.\n      for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n        j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n          data: data[j],\n          index: i,\n          value: v,\n          startAngle: a0,\n          endAngle: a1,\n          padAngle: p\n        };\n      }\n\n      return arcs;\n    }\n\n    pie.value = function (_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$10(+_), pie) : value;\n    };\n\n    pie.sortValues = function (_) {\n      return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n    };\n\n    pie.sort = function (_) {\n      return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n    };\n\n    pie.startAngle = function (_) {\n      return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$10(+_), pie) : startAngle;\n    };\n\n    pie.endAngle = function (_) {\n      return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$10(+_), pie) : endAngle;\n    };\n\n    pie.padAngle = function (_) {\n      return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$10(+_), pie) : padAngle;\n    };\n\n    return pie;\n  };\n\n  var curveRadialLinear = curveRadial(curveLinear);\n\n  function Radial(curve) {\n    this._curve = curve;\n  }\n\n  Radial.prototype = {\n    areaStart: function areaStart() {\n      this._curve.areaStart();\n    },\n    areaEnd: function areaEnd() {\n      this._curve.areaEnd();\n    },\n    lineStart: function lineStart() {\n      this._curve.lineStart();\n    },\n    lineEnd: function lineEnd() {\n      this._curve.lineEnd();\n    },\n    point: function point(a, r) {\n      this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n    }\n  };\n\n  function curveRadial(curve) {\n\n    function radial(context) {\n      return new Radial(curve(context));\n    }\n\n    radial._curve = curve;\n\n    return radial;\n  }\n\n  function lineRadial(l) {\n    var c = l.curve;\n\n    l.angle = l.x, delete l.x;\n    l.radius = l.y, delete l.y;\n\n    l.curve = function (_) {\n      return arguments.length ? c(curveRadial(_)) : c()._curve;\n    };\n\n    return l;\n  }\n\n  var lineRadial$1 = function lineRadial$1() {\n    return lineRadial(line().curve(curveRadialLinear));\n  };\n\n  var areaRadial = function areaRadial() {\n    var a = area$2().curve(curveRadialLinear),\n        c = a.curve,\n        x0 = a.lineX0,\n        x1 = a.lineX1,\n        y0 = a.lineY0,\n        y1 = a.lineY1;\n\n    a.angle = a.x, delete a.x;\n    a.startAngle = a.x0, delete a.x0;\n    a.endAngle = a.x1, delete a.x1;\n    a.radius = a.y, delete a.y;\n    a.innerRadius = a.y0, delete a.y0;\n    a.outerRadius = a.y1, delete a.y1;\n    a.lineStartAngle = function () {\n      return lineRadial(x0());\n    }, delete a.lineX0;\n    a.lineEndAngle = function () {\n      return lineRadial(x1());\n    }, delete a.lineX1;\n    a.lineInnerRadius = function () {\n      return lineRadial(y0());\n    }, delete a.lineY0;\n    a.lineOuterRadius = function () {\n      return lineRadial(y1());\n    }, delete a.lineY1;\n\n    a.curve = function (_) {\n      return arguments.length ? c(curveRadial(_)) : c()._curve;\n    };\n\n    return a;\n  };\n\n  var pointRadial = function pointRadial(x, y) {\n    return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n  };\n\n  var slice$6 = Array.prototype.slice;\n\n  function linkSource(d) {\n    return d.source;\n  }\n\n  function linkTarget(d) {\n    return d.target;\n  }\n\n  function link$2(curve) {\n    var source = linkSource,\n        target = linkTarget,\n        x = x$3,\n        y = y$3,\n        context = null;\n\n    function link() {\n      var buffer,\n          argv = slice$6.call(arguments),\n          s = source.apply(this, argv),\n          t = target.apply(this, argv);\n      if (!context) context = buffer = path();\n      curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n\n    link.source = function (_) {\n      return arguments.length ? (source = _, link) : source;\n    };\n\n    link.target = function (_) {\n      return arguments.length ? (target = _, link) : target;\n    };\n\n    link.x = function (_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$10(+_), link) : x;\n    };\n\n    link.y = function (_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$10(+_), link) : y;\n    };\n\n    link.context = function (_) {\n      return arguments.length ? (context = _ == null ? null : _, link) : context;\n    };\n\n    return link;\n  }\n\n  function curveHorizontal(context, x0, y0, x1, y1) {\n    context.moveTo(x0, y0);\n    context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n  }\n\n  function curveVertical(context, x0, y0, x1, y1) {\n    context.moveTo(x0, y0);\n    context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n  }\n\n  function curveRadial$1(context, x0, y0, x1, y1) {\n    var p0 = pointRadial(x0, y0),\n        p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n        p2 = pointRadial(x1, y0),\n        p3 = pointRadial(x1, y1);\n    context.moveTo(p0[0], p0[1]);\n    context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n  }\n\n  function linkHorizontal() {\n    return link$2(curveHorizontal);\n  }\n\n  function linkVertical() {\n    return link$2(curveVertical);\n  }\n\n  function linkRadial() {\n    var l = link$2(curveRadial$1);\n    l.angle = l.x, delete l.x;\n    l.radius = l.y, delete l.y;\n    return l;\n  }\n\n  var circle$2 = {\n    draw: function draw(context, size) {\n      var r = Math.sqrt(size / pi$4);\n      context.moveTo(r, 0);\n      context.arc(0, 0, r, 0, tau$4);\n    }\n  };\n\n  var cross$2 = {\n    draw: function draw(context, size) {\n      var r = Math.sqrt(size / 5) / 2;\n      context.moveTo(-3 * r, -r);\n      context.lineTo(-r, -r);\n      context.lineTo(-r, -3 * r);\n      context.lineTo(r, -3 * r);\n      context.lineTo(r, -r);\n      context.lineTo(3 * r, -r);\n      context.lineTo(3 * r, r);\n      context.lineTo(r, r);\n      context.lineTo(r, 3 * r);\n      context.lineTo(-r, 3 * r);\n      context.lineTo(-r, r);\n      context.lineTo(-3 * r, r);\n      context.closePath();\n    }\n  };\n\n  var tan30 = Math.sqrt(1 / 3);\n  var tan30_2 = tan30 * 2;\n\n  var diamond = {\n    draw: function draw(context, size) {\n      var y = Math.sqrt(size / tan30_2),\n          x = y * tan30;\n      context.moveTo(0, -y);\n      context.lineTo(x, 0);\n      context.lineTo(0, y);\n      context.lineTo(-x, 0);\n      context.closePath();\n    }\n  };\n\n  var ka = 0.89081309152928522810;\n  var kr = Math.sin(pi$4 / 10) / Math.sin(7 * pi$4 / 10);\n  var kx = Math.sin(tau$4 / 10) * kr;\n  var ky = -Math.cos(tau$4 / 10) * kr;\n\n  var star = {\n    draw: function draw(context, size) {\n      var r = Math.sqrt(size * ka),\n          x = kx * r,\n          y = ky * r;\n      context.moveTo(0, -r);\n      context.lineTo(x, y);\n      for (var i = 1; i < 5; ++i) {\n        var a = tau$4 * i / 5,\n            c = Math.cos(a),\n            s = Math.sin(a);\n        context.lineTo(s * r, -c * r);\n        context.lineTo(c * x - s * y, s * x + c * y);\n      }\n      context.closePath();\n    }\n  };\n\n  var square = {\n    draw: function draw(context, size) {\n      var w = Math.sqrt(size),\n          x = -w / 2;\n      context.rect(x, x, w, w);\n    }\n  };\n\n  var sqrt3 = Math.sqrt(3);\n\n  var triangle = {\n    draw: function draw(context, size) {\n      var y = -Math.sqrt(size / (sqrt3 * 3));\n      context.moveTo(0, y * 2);\n      context.lineTo(-sqrt3 * y, -y);\n      context.lineTo(sqrt3 * y, -y);\n      context.closePath();\n    }\n  };\n\n  var c = -0.5;\n  var s = Math.sqrt(3) / 2;\n  var k = 1 / Math.sqrt(12);\n  var a = (k / 2 + 1) * 3;\n\n  var wye = {\n    draw: function draw(context, size) {\n      var r = Math.sqrt(size / a),\n          x0 = r / 2,\n          y0 = r * k,\n          x1 = x0,\n          y1 = r * k + r,\n          x2 = -x1,\n          y2 = y1;\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n      context.lineTo(x2, y2);\n      context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n      context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n      context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n      context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n      context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n      context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n      context.closePath();\n    }\n  };\n\n  var symbols = [circle$2, cross$2, diamond, square, star, triangle, wye];\n\n  var symbol = function symbol() {\n    var type = constant$10(circle$2),\n        size = constant$10(64),\n        context = null;\n\n    function symbol() {\n      var buffer;\n      if (!context) context = buffer = path();\n      type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n\n    symbol.type = function (_) {\n      return arguments.length ? (type = typeof _ === \"function\" ? _ : constant$10(_), symbol) : type;\n    };\n\n    symbol.size = function (_) {\n      return arguments.length ? (size = typeof _ === \"function\" ? _ : constant$10(+_), symbol) : size;\n    };\n\n    symbol.context = function (_) {\n      return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n    };\n\n    return symbol;\n  };\n\n  var noop$2 = function noop$2() {};\n\n  function point$2(that, x, y) {\n    that._context.bezierCurveTo((2 * that._x0 + that._x1) / 3, (2 * that._y0 + that._y1) / 3, (that._x0 + 2 * that._x1) / 3, (that._y0 + 2 * that._y1) / 3, (that._x0 + 4 * that._x1 + x) / 6, (that._y0 + 4 * that._y1 + y) / 6);\n  }\n\n  function Basis(context) {\n    this._context = context;\n  }\n\n  Basis.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      switch (this._point) {\n        case 3:\n          point$2(this, this._x1, this._y1); // proceed\n        case 2:\n          this._context.lineTo(this._x1, this._y1);break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);break;\n        case 1:\n          this._point = 2;break;\n        case 2:\n          this._point = 3;this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n        default:\n          point$2(this, x, y);break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n\n  var basis$2 = function basis$2(context) {\n    return new Basis(context);\n  };\n\n  function BasisClosed(context) {\n    this._context = context;\n  }\n\n  BasisClosed.prototype = {\n    areaStart: noop$2,\n    areaEnd: noop$2,\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      switch (this._point) {\n        case 1:\n          {\n            this._context.moveTo(this._x2, this._y2);\n            this._context.closePath();\n            break;\n          }\n        case 2:\n          {\n            this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n            this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n            this._context.closePath();\n            break;\n          }\n        case 3:\n          {\n            this.point(this._x2, this._y2);\n            this.point(this._x3, this._y3);\n            this.point(this._x4, this._y4);\n            break;\n          }\n      }\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._x2 = x, this._y2 = y;break;\n        case 1:\n          this._point = 2;this._x3 = x, this._y3 = y;break;\n        case 2:\n          this._point = 3;this._x4 = x, this._y4 = y;this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6);break;\n        default:\n          point$2(this, x, y);break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n\n  var basisClosed$1 = function basisClosed$1(context) {\n    return new BasisClosed(context);\n  };\n\n  function BasisOpen(context) {\n    this._context = context;\n  }\n\n  BasisOpen.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;break;\n        case 1:\n          this._point = 2;break;\n        case 2:\n          this._point = 3;var x0 = (this._x0 + 4 * this._x1 + x) / 6,\n              y0 = (this._y0 + 4 * this._y1 + y) / 6;this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);break;\n        case 3:\n          this._point = 4; // proceed\n        default:\n          point$2(this, x, y);break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n\n  var basisOpen = function basisOpen(context) {\n    return new BasisOpen(context);\n  };\n\n  function Bundle(context, beta) {\n    this._basis = new Basis(context);\n    this._beta = beta;\n  }\n\n  Bundle.prototype = {\n    lineStart: function lineStart() {\n      this._x = [];\n      this._y = [];\n      this._basis.lineStart();\n    },\n    lineEnd: function lineEnd() {\n      var x = this._x,\n          y = this._y,\n          j = x.length - 1;\n\n      if (j > 0) {\n        var x0 = x[0],\n            y0 = y[0],\n            dx = x[j] - x0,\n            dy = y[j] - y0,\n            i = -1,\n            t;\n\n        while (++i <= j) {\n          t = i / j;\n          this._basis.point(this._beta * x[i] + (1 - this._beta) * (x0 + t * dx), this._beta * y[i] + (1 - this._beta) * (y0 + t * dy));\n        }\n      }\n\n      this._x = this._y = null;\n      this._basis.lineEnd();\n    },\n    point: function point(x, y) {\n      this._x.push(+x);\n      this._y.push(+y);\n    }\n  };\n\n  var bundle = function custom(beta) {\n\n    function bundle(context) {\n      return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n    }\n\n    bundle.beta = function (beta) {\n      return custom(+beta);\n    };\n\n    return bundle;\n  }(0.85);\n\n  function point$3(that, x, y) {\n    that._context.bezierCurveTo(that._x1 + that._k * (that._x2 - that._x0), that._y1 + that._k * (that._y2 - that._y0), that._x2 + that._k * (that._x1 - x), that._y2 + that._k * (that._y1 - y), that._x2, that._y2);\n  }\n\n  function Cardinal(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n\n  Cardinal.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      switch (this._point) {\n        case 2:\n          this._context.lineTo(this._x2, this._y2);break;\n        case 3:\n          point$3(this, this._x1, this._y1);break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);break;\n        case 1:\n          this._point = 2;this._x1 = x, this._y1 = y;break;\n        case 2:\n          this._point = 3; // proceed\n        default:\n          point$3(this, x, y);break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var cardinal = function custom(tension) {\n\n    function cardinal(context) {\n      return new Cardinal(context, tension);\n    }\n\n    cardinal.tension = function (tension) {\n      return custom(+tension);\n    };\n\n    return cardinal;\n  }(0);\n\n  function CardinalClosed(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n\n  CardinalClosed.prototype = {\n    areaStart: noop$2,\n    areaEnd: noop$2,\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      switch (this._point) {\n        case 1:\n          {\n            this._context.moveTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 2:\n          {\n            this._context.lineTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 3:\n          {\n            this.point(this._x3, this._y3);\n            this.point(this._x4, this._y4);\n            this.point(this._x5, this._y5);\n            break;\n          }\n      }\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._x3 = x, this._y3 = y;break;\n        case 1:\n          this._point = 2;this._context.moveTo(this._x4 = x, this._y4 = y);break;\n        case 2:\n          this._point = 3;this._x5 = x, this._y5 = y;break;\n        default:\n          point$3(this, x, y);break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var cardinalClosed = function custom(tension) {\n\n    function cardinal$$1(context) {\n      return new CardinalClosed(context, tension);\n    }\n\n    cardinal$$1.tension = function (tension) {\n      return custom(+tension);\n    };\n\n    return cardinal$$1;\n  }(0);\n\n  function CardinalOpen(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n\n  CardinalOpen.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;break;\n        case 1:\n          this._point = 2;break;\n        case 2:\n          this._point = 3;this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);break;\n        case 3:\n          this._point = 4; // proceed\n        default:\n          point$3(this, x, y);break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var cardinalOpen = function custom(tension) {\n\n    function cardinal$$1(context) {\n      return new CardinalOpen(context, tension);\n    }\n\n    cardinal$$1.tension = function (tension) {\n      return custom(+tension);\n    };\n\n    return cardinal$$1;\n  }(0);\n\n  function point$4(that, x, y) {\n    var x1 = that._x1,\n        y1 = that._y1,\n        x2 = that._x2,\n        y2 = that._y2;\n\n    if (that._l01_a > epsilon$3) {\n      var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n          n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n      x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n      y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n    }\n\n    if (that._l23_a > epsilon$3) {\n      var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n          m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n      x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n      y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n    }\n\n    that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n  }\n\n  function CatmullRom(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n\n  CatmullRom.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      switch (this._point) {\n        case 2:\n          this._context.lineTo(this._x2, this._y2);break;\n        case 3:\n          this.point(this._x2, this._y2);break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n\n      if (this._point) {\n        var x23 = this._x2 - x,\n            y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);break;\n        case 1:\n          this._point = 2;break;\n        case 2:\n          this._point = 3; // proceed\n        default:\n          point$4(this, x, y);break;\n      }\n\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var catmullRom = function custom(alpha) {\n\n    function catmullRom(context) {\n      return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n    }\n\n    catmullRom.alpha = function (alpha) {\n      return custom(+alpha);\n    };\n\n    return catmullRom;\n  }(0.5);\n\n  function CatmullRomClosed(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n\n  CatmullRomClosed.prototype = {\n    areaStart: noop$2,\n    areaEnd: noop$2,\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n      this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      switch (this._point) {\n        case 1:\n          {\n            this._context.moveTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 2:\n          {\n            this._context.lineTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 3:\n          {\n            this.point(this._x3, this._y3);\n            this.point(this._x4, this._y4);\n            this.point(this._x5, this._y5);\n            break;\n          }\n      }\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n\n      if (this._point) {\n        var x23 = this._x2 - x,\n            y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._x3 = x, this._y3 = y;break;\n        case 1:\n          this._point = 2;this._context.moveTo(this._x4 = x, this._y4 = y);break;\n        case 2:\n          this._point = 3;this._x5 = x, this._y5 = y;break;\n        default:\n          point$4(this, x, y);break;\n      }\n\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var catmullRomClosed = function custom(alpha) {\n\n    function catmullRom$$1(context) {\n      return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n    }\n\n    catmullRom$$1.alpha = function (alpha) {\n      return custom(+alpha);\n    };\n\n    return catmullRom$$1;\n  }(0.5);\n\n  function CatmullRomOpen(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n\n  CatmullRomOpen.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n\n      if (this._point) {\n        var x23 = this._x2 - x,\n            y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n\n      switch (this._point) {\n        case 0:\n          this._point = 1;break;\n        case 1:\n          this._point = 2;break;\n        case 2:\n          this._point = 3;this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);break;\n        case 3:\n          this._point = 4; // proceed\n        default:\n          point$4(this, x, y);break;\n      }\n\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var catmullRomOpen = function custom(alpha) {\n\n    function catmullRom$$1(context) {\n      return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n    }\n\n    catmullRom$$1.alpha = function (alpha) {\n      return custom(+alpha);\n    };\n\n    return catmullRom$$1;\n  }(0.5);\n\n  function LinearClosed(context) {\n    this._context = context;\n  }\n\n  LinearClosed.prototype = {\n    areaStart: noop$2,\n    areaEnd: noop$2,\n    lineStart: function lineStart() {\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (this._point) this._context.closePath();\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      if (this._point) this._context.lineTo(x, y);else this._point = 1, this._context.moveTo(x, y);\n    }\n  };\n\n  var linearClosed = function linearClosed(context) {\n    return new LinearClosed(context);\n  };\n\n  function sign$1(x) {\n    return x < 0 ? -1 : 1;\n  }\n\n  // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n  // the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n  // Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n  // NOV(II), P. 443, 1990.\n  function slope3(that, x2, y2) {\n    var h0 = that._x1 - that._x0,\n        h1 = x2 - that._x1,\n        s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n        s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n        p = (s0 * h1 + s1 * h0) / (h0 + h1);\n    return (sign$1(s0) + sign$1(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n  }\n\n  // Calculate a one-sided slope.\n  function slope2(that, t) {\n    var h = that._x1 - that._x0;\n    return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n  }\n\n  // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n  // \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n  // with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n  function point$5(that, t0, t1) {\n    var x0 = that._x0,\n        y0 = that._y0,\n        x1 = that._x1,\n        y1 = that._y1,\n        dx = (x1 - x0) / 3;\n    that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n  }\n\n  function MonotoneX(context) {\n    this._context = context;\n  }\n\n  MonotoneX.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      switch (this._point) {\n        case 2:\n          this._context.lineTo(this._x1, this._y1);break;\n        case 3:\n          point$5(this, this._t0, slope2(this, this._t0));break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      var t1 = NaN;\n\n      x = +x, y = +y;\n      if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);break;\n        case 1:\n          this._point = 2;break;\n        case 2:\n          this._point = 3;point$5(this, slope2(this, t1 = slope3(this, x, y)), t1);break;\n        default:\n          point$5(this, this._t0, t1 = slope3(this, x, y));break;\n      }\n\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n      this._t0 = t1;\n    }\n  };\n\n  function MonotoneY(context) {\n    this._context = new ReflectContext(context);\n  }\n\n  (MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n    MonotoneX.prototype.point.call(this, y, x);\n  };\n\n  function ReflectContext(context) {\n    this._context = context;\n  }\n\n  ReflectContext.prototype = {\n    moveTo: function moveTo(x, y) {\n      this._context.moveTo(y, x);\n    },\n    closePath: function closePath() {\n      this._context.closePath();\n    },\n    lineTo: function lineTo(x, y) {\n      this._context.lineTo(y, x);\n    },\n    bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n      this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n    }\n  };\n\n  function monotoneX(context) {\n    return new MonotoneX(context);\n  }\n\n  function monotoneY(context) {\n    return new MonotoneY(context);\n  }\n\n  function Natural(context) {\n    this._context = context;\n  }\n\n  Natural.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x = [];\n      this._y = [];\n    },\n    lineEnd: function lineEnd() {\n      var x = this._x,\n          y = this._y,\n          n = x.length;\n\n      if (n) {\n        this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n        if (n === 2) {\n          this._context.lineTo(x[1], y[1]);\n        } else {\n          var px = controlPoints(x),\n              py = controlPoints(y);\n          for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n            this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n          }\n        }\n      }\n\n      if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n      this._line = 1 - this._line;\n      this._x = this._y = null;\n    },\n    point: function point(x, y) {\n      this._x.push(+x);\n      this._y.push(+y);\n    }\n  };\n\n  // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n  function controlPoints(x) {\n    var i,\n        n = x.length - 1,\n        m,\n        a = new Array(n),\n        b = new Array(n),\n        r = new Array(n);\n    a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n    for (i = 1; i < n - 1; ++i) {\n      a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n    }a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n    for (i = 1; i < n; ++i) {\n      m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n    }a[n - 1] = r[n - 1] / b[n - 1];\n    for (i = n - 2; i >= 0; --i) {\n      a[i] = (r[i] - a[i + 1]) / b[i];\n    }b[n - 1] = (x[n] + a[n - 1]) / 2;\n    for (i = 0; i < n - 1; ++i) {\n      b[i] = 2 * x[i + 1] - a[i + 1];\n    }return [a, b];\n  }\n\n  var natural = function natural(context) {\n    return new Natural(context);\n  };\n\n  function Step(context, t) {\n    this._context = context;\n    this._t = t;\n  }\n\n  Step.prototype = {\n    areaStart: function areaStart() {\n      this._line = 0;\n    },\n    areaEnd: function areaEnd() {\n      this._line = NaN;\n    },\n    lineStart: function lineStart() {\n      this._x = this._y = NaN;\n      this._point = 0;\n    },\n    lineEnd: function lineEnd() {\n      if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n    },\n    point: function point(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);break;\n        case 1:\n          this._point = 2; // proceed\n        default:\n          {\n            if (this._t <= 0) {\n              this._context.lineTo(this._x, y);\n              this._context.lineTo(x, y);\n            } else {\n              var x1 = this._x * (1 - this._t) + x * this._t;\n              this._context.lineTo(x1, this._y);\n              this._context.lineTo(x1, y);\n            }\n            break;\n          }\n      }\n      this._x = x, this._y = y;\n    }\n  };\n\n  var step = function step(context) {\n    return new Step(context, 0.5);\n  };\n\n  function stepBefore(context) {\n    return new Step(context, 0);\n  }\n\n  function stepAfter(context) {\n    return new Step(context, 1);\n  }\n\n  var none$1 = function none$1(series, order) {\n    if (!((n = series.length) > 1)) return;\n    for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n      s0 = s1, s1 = series[order[i]];\n      for (j = 0; j < m; ++j) {\n        s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n      }\n    }\n  };\n\n  var none$2 = function none$2(series) {\n    var n = series.length,\n        o = new Array(n);\n    while (--n >= 0) {\n      o[n] = n;\n    }return o;\n  };\n\n  function stackValue(d, key) {\n    return d[key];\n  }\n\n  var stack = function stack() {\n    var keys = constant$10([]),\n        order = none$2,\n        offset = none$1,\n        value = stackValue;\n\n    function stack(data) {\n      var kz = keys.apply(this, arguments),\n          i,\n          m = data.length,\n          n = kz.length,\n          sz = new Array(n),\n          oz;\n\n      for (i = 0; i < n; ++i) {\n        for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n          si[j] = sij = [0, +value(data[j], ki, j, data)];\n          sij.data = data[j];\n        }\n        si.key = ki;\n      }\n\n      for (i = 0, oz = order(sz); i < n; ++i) {\n        sz[oz[i]].index = i;\n      }\n\n      offset(sz, oz);\n      return sz;\n    }\n\n    stack.keys = function (_) {\n      return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant$10(slice$6.call(_)), stack) : keys;\n    };\n\n    stack.value = function (_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$10(+_), stack) : value;\n    };\n\n    stack.order = function (_) {\n      return arguments.length ? (order = _ == null ? none$2 : typeof _ === \"function\" ? _ : constant$10(slice$6.call(_)), stack) : order;\n    };\n\n    stack.offset = function (_) {\n      return arguments.length ? (offset = _ == null ? none$1 : _, stack) : offset;\n    };\n\n    return stack;\n  };\n\n  var expand = function expand(series, order) {\n    if (!((n = series.length) > 0)) return;\n    for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n      for (y = i = 0; i < n; ++i) {\n        y += series[i][j][1] || 0;\n      }if (y) for (i = 0; i < n; ++i) {\n        series[i][j][1] /= y;\n      }\n    }\n    none$1(series, order);\n  };\n\n  var diverging = function diverging(series, order) {\n    if (!((n = series.length) > 1)) return;\n    for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n      for (yp = yn = 0, i = 0; i < n; ++i) {\n        if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n          d[0] = yp, d[1] = yp += dy;\n        } else if (dy < 0) {\n          d[1] = yn, d[0] = yn += dy;\n        } else {\n          d[0] = yp;\n        }\n      }\n    }\n  };\n\n  var silhouette = function silhouette(series, order) {\n    if (!((n = series.length) > 0)) return;\n    for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n      for (var i = 0, y = 0; i < n; ++i) {\n        y += series[i][j][1] || 0;\n      }s0[j][1] += s0[j][0] = -y / 2;\n    }\n    none$1(series, order);\n  };\n\n  var wiggle = function wiggle(series, order) {\n    if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n    for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n      for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n        var si = series[order[i]],\n            sij0 = si[j][1] || 0,\n            sij1 = si[j - 1][1] || 0,\n            s3 = (sij0 - sij1) / 2;\n        for (var k = 0; k < i; ++k) {\n          var sk = series[order[k]],\n              skj0 = sk[j][1] || 0,\n              skj1 = sk[j - 1][1] || 0;\n          s3 += skj0 - skj1;\n        }\n        s1 += sij0, s2 += s3 * sij0;\n      }\n      s0[j - 1][1] += s0[j - 1][0] = y;\n      if (s1) y -= s2 / s1;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    none$1(series, order);\n  };\n\n  var ascending$2 = function ascending$2(series) {\n    var sums = series.map(sum$2);\n    return none$2(series).sort(function (a, b) {\n      return sums[a] - sums[b];\n    });\n  };\n\n  function sum$2(series) {\n    var s = 0,\n        i = -1,\n        n = series.length,\n        v;\n    while (++i < n) {\n      if (v = +series[i][1]) s += v;\n    }return s;\n  }\n\n  var descending$2 = function descending$2(series) {\n    return ascending$2(series).reverse();\n  };\n\n  var insideOut = function insideOut(series) {\n    var n = series.length,\n        i,\n        j,\n        sums = series.map(sum$2),\n        order = none$2(series).sort(function (a, b) {\n      return sums[b] - sums[a];\n    }),\n        top = 0,\n        bottom = 0,\n        tops = [],\n        bottoms = [];\n\n    for (i = 0; i < n; ++i) {\n      j = order[i];\n      if (top < bottom) {\n        top += sums[j];\n        tops.push(j);\n      } else {\n        bottom += sums[j];\n        bottoms.push(j);\n      }\n    }\n\n    return bottoms.reverse().concat(tops);\n  };\n\n  var reverse = function reverse(series) {\n    return none$2(series).reverse();\n  };\n\n  var constant$11 = function constant$11(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  function x$4(d) {\n    return d[0];\n  }\n\n  function y$4(d) {\n    return d[1];\n  }\n\n  function RedBlackTree() {\n    this._ = null; // root node\n  }\n\n  function RedBlackNode(node) {\n    node.U = // parent node\n    node.C = // color - true for red, false for black\n    node.L = // left node\n    node.R = // right node\n    node.P = // previous node\n    node.N = null; // next node\n  }\n\n  RedBlackTree.prototype = {\n    constructor: RedBlackTree,\n\n    insert: function insert(after, node) {\n      var parent, grandpa, uncle;\n\n      if (after) {\n        node.P = after;\n        node.N = after.N;\n        if (after.N) after.N.P = node;\n        after.N = node;\n        if (after.R) {\n          after = after.R;\n          while (after.L) {\n            after = after.L;\n          }after.L = node;\n        } else {\n          after.R = node;\n        }\n        parent = after;\n      } else if (this._) {\n        after = RedBlackFirst(this._);\n        node.P = null;\n        node.N = after;\n        after.P = after.L = node;\n        parent = after;\n      } else {\n        node.P = node.N = null;\n        this._ = node;\n        parent = null;\n      }\n      node.L = node.R = null;\n      node.U = parent;\n      node.C = true;\n\n      after = node;\n      while (parent && parent.C) {\n        grandpa = parent.U;\n        if (parent === grandpa.L) {\n          uncle = grandpa.R;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.R) {\n              RedBlackRotateLeft(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            RedBlackRotateRight(this, grandpa);\n          }\n        } else {\n          uncle = grandpa.L;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.L) {\n              RedBlackRotateRight(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            RedBlackRotateLeft(this, grandpa);\n          }\n        }\n        parent = after.U;\n      }\n      this._.C = false;\n    },\n\n    remove: function remove(node) {\n      if (node.N) node.N.P = node.P;\n      if (node.P) node.P.N = node.N;\n      node.N = node.P = null;\n\n      var parent = node.U,\n          sibling,\n          left = node.L,\n          right = node.R,\n          next,\n          red;\n\n      if (!left) next = right;else if (!right) next = left;else next = RedBlackFirst(right);\n\n      if (parent) {\n        if (parent.L === node) parent.L = next;else parent.R = next;\n      } else {\n        this._ = next;\n      }\n\n      if (left && right) {\n        red = next.C;\n        next.C = node.C;\n        next.L = left;\n        left.U = next;\n        if (next !== right) {\n          parent = next.U;\n          next.U = node.U;\n          node = next.R;\n          parent.L = node;\n          next.R = right;\n          right.U = next;\n        } else {\n          next.U = parent;\n          parent = next;\n          node = next.R;\n        }\n      } else {\n        red = node.C;\n        node = next;\n      }\n\n      if (node) node.U = parent;\n      if (red) return;\n      if (node && node.C) {\n        node.C = false;return;\n      }\n\n      do {\n        if (node === this._) break;\n        if (node === parent.L) {\n          sibling = parent.R;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            RedBlackRotateLeft(this, parent);\n            sibling = parent.R;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.R || !sibling.R.C) {\n              sibling.L.C = false;\n              sibling.C = true;\n              RedBlackRotateRight(this, sibling);\n              sibling = parent.R;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.R.C = false;\n            RedBlackRotateLeft(this, parent);\n            node = this._;\n            break;\n          }\n        } else {\n          sibling = parent.L;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            RedBlackRotateRight(this, parent);\n            sibling = parent.L;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.L || !sibling.L.C) {\n              sibling.R.C = false;\n              sibling.C = true;\n              RedBlackRotateLeft(this, sibling);\n              sibling = parent.L;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.L.C = false;\n            RedBlackRotateRight(this, parent);\n            node = this._;\n            break;\n          }\n        }\n        sibling.C = true;\n        node = parent;\n        parent = parent.U;\n      } while (!node.C);\n\n      if (node) node.C = false;\n    }\n  };\n\n  function RedBlackRotateLeft(tree, node) {\n    var p = node,\n        q = node.R,\n        parent = p.U;\n\n    if (parent) {\n      if (parent.L === p) parent.L = q;else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n\n    q.U = parent;\n    p.U = q;\n    p.R = q.L;\n    if (p.R) p.R.U = p;\n    q.L = p;\n  }\n\n  function RedBlackRotateRight(tree, node) {\n    var p = node,\n        q = node.L,\n        parent = p.U;\n\n    if (parent) {\n      if (parent.L === p) parent.L = q;else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n\n    q.U = parent;\n    p.U = q;\n    p.L = q.R;\n    if (p.L) p.L.U = p;\n    q.R = p;\n  }\n\n  function RedBlackFirst(node) {\n    while (node.L) {\n      node = node.L;\n    }return node;\n  }\n\n  function createEdge(left, right, v0, v1) {\n    var edge = [null, null],\n        index = edges.push(edge) - 1;\n    edge.left = left;\n    edge.right = right;\n    if (v0) setEdgeEnd(edge, left, right, v0);\n    if (v1) setEdgeEnd(edge, right, left, v1);\n    cells[left.index].halfedges.push(index);\n    cells[right.index].halfedges.push(index);\n    return edge;\n  }\n\n  function createBorderEdge(left, v0, v1) {\n    var edge = [v0, v1];\n    edge.left = left;\n    return edge;\n  }\n\n  function setEdgeEnd(edge, left, right, vertex) {\n    if (!edge[0] && !edge[1]) {\n      edge[0] = vertex;\n      edge.left = left;\n      edge.right = right;\n    } else if (edge.left === right) {\n      edge[1] = vertex;\n    } else {\n      edge[0] = vertex;\n    }\n  }\n\n  // LiangBarsky line clipping.\n  function clipEdge(edge, x0, y0, x1, y1) {\n    var a = edge[0],\n        b = edge[1],\n        ax = a[0],\n        ay = a[1],\n        bx = b[0],\n        by = b[1],\n        t0 = 0,\n        t1 = 1,\n        dx = bx - ax,\n        dy = by - ay,\n        r;\n\n    r = x0 - ax;\n    if (!dx && r > 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dx > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = x1 - ax;\n    if (!dx && r < 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dx > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    r = y0 - ay;\n    if (!dy && r > 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dy > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = y1 - ay;\n    if (!dy && r < 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dy > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n    if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n    if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n    return true;\n  }\n\n  function connectEdge(edge, x0, y0, x1, y1) {\n    var v1 = edge[1];\n    if (v1) return true;\n\n    var v0 = edge[0],\n        left = edge.left,\n        right = edge.right,\n        lx = left[0],\n        ly = left[1],\n        rx = right[0],\n        ry = right[1],\n        fx = (lx + rx) / 2,\n        fy = (ly + ry) / 2,\n        fm,\n        fb;\n\n    if (ry === ly) {\n      if (fx < x0 || fx >= x1) return;\n      if (lx > rx) {\n        if (!v0) v0 = [fx, y0];else if (v0[1] >= y1) return;\n        v1 = [fx, y1];\n      } else {\n        if (!v0) v0 = [fx, y1];else if (v0[1] < y0) return;\n        v1 = [fx, y0];\n      }\n    } else {\n      fm = (lx - rx) / (ry - ly);\n      fb = fy - fm * fx;\n      if (fm < -1 || fm > 1) {\n        if (lx > rx) {\n          if (!v0) v0 = [(y0 - fb) / fm, y0];else if (v0[1] >= y1) return;\n          v1 = [(y1 - fb) / fm, y1];\n        } else {\n          if (!v0) v0 = [(y1 - fb) / fm, y1];else if (v0[1] < y0) return;\n          v1 = [(y0 - fb) / fm, y0];\n        }\n      } else {\n        if (ly < ry) {\n          if (!v0) v0 = [x0, fm * x0 + fb];else if (v0[0] >= x1) return;\n          v1 = [x1, fm * x1 + fb];\n        } else {\n          if (!v0) v0 = [x1, fm * x1 + fb];else if (v0[0] < x0) return;\n          v1 = [x0, fm * x0 + fb];\n        }\n      }\n    }\n\n    edge[0] = v0;\n    edge[1] = v1;\n    return true;\n  }\n\n  function clipEdges(x0, y0, x1, y1) {\n    var i = edges.length,\n        edge;\n\n    while (i--) {\n      if (!connectEdge(edge = edges[i], x0, y0, x1, y1) || !clipEdge(edge, x0, y0, x1, y1) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon$4 || Math.abs(edge[0][1] - edge[1][1]) > epsilon$4)) {\n        delete edges[i];\n      }\n    }\n  }\n\n  function createCell(site) {\n    return cells[site.index] = {\n      site: site,\n      halfedges: []\n    };\n  }\n\n  function cellHalfedgeAngle(cell, edge) {\n    var site = cell.site,\n        va = edge.left,\n        vb = edge.right;\n    if (site === vb) vb = va, va = site;\n    if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n    if (site === va) va = edge[1], vb = edge[0];else va = edge[0], vb = edge[1];\n    return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n  }\n\n  function cellHalfedgeStart(cell, edge) {\n    return edge[+(edge.left !== cell.site)];\n  }\n\n  function cellHalfedgeEnd(cell, edge) {\n    return edge[+(edge.left === cell.site)];\n  }\n\n  function sortCellHalfedges() {\n    for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n      if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n        var index = new Array(m),\n            array = new Array(m);\n        for (j = 0; j < m; ++j) {\n          index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n        }index.sort(function (i, j) {\n          return array[j] - array[i];\n        });\n        for (j = 0; j < m; ++j) {\n          array[j] = halfedges[index[j]];\n        }for (j = 0; j < m; ++j) {\n          halfedges[j] = array[j];\n        }\n      }\n    }\n  }\n\n  function clipCells(x0, y0, x1, y1) {\n    var nCells = cells.length,\n        iCell,\n        cell,\n        site,\n        iHalfedge,\n        halfedges,\n        nHalfedges,\n        start,\n        startX,\n        startY,\n        end,\n        endX,\n        endY,\n        cover = true;\n\n    for (iCell = 0; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        halfedges = cell.halfedges;\n        iHalfedge = halfedges.length;\n\n        // Remove any dangling clipped edges.\n        while (iHalfedge--) {\n          if (!edges[halfedges[iHalfedge]]) {\n            halfedges.splice(iHalfedge, 1);\n          }\n        }\n\n        // Insert any border edges as necessary.\n        iHalfedge = 0, nHalfedges = halfedges.length;\n        while (iHalfedge < nHalfedges) {\n          end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n          start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n          if (Math.abs(endX - startX) > epsilon$4 || Math.abs(endY - startY) > epsilon$4) {\n            halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end, Math.abs(endX - x0) < epsilon$4 && y1 - endY > epsilon$4 ? [x0, Math.abs(startX - x0) < epsilon$4 ? startY : y1] : Math.abs(endY - y1) < epsilon$4 && x1 - endX > epsilon$4 ? [Math.abs(startY - y1) < epsilon$4 ? startX : x1, y1] : Math.abs(endX - x1) < epsilon$4 && endY - y0 > epsilon$4 ? [x1, Math.abs(startX - x1) < epsilon$4 ? startY : y0] : Math.abs(endY - y0) < epsilon$4 && endX - x0 > epsilon$4 ? [Math.abs(startY - y0) < epsilon$4 ? startX : x0, y0] : null)) - 1);\n            ++nHalfedges;\n          }\n        }\n\n        if (nHalfedges) cover = false;\n      }\n    }\n\n    // If there werent any edges, have the closest site cover the extent.\n    // It doesnt matter which corner of the extent we measure!\n    if (cover) {\n      var dx,\n          dy,\n          d2,\n          dc = Infinity;\n\n      for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n        if (cell = cells[iCell]) {\n          site = cell.site;\n          dx = site[0] - x0;\n          dy = site[1] - y0;\n          d2 = dx * dx + dy * dy;\n          if (d2 < dc) dc = d2, cover = cell;\n        }\n      }\n\n      if (cover) {\n        var v00 = [x0, y0],\n            v01 = [x0, y1],\n            v11 = [x1, y1],\n            v10 = [x1, y0];\n        cover.halfedges.push(edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1, edges.push(createBorderEdge(site, v01, v11)) - 1, edges.push(createBorderEdge(site, v11, v10)) - 1, edges.push(createBorderEdge(site, v10, v00)) - 1);\n      }\n    }\n\n    // Lastly delete any cells with no edges; these were entirely clipped.\n    for (iCell = 0; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        if (!cell.halfedges.length) {\n          delete cells[iCell];\n        }\n      }\n    }\n  }\n\n  var circlePool = [];\n\n  var firstCircle;\n\n  function Circle() {\n    RedBlackNode(this);\n    this.x = this.y = this.arc = this.site = this.cy = null;\n  }\n\n  function attachCircle(arc) {\n    var lArc = arc.P,\n        rArc = arc.N;\n\n    if (!lArc || !rArc) return;\n\n    var lSite = lArc.site,\n        cSite = arc.site,\n        rSite = rArc.site;\n\n    if (lSite === rSite) return;\n\n    var bx = cSite[0],\n        by = cSite[1],\n        ax = lSite[0] - bx,\n        ay = lSite[1] - by,\n        cx = rSite[0] - bx,\n        cy = rSite[1] - by;\n\n    var d = 2 * (ax * cy - ay * cx);\n    if (d >= -epsilon2$2) return;\n\n    var ha = ax * ax + ay * ay,\n        hc = cx * cx + cy * cy,\n        x = (cy * ha - ay * hc) / d,\n        y = (ax * hc - cx * ha) / d;\n\n    var circle = circlePool.pop() || new Circle();\n    circle.arc = arc;\n    circle.site = cSite;\n    circle.x = x + bx;\n    circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n    arc.circle = circle;\n\n    var before = null,\n        node = circles._;\n\n    while (node) {\n      if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n        if (node.L) node = node.L;else {\n          before = node.P;break;\n        }\n      } else {\n        if (node.R) node = node.R;else {\n          before = node;break;\n        }\n      }\n    }\n\n    circles.insert(before, circle);\n    if (!before) firstCircle = circle;\n  }\n\n  function detachCircle(arc) {\n    var circle = arc.circle;\n    if (circle) {\n      if (!circle.P) firstCircle = circle.N;\n      circles.remove(circle);\n      circlePool.push(circle);\n      RedBlackNode(circle);\n      arc.circle = null;\n    }\n  }\n\n  var beachPool = [];\n\n  function Beach() {\n    RedBlackNode(this);\n    this.edge = this.site = this.circle = null;\n  }\n\n  function createBeach(site) {\n    var beach = beachPool.pop() || new Beach();\n    beach.site = site;\n    return beach;\n  }\n\n  function detachBeach(beach) {\n    detachCircle(beach);\n    beaches.remove(beach);\n    beachPool.push(beach);\n    RedBlackNode(beach);\n  }\n\n  function removeBeach(beach) {\n    var circle = beach.circle,\n        x = circle.x,\n        y = circle.cy,\n        vertex = [x, y],\n        previous = beach.P,\n        next = beach.N,\n        disappearing = [beach];\n\n    detachBeach(beach);\n\n    var lArc = previous;\n    while (lArc.circle && Math.abs(x - lArc.circle.x) < epsilon$4 && Math.abs(y - lArc.circle.cy) < epsilon$4) {\n      previous = lArc.P;\n      disappearing.unshift(lArc);\n      detachBeach(lArc);\n      lArc = previous;\n    }\n\n    disappearing.unshift(lArc);\n    detachCircle(lArc);\n\n    var rArc = next;\n    while (rArc.circle && Math.abs(x - rArc.circle.x) < epsilon$4 && Math.abs(y - rArc.circle.cy) < epsilon$4) {\n      next = rArc.N;\n      disappearing.push(rArc);\n      detachBeach(rArc);\n      rArc = next;\n    }\n\n    disappearing.push(rArc);\n    detachCircle(rArc);\n\n    var nArcs = disappearing.length,\n        iArc;\n    for (iArc = 1; iArc < nArcs; ++iArc) {\n      rArc = disappearing[iArc];\n      lArc = disappearing[iArc - 1];\n      setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n    }\n\n    lArc = disappearing[0];\n    rArc = disappearing[nArcs - 1];\n    rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n    attachCircle(lArc);\n    attachCircle(rArc);\n  }\n\n  function addBeach(site) {\n    var x = site[0],\n        directrix = site[1],\n        lArc,\n        rArc,\n        dxl,\n        dxr,\n        node = beaches._;\n\n    while (node) {\n      dxl = leftBreakPoint(node, directrix) - x;\n      if (dxl > epsilon$4) node = node.L;else {\n        dxr = x - rightBreakPoint(node, directrix);\n        if (dxr > epsilon$4) {\n          if (!node.R) {\n            lArc = node;\n            break;\n          }\n          node = node.R;\n        } else {\n          if (dxl > -epsilon$4) {\n            lArc = node.P;\n            rArc = node;\n          } else if (dxr > -epsilon$4) {\n            lArc = node;\n            rArc = node.N;\n          } else {\n            lArc = rArc = node;\n          }\n          break;\n        }\n      }\n    }\n\n    createCell(site);\n    var newArc = createBeach(site);\n    beaches.insert(lArc, newArc);\n\n    if (!lArc && !rArc) return;\n\n    if (lArc === rArc) {\n      detachCircle(lArc);\n      rArc = createBeach(lArc.site);\n      beaches.insert(newArc, rArc);\n      newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n      attachCircle(lArc);\n      attachCircle(rArc);\n      return;\n    }\n\n    if (!rArc) {\n      // && lArc\n      newArc.edge = createEdge(lArc.site, newArc.site);\n      return;\n    }\n\n    // else lArc !== rArc\n    detachCircle(lArc);\n    detachCircle(rArc);\n\n    var lSite = lArc.site,\n        ax = lSite[0],\n        ay = lSite[1],\n        bx = site[0] - ax,\n        by = site[1] - ay,\n        rSite = rArc.site,\n        cx = rSite[0] - ax,\n        cy = rSite[1] - ay,\n        d = 2 * (bx * cy - by * cx),\n        hb = bx * bx + by * by,\n        hc = cx * cx + cy * cy,\n        vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n    setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n    newArc.edge = createEdge(lSite, site, null, vertex);\n    rArc.edge = createEdge(site, rSite, null, vertex);\n    attachCircle(lArc);\n    attachCircle(rArc);\n  }\n\n  function leftBreakPoint(arc, directrix) {\n    var site = arc.site,\n        rfocx = site[0],\n        rfocy = site[1],\n        pby2 = rfocy - directrix;\n\n    if (!pby2) return rfocx;\n\n    var lArc = arc.P;\n    if (!lArc) return -Infinity;\n\n    site = lArc.site;\n    var lfocx = site[0],\n        lfocy = site[1],\n        plby2 = lfocy - directrix;\n\n    if (!plby2) return lfocx;\n\n    var hl = lfocx - rfocx,\n        aby2 = 1 / pby2 - 1 / plby2,\n        b = hl / plby2;\n\n    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n    return (rfocx + lfocx) / 2;\n  }\n\n  function rightBreakPoint(arc, directrix) {\n    var rArc = arc.N;\n    if (rArc) return leftBreakPoint(rArc, directrix);\n    var site = arc.site;\n    return site[1] === directrix ? site[0] : Infinity;\n  }\n\n  var epsilon$4 = 1e-6;\n  var epsilon2$2 = 1e-12;\n  var beaches;\n  var cells;\n  var circles;\n  var edges;\n\n  function triangleArea(a, b, c) {\n    return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n  }\n\n  function lexicographic(a, b) {\n    return b[1] - a[1] || b[0] - a[0];\n  }\n\n  function Diagram(sites, extent) {\n    var site = sites.sort(lexicographic).pop(),\n        x,\n        y,\n        circle;\n\n    edges = [];\n    cells = new Array(sites.length);\n    beaches = new RedBlackTree();\n    circles = new RedBlackTree();\n\n    while (true) {\n      circle = firstCircle;\n      if (site && (!circle || site[1] < circle.y || site[1] === circle.y && site[0] < circle.x)) {\n        if (site[0] !== x || site[1] !== y) {\n          addBeach(site);\n          x = site[0], y = site[1];\n        }\n        site = sites.pop();\n      } else if (circle) {\n        removeBeach(circle.arc);\n      } else {\n        break;\n      }\n    }\n\n    sortCellHalfedges();\n\n    if (extent) {\n      var x0 = +extent[0][0],\n          y0 = +extent[0][1],\n          x1 = +extent[1][0],\n          y1 = +extent[1][1];\n      clipEdges(x0, y0, x1, y1);\n      clipCells(x0, y0, x1, y1);\n    }\n\n    this.edges = edges;\n    this.cells = cells;\n\n    beaches = circles = edges = cells = null;\n  }\n\n  Diagram.prototype = {\n    constructor: Diagram,\n\n    polygons: function polygons() {\n      var edges = this.edges;\n\n      return this.cells.map(function (cell) {\n        var polygon = cell.halfedges.map(function (i) {\n          return cellHalfedgeStart(cell, edges[i]);\n        });\n        polygon.data = cell.site.data;\n        return polygon;\n      });\n    },\n\n    triangles: function triangles() {\n      var triangles = [],\n          edges = this.edges;\n\n      this.cells.forEach(function (cell, i) {\n        if (!(m = (halfedges = cell.halfedges).length)) return;\n        var site = cell.site,\n            halfedges,\n            j = -1,\n            m,\n            s0,\n            e1 = edges[halfedges[m - 1]],\n            s1 = e1.left === site ? e1.right : e1.left;\n\n        while (++j < m) {\n          s0 = s1;\n          e1 = edges[halfedges[j]];\n          s1 = e1.left === site ? e1.right : e1.left;\n          if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n            triangles.push([site.data, s0.data, s1.data]);\n          }\n        }\n      });\n\n      return triangles;\n    },\n\n    links: function links() {\n      return this.edges.filter(function (edge) {\n        return edge.right;\n      }).map(function (edge) {\n        return {\n          source: edge.left.data,\n          target: edge.right.data\n        };\n      });\n    },\n\n    find: function find(x, y, radius) {\n      var that = this,\n          i0,\n          i1 = that._found || 0,\n          n = that.cells.length,\n          cell;\n\n      // Use the previously-found cell, or start with an arbitrary one.\n      while (!(cell = that.cells[i1])) {\n        if (++i1 >= n) return null;\n      }var dx = x - cell.site[0],\n          dy = y - cell.site[1],\n          d2 = dx * dx + dy * dy;\n\n      // Traverse the half-edges to find a closer cell, if any.\n      do {\n        cell = that.cells[i0 = i1], i1 = null;\n        cell.halfedges.forEach(function (e) {\n          var edge = that.edges[e],\n              v = edge.left;\n          if ((v === cell.site || !v) && !(v = edge.right)) return;\n          var vx = x - v[0],\n              vy = y - v[1],\n              v2 = vx * vx + vy * vy;\n          if (v2 < d2) d2 = v2, i1 = v.index;\n        });\n      } while (i1 !== null);\n\n      that._found = i0;\n\n      return radius == null || d2 <= radius * radius ? cell.site : null;\n    }\n  };\n\n  var voronoi = function voronoi() {\n    var x = x$4,\n        y = y$4,\n        extent = null;\n\n    function voronoi(data) {\n      return new Diagram(data.map(function (d, i) {\n        var s = [Math.round(x(d, i, data) / epsilon$4) * epsilon$4, Math.round(y(d, i, data) / epsilon$4) * epsilon$4];\n        s.index = i;\n        s.data = d;\n        return s;\n      }), extent);\n    }\n\n    voronoi.polygons = function (data) {\n      return voronoi(data).polygons();\n    };\n\n    voronoi.links = function (data) {\n      return voronoi(data).links();\n    };\n\n    voronoi.triangles = function (data) {\n      return voronoi(data).triangles();\n    };\n\n    voronoi.x = function (_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$11(+_), voronoi) : x;\n    };\n\n    voronoi.y = function (_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$11(+_), voronoi) : y;\n    };\n\n    voronoi.extent = function (_) {\n      return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n    };\n\n    voronoi.size = function (_) {\n      return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n    };\n\n    return voronoi;\n  };\n\n  var constant$12 = function constant$12(x) {\n    return function () {\n      return x;\n    };\n  };\n\n  function ZoomEvent(target, type, transform) {\n    this.target = target;\n    this.type = type;\n    this.transform = transform;\n  }\n\n  function Transform(k, x, y) {\n    this.k = k;\n    this.x = x;\n    this.y = y;\n  }\n\n  Transform.prototype = {\n    constructor: Transform,\n    scale: function scale(k) {\n      return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n    },\n    translate: function translate(x, y) {\n      return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n    },\n    apply: function apply(point) {\n      return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n    },\n    applyX: function applyX(x) {\n      return x * this.k + this.x;\n    },\n    applyY: function applyY(y) {\n      return y * this.k + this.y;\n    },\n    invert: function invert(location) {\n      return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n    },\n    invertX: function invertX(x) {\n      return (x - this.x) / this.k;\n    },\n    invertY: function invertY(y) {\n      return (y - this.y) / this.k;\n    },\n    rescaleX: function rescaleX(x) {\n      return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n    },\n    rescaleY: function rescaleY(y) {\n      return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n    },\n    toString: function toString() {\n      return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n    }\n  };\n\n  var identity$8 = new Transform(1, 0, 0);\n\n  transform$1.prototype = Transform.prototype;\n\n  function transform$1(node) {\n    return node.__zoom || identity$8;\n  }\n\n  function nopropagation$2() {\n    exports.event.stopImmediatePropagation();\n  }\n\n  var noevent$2 = function noevent$2() {\n    exports.event.preventDefault();\n    exports.event.stopImmediatePropagation();\n  };\n\n  // Ignore right-click, since that should open the context menu.\n  function defaultFilter$2() {\n    return !exports.event.button;\n  }\n\n  function defaultExtent$1() {\n    var e = this,\n        w,\n        h;\n    if (e instanceof SVGElement) {\n      e = e.ownerSVGElement || e;\n      w = e.width.baseVal.value;\n      h = e.height.baseVal.value;\n    } else {\n      w = e.clientWidth;\n      h = e.clientHeight;\n    }\n    return [[0, 0], [w, h]];\n  }\n\n  function defaultTransform() {\n    return this.__zoom || identity$8;\n  }\n\n  function defaultWheelDelta() {\n    return -exports.event.deltaY * (exports.event.deltaMode ? 120 : 1) / 500;\n  }\n\n  function touchable$1() {\n    return \"ontouchstart\" in this;\n  }\n\n  var zoom = function zoom() {\n    var filter = defaultFilter$2,\n        extent = defaultExtent$1,\n        wheelDelta = defaultWheelDelta,\n        k0 = 0,\n        k1 = Infinity,\n        x0 = -k1,\n        x1 = k1,\n        y0 = x0,\n        y1 = x1,\n        duration = 250,\n        interpolate = interpolateZoom,\n        gestures = [],\n        listeners = dispatch(\"start\", \"zoom\", \"end\"),\n        touchstarting,\n        touchending,\n        touchDelay = 500,\n        wheelDelay = 150,\n        clickDistance2 = 0;\n\n    function zoom(selection$$1) {\n      selection$$1.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable$1).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n    }\n\n    zoom.transform = function (collection, transform$$1) {\n      var selection$$1 = collection.selection ? collection.selection() : collection;\n      selection$$1.property(\"__zoom\", defaultTransform);\n      if (collection !== selection$$1) {\n        schedule(collection, transform$$1);\n      } else {\n        selection$$1.interrupt().each(function () {\n          gesture(this, arguments).start().zoom(null, typeof transform$$1 === \"function\" ? transform$$1.apply(this, arguments) : transform$$1).end();\n        });\n      }\n    };\n\n    zoom.scaleBy = function (selection$$1, k) {\n      zoom.scaleTo(selection$$1, function () {\n        var k0 = this.__zoom.k,\n            k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n        return k0 * k1;\n      });\n    };\n\n    zoom.scaleTo = function (selection$$1, k) {\n      zoom.transform(selection$$1, function () {\n        var e = extent.apply(this, arguments),\n            t0 = this.__zoom,\n            p0 = centroid(e),\n            p1 = t0.invert(p0),\n            k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n        return constrain(translate(scale(t0, k1), p0, p1), e);\n      });\n    };\n\n    zoom.translateBy = function (selection$$1, x, y) {\n      zoom.transform(selection$$1, function () {\n        return constrain(this.__zoom.translate(typeof x === \"function\" ? x.apply(this, arguments) : x, typeof y === \"function\" ? y.apply(this, arguments) : y), extent.apply(this, arguments));\n      });\n    };\n\n    zoom.translateTo = function (selection$$1, x, y) {\n      zoom.transform(selection$$1, function () {\n        var e = extent.apply(this, arguments),\n            t = this.__zoom,\n            p = centroid(e);\n        return constrain(identity$8.translate(p[0], p[1]).scale(t.k).translate(typeof x === \"function\" ? -x.apply(this, arguments) : -x, typeof y === \"function\" ? -y.apply(this, arguments) : -y), e);\n      });\n    };\n\n    function scale(transform$$1, k) {\n      k = Math.max(k0, Math.min(k1, k));\n      return k === transform$$1.k ? transform$$1 : new Transform(k, transform$$1.x, transform$$1.y);\n    }\n\n    function translate(transform$$1, p0, p1) {\n      var x = p0[0] - p1[0] * transform$$1.k,\n          y = p0[1] - p1[1] * transform$$1.k;\n      return x === transform$$1.x && y === transform$$1.y ? transform$$1 : new Transform(transform$$1.k, x, y);\n    }\n\n    function constrain(transform$$1, extent) {\n      var dx0 = transform$$1.invertX(extent[0][0]) - x0,\n          dx1 = transform$$1.invertX(extent[1][0]) - x1,\n          dy0 = transform$$1.invertY(extent[0][1]) - y0,\n          dy1 = transform$$1.invertY(extent[1][1]) - y1;\n      return transform$$1.translate(dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1), dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1));\n    }\n\n    function centroid(extent) {\n      return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n    }\n\n    function schedule(transition$$1, transform$$1, center) {\n      transition$$1.on(\"start.zoom\", function () {\n        gesture(this, arguments).start();\n      }).on(\"interrupt.zoom end.zoom\", function () {\n        gesture(this, arguments).end();\n      }).tween(\"zoom\", function () {\n        var that = this,\n            args = arguments,\n            g = gesture(that, args),\n            e = extent.apply(that, args),\n            p = center || centroid(e),\n            w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n            a = that.__zoom,\n            b = typeof transform$$1 === \"function\" ? transform$$1.apply(that, args) : transform$$1,\n            i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n        return function (t) {\n          if (t === 1) t = b; // Avoid rounding error on end.\n          else {\n              var l = i(t),\n                  k = w / l[2];t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n            }\n          g.zoom(null, t);\n        };\n      });\n    }\n\n    function gesture(that, args) {\n      for (var i = 0, n = gestures.length, g; i < n; ++i) {\n        if ((g = gestures[i]).that === that) {\n          return g;\n        }\n      }\n      return new Gesture(that, args);\n    }\n\n    function Gesture(that, args) {\n      this.that = that;\n      this.args = args;\n      this.index = -1;\n      this.active = 0;\n      this.extent = extent.apply(that, args);\n    }\n\n    Gesture.prototype = {\n      start: function start() {\n        if (++this.active === 1) {\n          this.index = gestures.push(this) - 1;\n          this.emit(\"start\");\n        }\n        return this;\n      },\n      zoom: function zoom(key, transform$$1) {\n        if (this.mouse && key !== \"mouse\") this.mouse[1] = transform$$1.invert(this.mouse[0]);\n        if (this.touch0 && key !== \"touch\") this.touch0[1] = transform$$1.invert(this.touch0[0]);\n        if (this.touch1 && key !== \"touch\") this.touch1[1] = transform$$1.invert(this.touch1[0]);\n        this.that.__zoom = transform$$1;\n        this.emit(\"zoom\");\n        return this;\n      },\n      end: function end() {\n        if (--this.active === 0) {\n          gestures.splice(this.index, 1);\n          this.index = -1;\n          this.emit(\"end\");\n        }\n        return this;\n      },\n      emit: function emit(type) {\n        customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n      }\n    };\n\n    function wheeled() {\n      if (!filter.apply(this, arguments)) return;\n      var g = gesture(this, arguments),\n          t = this.__zoom,\n          k = Math.max(k0, Math.min(k1, t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n          p = mouse(this);\n\n      // If the mouse is in the same location as before, reuse it.\n      // If there were recent wheel events, reset the wheel idle timeout.\n      if (g.wheel) {\n        if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n          g.mouse[1] = t.invert(g.mouse[0] = p);\n        }\n        clearTimeout(g.wheel);\n      }\n\n      // If this wheel event wont trigger a transform change, ignore it.\n      else if (t.k === k) return;\n\n        // Otherwise, capture the mouse point and location at the start.\n        else {\n            g.mouse = [p, t.invert(p)];\n            interrupt(this);\n            g.start();\n          }\n\n      noevent$2();\n      g.wheel = setTimeout(wheelidled, wheelDelay);\n      g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent));\n\n      function wheelidled() {\n        g.wheel = null;\n        g.end();\n      }\n    }\n\n    function mousedowned() {\n      if (touchending || !filter.apply(this, arguments)) return;\n      var g = gesture(this, arguments),\n          v = select(exports.event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n          p = mouse(this),\n          x0 = exports.event.clientX,\n          y0 = exports.event.clientY;\n\n      dragDisable(exports.event.view);\n      nopropagation$2();\n      g.mouse = [p, this.__zoom.invert(p)];\n      interrupt(this);\n      g.start();\n\n      function mousemoved() {\n        noevent$2();\n        if (!g.moved) {\n          var dx = exports.event.clientX - x0,\n              dy = exports.event.clientY - y0;\n          g.moved = dx * dx + dy * dy > clickDistance2;\n        }\n        g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent));\n      }\n\n      function mouseupped() {\n        v.on(\"mousemove.zoom mouseup.zoom\", null);\n        yesdrag(exports.event.view, g.moved);\n        noevent$2();\n        g.end();\n      }\n    }\n\n    function dblclicked() {\n      if (!filter.apply(this, arguments)) return;\n      var t0 = this.__zoom,\n          p0 = mouse(this),\n          p1 = t0.invert(p0),\n          k1 = t0.k * (exports.event.shiftKey ? 0.5 : 2),\n          t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments));\n\n      noevent$2();\n      if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);else select(this).call(zoom.transform, t1);\n    }\n\n    function touchstarted() {\n      if (!filter.apply(this, arguments)) return;\n      var g = gesture(this, arguments),\n          touches$$1 = exports.event.changedTouches,\n          started,\n          n = touches$$1.length,\n          i,\n          t,\n          p;\n\n      nopropagation$2();\n      for (i = 0; i < n; ++i) {\n        t = touches$$1[i], p = touch(this, touches$$1, t.identifier);\n        p = [p, this.__zoom.invert(p), t.identifier];\n        if (!g.touch0) g.touch0 = p, started = true;else if (!g.touch1) g.touch1 = p;\n      }\n\n      // If this is a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (touchstarting) {\n        touchstarting = clearTimeout(touchstarting);\n        if (!g.touch1) {\n          g.end();\n          p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n          return;\n        }\n      }\n\n      if (started) {\n        touchstarting = setTimeout(function () {\n          touchstarting = null;\n        }, touchDelay);\n        interrupt(this);\n        g.start();\n      }\n    }\n\n    function touchmoved() {\n      var g = gesture(this, arguments),\n          touches$$1 = exports.event.changedTouches,\n          n = touches$$1.length,\n          i,\n          t,\n          p,\n          l;\n\n      noevent$2();\n      if (touchstarting) touchstarting = clearTimeout(touchstarting);\n      for (i = 0; i < n; ++i) {\n        t = touches$$1[i], p = touch(this, touches$$1, t.identifier);\n        if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n      }\n      t = g.that.__zoom;\n      if (g.touch1) {\n        var p0 = g.touch0[0],\n            l0 = g.touch0[1],\n            p1 = g.touch1[0],\n            l1 = g.touch1[1],\n            dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n            dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n        t = scale(t, Math.sqrt(dp / dl));\n        p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n        l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n      } else if (g.touch0) p = g.touch0[0], l = g.touch0[1];else return;\n      g.zoom(\"touch\", constrain(translate(t, p, l), g.extent));\n    }\n\n    function touchended() {\n      var g = gesture(this, arguments),\n          touches$$1 = exports.event.changedTouches,\n          n = touches$$1.length,\n          i,\n          t;\n\n      nopropagation$2();\n      if (touchending) clearTimeout(touchending);\n      touchending = setTimeout(function () {\n        touchending = null;\n      }, touchDelay);\n      for (i = 0; i < n; ++i) {\n        t = touches$$1[i];\n        if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n      }\n      if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n      if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);else g.end();\n    }\n\n    zoom.wheelDelta = function (_) {\n      return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant$12(+_), zoom) : wheelDelta;\n    };\n\n    zoom.filter = function (_) {\n      return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$12(!!_), zoom) : filter;\n    };\n\n    zoom.extent = function (_) {\n      return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$12([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n    };\n\n    zoom.scaleExtent = function (_) {\n      return arguments.length ? (k0 = +_[0], k1 = +_[1], zoom) : [k0, k1];\n    };\n\n    zoom.translateExtent = function (_) {\n      return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], zoom) : [[x0, y0], [x1, y1]];\n    };\n\n    zoom.duration = function (_) {\n      return arguments.length ? (duration = +_, zoom) : duration;\n    };\n\n    zoom.interpolate = function (_) {\n      return arguments.length ? (interpolate = _, zoom) : interpolate;\n    };\n\n    zoom.on = function () {\n      var value = listeners.on.apply(listeners, arguments);\n      return value === listeners ? zoom : value;\n    };\n\n    zoom.clickDistance = function (_) {\n      return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n    };\n\n    return zoom;\n  };\n\n  exports.version = version;\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.cross = cross;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = threshold;\n  exports.range = sequence;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickIncrement = tickIncrement;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n  exports.axisTop = axisTop;\n  exports.axisRight = axisRight;\n  exports.axisBottom = axisBottom;\n  exports.axisLeft = axisLeft;\n  exports.brush = brush;\n  exports.brushX = brushX;\n  exports.brushY = brushY;\n  exports.brushSelection = brushSelection;\n  exports.chord = chord;\n  exports.ribbon = ribbon;\n  exports.nest = nest;\n  exports.set = set$2;\n  exports.map = map$1;\n  exports.keys = keys;\n  exports.values = values;\n  exports.entries = entries;\n  exports.color = color;\n  exports.rgb = rgb;\n  exports.hsl = hsl;\n  exports.lab = lab;\n  exports.hcl = hcl;\n  exports.cubehelix = cubehelix;\n  exports.dispatch = dispatch;\n  exports.drag = drag;\n  exports.dragDisable = dragDisable;\n  exports.dragEnable = yesdrag;\n  exports.dsvFormat = dsv;\n  exports.csvParse = csvParse;\n  exports.csvParseRows = csvParseRows;\n  exports.csvFormat = csvFormat;\n  exports.csvFormatRows = csvFormatRows;\n  exports.tsvParse = tsvParse;\n  exports.tsvParseRows = tsvParseRows;\n  exports.tsvFormat = tsvFormat;\n  exports.tsvFormatRows = tsvFormatRows;\n  exports.easeLinear = linear$1;\n  exports.easeQuad = quadInOut;\n  exports.easeQuadIn = quadIn;\n  exports.easeQuadOut = quadOut;\n  exports.easeQuadInOut = quadInOut;\n  exports.easeCubic = cubicInOut;\n  exports.easeCubicIn = cubicIn;\n  exports.easeCubicOut = cubicOut;\n  exports.easeCubicInOut = cubicInOut;\n  exports.easePoly = polyInOut;\n  exports.easePolyIn = polyIn;\n  exports.easePolyOut = polyOut;\n  exports.easePolyInOut = polyInOut;\n  exports.easeSin = sinInOut;\n  exports.easeSinIn = sinIn;\n  exports.easeSinOut = sinOut;\n  exports.easeSinInOut = sinInOut;\n  exports.easeExp = expInOut;\n  exports.easeExpIn = expIn;\n  exports.easeExpOut = expOut;\n  exports.easeExpInOut = expInOut;\n  exports.easeCircle = circleInOut;\n  exports.easeCircleIn = circleIn;\n  exports.easeCircleOut = circleOut;\n  exports.easeCircleInOut = circleInOut;\n  exports.easeBounce = bounceOut;\n  exports.easeBounceIn = bounceIn;\n  exports.easeBounceOut = bounceOut;\n  exports.easeBounceInOut = bounceInOut;\n  exports.easeBack = backInOut;\n  exports.easeBackIn = backIn;\n  exports.easeBackOut = backOut;\n  exports.easeBackInOut = backInOut;\n  exports.easeElastic = elasticOut;\n  exports.easeElasticIn = elasticIn;\n  exports.easeElasticOut = elasticOut;\n  exports.easeElasticInOut = elasticInOut;\n  exports.forceCenter = center$1;\n  exports.forceCollide = collide;\n  exports.forceLink = link;\n  exports.forceManyBody = manyBody;\n  exports.forceSimulation = simulation;\n  exports.forceX = x$2;\n  exports.forceY = y$2;\n  exports.formatDefaultLocale = defaultLocale;\n  exports.formatLocale = formatLocale;\n  exports.formatSpecifier = formatSpecifier;\n  exports.precisionFixed = precisionFixed;\n  exports.precisionPrefix = precisionPrefix;\n  exports.precisionRound = precisionRound;\n  exports.geoArea = area;\n  exports.geoBounds = bounds;\n  exports.geoCentroid = centroid;\n  exports.geoCircle = circle;\n  exports.geoClipExtent = extent$1;\n  exports.geoContains = contains;\n  exports.geoDistance = distance;\n  exports.geoGraticule = graticule;\n  exports.geoGraticule10 = graticule10;\n  exports.geoInterpolate = interpolate$1;\n  exports.geoLength = length$1;\n  exports.geoPath = index$1;\n  exports.geoAlbers = albers;\n  exports.geoAlbersUsa = albersUsa;\n  exports.geoAzimuthalEqualArea = azimuthalEqualArea;\n  exports.geoAzimuthalEqualAreaRaw = azimuthalEqualAreaRaw;\n  exports.geoAzimuthalEquidistant = azimuthalEquidistant;\n  exports.geoAzimuthalEquidistantRaw = azimuthalEquidistantRaw;\n  exports.geoConicConformal = conicConformal;\n  exports.geoConicConformalRaw = conicConformalRaw;\n  exports.geoConicEqualArea = conicEqualArea;\n  exports.geoConicEqualAreaRaw = conicEqualAreaRaw;\n  exports.geoConicEquidistant = conicEquidistant;\n  exports.geoConicEquidistantRaw = conicEquidistantRaw;\n  exports.geoEquirectangular = equirectangular;\n  exports.geoEquirectangularRaw = equirectangularRaw;\n  exports.geoGnomonic = gnomonic;\n  exports.geoGnomonicRaw = gnomonicRaw;\n  exports.geoIdentity = identity$5;\n  exports.geoProjection = projection;\n  exports.geoProjectionMutator = projectionMutator;\n  exports.geoMercator = mercator;\n  exports.geoMercatorRaw = mercatorRaw;\n  exports.geoOrthographic = orthographic;\n  exports.geoOrthographicRaw = orthographicRaw;\n  exports.geoStereographic = stereographic;\n  exports.geoStereographicRaw = stereographicRaw;\n  exports.geoTransverseMercator = transverseMercator;\n  exports.geoTransverseMercatorRaw = transverseMercatorRaw;\n  exports.geoRotation = rotation;\n  exports.geoStream = geoStream;\n  exports.geoTransform = transform;\n  exports.cluster = cluster;\n  exports.hierarchy = hierarchy;\n  exports.pack = index$2;\n  exports.packSiblings = siblings;\n  exports.packEnclose = enclose;\n  exports.partition = partition;\n  exports.stratify = stratify;\n  exports.tree = tree;\n  exports.treemap = index$3;\n  exports.treemapBinary = binary;\n  exports.treemapDice = treemapDice;\n  exports.treemapSlice = treemapSlice;\n  exports.treemapSliceDice = sliceDice;\n  exports.treemapSquarify = squarify;\n  exports.treemapResquarify = resquarify;\n  exports.interpolate = interpolateValue;\n  exports.interpolateArray = array$1;\n  exports.interpolateBasis = basis$1;\n  exports.interpolateBasisClosed = basisClosed;\n  exports.interpolateDate = date;\n  exports.interpolateNumber = reinterpolate;\n  exports.interpolateObject = object;\n  exports.interpolateRound = interpolateRound;\n  exports.interpolateString = interpolateString;\n  exports.interpolateTransformCss = interpolateTransformCss;\n  exports.interpolateTransformSvg = interpolateTransformSvg;\n  exports.interpolateZoom = interpolateZoom;\n  exports.interpolateRgb = interpolateRgb;\n  exports.interpolateRgbBasis = rgbBasis;\n  exports.interpolateRgbBasisClosed = rgbBasisClosed;\n  exports.interpolateHsl = hsl$2;\n  exports.interpolateHslLong = hslLong;\n  exports.interpolateLab = lab$1;\n  exports.interpolateHcl = hcl$2;\n  exports.interpolateHclLong = hclLong;\n  exports.interpolateCubehelix = cubehelix$2;\n  exports.interpolateCubehelixLong = cubehelixLong;\n  exports.quantize = quantize;\n  exports.path = path;\n  exports.polygonArea = area$1;\n  exports.polygonCentroid = centroid$1;\n  exports.polygonHull = hull;\n  exports.polygonContains = contains$1;\n  exports.polygonLength = length$2;\n  exports.quadtree = quadtree;\n  exports.queue = queue;\n  exports.randomUniform = uniform;\n  exports.randomNormal = normal;\n  exports.randomLogNormal = logNormal;\n  exports.randomBates = bates;\n  exports.randomIrwinHall = irwinHall;\n  exports.randomExponential = exponential$1;\n  exports.request = request;\n  exports.html = html;\n  exports.json = json;\n  exports.text = text;\n  exports.xml = xml;\n  exports.csv = csv$1;\n  exports.tsv = tsv$1;\n  exports.scaleBand = band;\n  exports.scalePoint = point$1;\n  exports.scaleIdentity = identity$6;\n  exports.scaleLinear = linear$2;\n  exports.scaleLog = log$1;\n  exports.scaleOrdinal = ordinal;\n  exports.scaleImplicit = implicit;\n  exports.scalePow = pow$1;\n  exports.scaleSqrt = sqrt$1;\n  exports.scaleQuantile = quantile;\n  exports.scaleQuantize = quantize$1;\n  exports.scaleThreshold = threshold$1;\n  exports.scaleTime = time;\n  exports.scaleUtc = utcTime;\n  exports.schemeCategory10 = category10;\n  exports.schemeCategory20b = category20b;\n  exports.schemeCategory20c = category20c;\n  exports.schemeCategory20 = category20;\n  exports.interpolateCubehelixDefault = cubehelix$3;\n  exports.interpolateRainbow = rainbow$1;\n  exports.interpolateWarm = warm;\n  exports.interpolateCool = cool;\n  exports.interpolateViridis = viridis;\n  exports.interpolateMagma = magma;\n  exports.interpolateInferno = inferno;\n  exports.interpolatePlasma = plasma;\n  exports.scaleSequential = sequential;\n  exports.creator = creator;\n  exports.local = local$1;\n  exports.matcher = matcher$1;\n  exports.mouse = mouse;\n  exports.namespace = namespace;\n  exports.namespaces = namespaces;\n  exports.select = select;\n  exports.selectAll = selectAll;\n  exports.selection = selection;\n  exports.selector = selector;\n  exports.selectorAll = selectorAll;\n  exports.style = styleValue;\n  exports.touch = touch;\n  exports.touches = touches;\n  exports.window = defaultView;\n  exports.customEvent = customEvent;\n  exports.arc = arc;\n  exports.area = area$2;\n  exports.line = line;\n  exports.pie = pie;\n  exports.areaRadial = areaRadial;\n  exports.radialArea = areaRadial;\n  exports.lineRadial = lineRadial$1;\n  exports.radialLine = lineRadial$1;\n  exports.pointRadial = pointRadial;\n  exports.linkHorizontal = linkHorizontal;\n  exports.linkVertical = linkVertical;\n  exports.linkRadial = linkRadial;\n  exports.symbol = symbol;\n  exports.symbols = symbols;\n  exports.symbolCircle = circle$2;\n  exports.symbolCross = cross$2;\n  exports.symbolDiamond = diamond;\n  exports.symbolSquare = square;\n  exports.symbolStar = star;\n  exports.symbolTriangle = triangle;\n  exports.symbolWye = wye;\n  exports.curveBasisClosed = basisClosed$1;\n  exports.curveBasisOpen = basisOpen;\n  exports.curveBasis = basis$2;\n  exports.curveBundle = bundle;\n  exports.curveCardinalClosed = cardinalClosed;\n  exports.curveCardinalOpen = cardinalOpen;\n  exports.curveCardinal = cardinal;\n  exports.curveCatmullRomClosed = catmullRomClosed;\n  exports.curveCatmullRomOpen = catmullRomOpen;\n  exports.curveCatmullRom = catmullRom;\n  exports.curveLinearClosed = linearClosed;\n  exports.curveLinear = curveLinear;\n  exports.curveMonotoneX = monotoneX;\n  exports.curveMonotoneY = monotoneY;\n  exports.curveNatural = natural;\n  exports.curveStep = step;\n  exports.curveStepAfter = stepAfter;\n  exports.curveStepBefore = stepBefore;\n  exports.stack = stack;\n  exports.stackOffsetExpand = expand;\n  exports.stackOffsetDiverging = diverging;\n  exports.stackOffsetNone = none$1;\n  exports.stackOffsetSilhouette = silhouette;\n  exports.stackOffsetWiggle = wiggle;\n  exports.stackOrderAscending = ascending$2;\n  exports.stackOrderDescending = descending$2;\n  exports.stackOrderInsideOut = insideOut;\n  exports.stackOrderNone = none$2;\n  exports.stackOrderReverse = reverse;\n  exports.timeInterval = newInterval;\n  exports.timeMillisecond = millisecond;\n  exports.timeMilliseconds = milliseconds;\n  exports.utcMillisecond = millisecond;\n  exports.utcMilliseconds = milliseconds;\n  exports.timeSecond = second;\n  exports.timeSeconds = seconds;\n  exports.utcSecond = second;\n  exports.utcSeconds = seconds;\n  exports.timeMinute = minute;\n  exports.timeMinutes = minutes;\n  exports.timeHour = hour;\n  exports.timeHours = hours;\n  exports.timeDay = day;\n  exports.timeDays = days;\n  exports.timeWeek = sunday;\n  exports.timeWeeks = sundays;\n  exports.timeSunday = sunday;\n  exports.timeSundays = sundays;\n  exports.timeMonday = monday;\n  exports.timeMondays = mondays;\n  exports.timeTuesday = tuesday;\n  exports.timeTuesdays = tuesdays;\n  exports.timeWednesday = wednesday;\n  exports.timeWednesdays = wednesdays;\n  exports.timeThursday = thursday;\n  exports.timeThursdays = thursdays;\n  exports.timeFriday = friday;\n  exports.timeFridays = fridays;\n  exports.timeSaturday = saturday;\n  exports.timeSaturdays = saturdays;\n  exports.timeMonth = month;\n  exports.timeMonths = months;\n  exports.timeYear = year;\n  exports.timeYears = years;\n  exports.utcMinute = utcMinute;\n  exports.utcMinutes = utcMinutes;\n  exports.utcHour = utcHour;\n  exports.utcHours = utcHours;\n  exports.utcDay = utcDay;\n  exports.utcDays = utcDays;\n  exports.utcWeek = utcSunday;\n  exports.utcWeeks = utcSundays;\n  exports.utcSunday = utcSunday;\n  exports.utcSundays = utcSundays;\n  exports.utcMonday = utcMonday;\n  exports.utcMondays = utcMondays;\n  exports.utcTuesday = utcTuesday;\n  exports.utcTuesdays = utcTuesdays;\n  exports.utcWednesday = utcWednesday;\n  exports.utcWednesdays = utcWednesdays;\n  exports.utcThursday = utcThursday;\n  exports.utcThursdays = utcThursdays;\n  exports.utcFriday = utcFriday;\n  exports.utcFridays = utcFridays;\n  exports.utcSaturday = utcSaturday;\n  exports.utcSaturdays = utcSaturdays;\n  exports.utcMonth = utcMonth;\n  exports.utcMonths = utcMonths;\n  exports.utcYear = utcYear;\n  exports.utcYears = utcYears;\n  exports.timeFormatDefaultLocale = defaultLocale$1;\n  exports.timeFormatLocale = formatLocale$1;\n  exports.isoFormat = formatIso;\n  exports.isoParse = parseIso;\n  exports.now = now;\n  exports.timer = timer;\n  exports.timerFlush = timerFlush;\n  exports.timeout = timeout$1;\n  exports.interval = interval$1;\n  exports.transition = transition;\n  exports.active = active;\n  exports.interrupt = interrupt;\n  exports.voronoi = voronoi;\n  exports.zoom = zoom;\n  exports.zoomTransform = transform$1;\n  exports.zoomIdentity = identity$8;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rambda = __webpack_require__(0);\n\n// attempt to make a single selection using d3.select. If it succeeeds then it returns\n// that selection to you. Otherwise it adds the desired element type (e.g. div) in the slot\n// and gives it the class or id of the identifier.\nexports.default = (0, _rambda.curry)(function (parent, type, identifier) {\n  var isClass = identifier.split('')[0] === '.';\n\n  var selectionAttempt = parent.select(identifier);\n\n  return selectionAttempt.empty() ? parent.append(type).attr(isClass ? 'class' : 'id', identifier.slice(1)) : selectionAttempt;\n});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = __webpack_require__(4);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (secs) {\n  return (0, _moment2.default)().startOf('day').seconds(secs);\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n//! moment.js\n//! version : 2.18.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    ( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : global.moment = factory();\n})(undefined, function () {\n    'use strict';\n\n    var hookCallback;\n\n    function hooks() {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback(callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        var k;\n        for (k in obj) {\n            // even if its not own property I'd still call it non-empty\n            return false;\n        }\n        return true;\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [],\n            i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty: false,\n            unusedTokens: [],\n            unusedInput: [],\n            overflow: -2,\n            charsLeftOver: 0,\n            nullInput: false,\n            invalidMonth: null,\n            invalidFormat: false,\n            userInvalidated: false,\n            iso: false,\n            parsedDateParts: [],\n            meridiem: null,\n            rfc2822: false,\n            weekdayMismatch: false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function some(fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    var some$1 = some;\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some$1.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) && flags.overflow < 0 && !flags.empty && !flags.invalidMonth && !flags.invalidWeekday && !flags.nullInput && !flags.invalidFormat && !flags.userInvalidated && (!flags.meridiem || flags.meridiem && parsedParts);\n\n            if (m._strict) {\n                isNowValid = isNowValid && flags.charsLeftOver === 0 && flags.unusedTokens.length === 0 && flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            } else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid(flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        } else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment(obj) {\n        return obj instanceof Moment || obj != null && obj._isAMomentObject != null;\n    }\n\n    function absFloor(number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (dontConvert && array1[i] !== array2[i] || !dontConvert && toInt(array1[i]) !== toInt(array2[i])) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false && typeof console !== 'undefined' && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (_typeof(arguments[i]) === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + new Error().stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set(config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + '|' + /\\d{1,2}/.source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig),\n            prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) && !hasOwnProp(childConfig, prop) && isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function keys(obj) {\n            var i,\n                res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var keys$1 = keys;\n\n    var defaultCalendar = {\n        sameDay: '[Today at] LT',\n        nextDay: '[Tomorrow at] LT',\n        nextWeek: 'dddd [at] LT',\n        lastDay: '[Yesterday at] LT',\n        lastWeek: '[Last] dddd [at] LT',\n        sameElse: 'L'\n    };\n\n    function calendar(key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS: 'h:mm:ss A',\n        LT: 'h:mm A',\n        L: 'MM/DD/YYYY',\n        LL: 'MMMM D, YYYY',\n        LLL: 'MMMM D, YYYY h:mm A',\n        LLLL: 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat(key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate() {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal(number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future: 'in %s',\n        past: '%s ago',\n        s: 'a few seconds',\n        ss: '%d seconds',\n        m: 'a minute',\n        mm: '%d minutes',\n        h: 'an hour',\n        hh: '%d hours',\n        d: 'a day',\n        dd: '%d days',\n        M: 'a month',\n        MM: '%d months',\n        y: 'a year',\n        yy: '%d years'\n    };\n\n    function relativeTime(number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return isFunction(output) ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number);\n    }\n\n    function pastFuture(diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias(unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({ unit: u, priority: priorities[u] });\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function makeGetSet(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get(mom, unit) {\n        return mom.isValid() ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1(mom, unit, value) {\n        if (mom.isValid()) {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet(units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n    function stringSet(units, value) {\n        if ((typeof units === 'undefined' ? 'undefined' : _typeof(units)) === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? forceSign ? '+' : '' : '-') + Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken(token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function func() {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens),\n            i,\n            length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '',\n                i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1 = /\\d/; //       0 - 9\n    var match2 = /\\d\\d/; //      00 - 99\n    var match3 = /\\d{3}/; //     000 - 999\n    var match4 = /\\d{4}/; //    0000 - 9999\n    var match6 = /[+-]?\\d{6}/; // -999999 - 999999\n    var match1to2 = /\\d\\d?/; //       0 - 99\n    var match3to4 = /\\d\\d\\d\\d?/; //     999 - 9999\n    var match5to6 = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3 = /\\d{1,3}/; //       0 - 999\n    var match1to4 = /\\d{1,4}/; //       0 - 9999\n    var match1to6 = /[+-]?\\d{1,6}/; // -999999 - 999999\n\n    var matchUnsigned = /\\d+/; //       0 - inf\n    var matchSigned = /[+-]?\\d+/; //    -inf - inf\n\n    var matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken(token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return isStrict && strictRegex ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken(token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken(token, callback) {\n        var i,\n            func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function func(input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken(token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function indexOf(o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    var indexOf$1 = indexOf;\n\n    function daysInMonth(year, month) {\n        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M', match1to2);\n    addRegexToken('MM', match1to2, match2);\n    addRegexToken('MMM', function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths(m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months : this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] : this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort(m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort : this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] : this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf$1.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf$1.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf$1.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf$1.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse(monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth(mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth(value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth() {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ? this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ? this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY', 4], 0, 'year');\n    addFormatToken(0, ['YYYYY', 5], 0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y', matchSigned);\n    addRegexToken('YY', match1to2, match2);\n    addRegexToken('YYYY', match1to4, match4);\n    addRegexToken('YYYYY', match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear() {\n        return isLeapYear(this.year());\n    }\n\n    function createDate(y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function createUTCDate(y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear,\n            resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek,\n            resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w', match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W', match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek(mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow: 0, // Sunday is the first day of the week.\n        doy: 6 // The week that contains Jan 1st is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek() {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear() {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek(input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek(input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d', match1to2);\n    addRegexToken('e', match1to2);\n    addRegexToken('E', match1to2);\n    addRegexToken('dd', function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd', function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd', function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays(m, format) {\n        if (!m) {\n            return isArray(this._weekdays) ? this._weekdays : this._weekdays['standalone'];\n        }\n        return isArray(this._weekdays) ? this._weekdays[m.day()] : this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort(m) {\n        return m ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin(m) {\n        return m ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf$1.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf$1.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf$1.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf$1.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse(weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ? this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n    function computeWeekdaysParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [],\n            shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            minp,\n            shortp,\n            longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem(token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem(isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a', matchMeridiem);\n    addRegexToken('A', matchMeridiem);\n    addRegexToken('H', match1to2);\n    addRegexToken('h', match1to2);\n    addRegexToken('k', match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM(input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return (input + '').toLowerCase().charAt(0) === 'p';\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem(hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour he wants. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    // months\n    // week\n    // weekdays\n    // meridiem\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0,\n            j,\n            next,\n            locale,\n            split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return null;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && typeof module !== 'undefined' && module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                !(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"./locale\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n                // because defineLocale currently also sets the global locale, we\n                // want to undo that for lazy loaded locales\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale(key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            } else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale(name, config) {\n        if (config !== null) {\n            var parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride', 'use moment.updateLocale(localeName, config) to change ' + 'an existing locale. moment.defineLocale(localeName, ' + 'config) should only be used for creating a new locale ' + 'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    if (!localeFamilies[config.parentLocale]) {\n                        localeFamilies[config.parentLocale] = [];\n                    }\n                    localeFamilies[config.parentLocale].push({\n                        name: name,\n                        config: config\n                    });\n                    return null;\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale,\n                parentConfig = baseConfig;\n            // MERGE\n            if (locales[name] != null) {\n                parentConfig = locales[name]._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale(key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys$1(locales);\n    }\n\n    function checkOverflow(m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow = a[MONTH] < 0 || a[MONTH] > 11 ? MONTH : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH]) ? DATE : a[HOUR] < 0 || a[HOUR] > 24 || a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0) ? HOUR : a[MINUTE] < 0 || a[MINUTE] > 59 ? MINUTE : a[SECOND] < 0 || a[SECOND] > 59 ? SECOND : a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND : -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/], ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/], ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/], ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false], ['YYYY-DDD', /\\d{4}-\\d{3}/], ['YYYY-MM', /\\d{4}-\\d\\d/, false], ['YYYYYYMMDD', /[+-]\\d{10}/], ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/], ['GGGG[W]WW', /\\d{4}W\\d{2}/, false], ['YYYYDDD', /\\d{7}/]];\n\n    // iso time formats and regexes\n    var isoTimes = [['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/], ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/], ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/], ['HH:mm', /\\d\\d:\\d\\d/], ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/], ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/], ['HHmmss', /\\d\\d\\d\\d\\d\\d/], ['HHmm', /\\d\\d\\d\\d/], ['HH', /\\d\\d/]];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i,\n            l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime,\n            dateFormat,\n            timeFormat,\n            tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var basicRfcRegex = /^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d?\\d\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(?:\\d\\d)?\\d\\d\\s)(\\d\\d:\\d\\d)(\\:\\d\\d)?(\\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\\d{4}))$/;\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var string, match, dayFormat, dateFormat, timeFormat, tzFormat;\n        var timezones = {\n            ' GMT': ' +0000',\n            ' EDT': ' -0400',\n            ' EST': ' -0500',\n            ' CDT': ' -0500',\n            ' CST': ' -0600',\n            ' MDT': ' -0600',\n            ' MST': ' -0700',\n            ' PDT': ' -0700',\n            ' PST': ' -0800'\n        };\n        var military = 'YXWVUTSRQPONZABCDEFGHIKLM';\n        var timezone, timezoneIndex;\n\n        string = config._i.replace(/\\([^\\)]*\\)|[\\n\\t]/g, ' ') // Remove comments and folding whitespace\n        .replace(/(\\s\\s+)/g, ' ') // Replace multiple-spaces with a single space\n        .replace(/^\\s|\\s$/g, ''); // Remove leading and trailing spaces\n        match = basicRfcRegex.exec(string);\n\n        if (match) {\n            dayFormat = match[1] ? 'ddd' + (match[1].length === 5 ? ', ' : ' ') : '';\n            dateFormat = 'D MMM ' + (match[2].length > 10 ? 'YYYY ' : 'YY ');\n            timeFormat = 'HH:mm' + (match[4] ? ':ss' : '');\n\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            if (match[1]) {\n                // day of week given\n                var momentDate = new Date(match[2]);\n                var momentDay = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][momentDate.getDay()];\n\n                if (match[1].substr(0, 3) !== momentDay) {\n                    getParsingFlags(config).weekdayMismatch = true;\n                    config._isValid = false;\n                    return;\n                }\n            }\n\n            switch (match[5].length) {\n                case 2:\n                    // military\n                    if (timezoneIndex === 0) {\n                        timezone = ' +0000';\n                    } else {\n                        timezoneIndex = military.indexOf(match[5][1].toUpperCase()) - 12;\n                        timezone = (timezoneIndex < 0 ? ' -' : ' +') + ('' + timezoneIndex).replace(/^-?/, '0').match(/..$/)[0] + '00';\n                    }\n                    break;\n                case 4:\n                    // Zone\n                    timezone = timezones[match[5]];\n                    break;\n                default:\n                    // UT or +/-9999\n                    timezone = timezones[' GMT'];\n            }\n            match[5] = timezone;\n            config._i = match.splice(1).join('');\n            tzFormat = ' ZZ';\n            config._f = dayFormat + dateFormat + timeFormat + tzFormat;\n            configFromStringAndFormat(config);\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate('value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' + 'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' + 'discouraged and will be removed in an upcoming major release. Please refer to ' + 'http://momentjs.com/guides/#/warnings/js-date/ for more info.', function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    });\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray(config) {\n        var i,\n            date,\n            input = [],\n            currentDate,\n            yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = config._a[i] == null ? i === 2 ? 1 : 0 : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 && config._a[MINUTE] === 0 && config._a[SECOND] === 0 && config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from begining of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to begining of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i,\n            parsedInput,\n            tokens,\n            token,\n            skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                } else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            } else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 && getParsingFlags(config).bigHour === true && config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n    function meridiemFixWrap(locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig, bestMoment, scoreToBeat, i, currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig(config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || format === undefined && input === '') {\n            return createInvalid({ nullInput: true });\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC(input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if (isObject(input) && isObjectEmpty(input) || isArray(input) && input.length === 0) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/', function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    });\n\n    var prototypeMax = deprecate('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/', function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    });\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function now() {\n        return Date.now ? Date.now() : +new Date();\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(ordering.indexOf(key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds + seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days + weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months + quarters * 3 + years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration(obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset(token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~offset % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z', matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk = matches[matches.length - 1] || [];\n        var parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset(m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset(input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone(input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC(keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal(keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset() {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            } else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset(input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime() {\n        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();\n    }\n\n    function isDaylightSavingTimeShifted() {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() && compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal() {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset() {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc() {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;\n\n    function createDuration(input, key) {\n        var duration = input,\n\n        // matching against regexp is expensive, do it on demand\n        match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: parseIso(match[2], sign),\n                M: parseIso(match[3], sign),\n                w: parseIso(match[4], sign),\n                d: parseIso(match[5], sign),\n                h: parseIso(match[6], sign),\n                m: parseIso(match[7], sign),\n                s: parseIso(match[8], sign)\n            };\n        } else if (duration == null) {\n            // checks for null or undefined\n            duration = {};\n        } else if ((typeof duration === 'undefined' ? 'undefined' : _typeof(duration)) === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso(inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = { milliseconds: 0, months: 0 };\n\n        res.months = other.month() - base.month() + (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +base.clone().add(res.months, 'M');\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return { milliseconds: 0, months: 0 };\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' + 'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val;val = period;period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' : diff < -1 ? 'lastWeek' : diff < 0 ? 'lastDay' : diff < 1 ? 'sameDay' : diff < 2 ? 'nextDay' : diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1(time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone() {\n        return new Moment(this);\n    }\n\n    function isAfter(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween(from, to, units, inclusivity) {\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) && (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n    }\n\n    function isSame(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units || 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter(input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore(input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff(input, units, asFloat) {\n        var that, zoneDelta, delta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        if (units === 'year' || units === 'month' || units === 'quarter') {\n            output = monthDiff(this, that);\n            if (units === 'quarter') {\n                output = output / 3;\n            } else if (units === 'year') {\n                output = output / 12;\n            }\n        } else {\n            delta = this - that;\n            output = units === 'second' ? delta / 1e3 : // 1000\n            units === 'minute' ? delta / 6e4 : // 1000 * 60\n            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n            delta;\n        }\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff(a, b) {\n        // difference in months\n        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\n\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2,\n            adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString() {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString() {\n        if (!this.isValid()) {\n            return null;\n        }\n        var m = this.clone().utc();\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            return this.toDate().toISOString();\n        }\n        return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect() {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format(inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from(time, withoutSuffix) {\n        if (this.isValid() && (isMoment(time) && time.isValid() || createLocal(time).isValid())) {\n            return createDuration({ to: this, from: time }).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow(withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to(time, withoutSuffix) {\n        if (this.isValid() && (isMoment(time) && time.isValid() || createLocal(time).isValid())) {\n            return createDuration({ from: this, to: time }).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow(withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale(key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.', function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    });\n\n    function localeData() {\n        return this._locale;\n    }\n\n    function startOf(units) {\n        units = normalizeUnits(units);\n        // the following switch intentionally omits break keywords\n        // to utilize falling through the cases.\n        switch (units) {\n            case 'year':\n                this.month(0);\n            /* falls through */\n            case 'quarter':\n            case 'month':\n                this.date(1);\n            /* falls through */\n            case 'week':\n            case 'isoWeek':\n            case 'day':\n            case 'date':\n                this.hours(0);\n            /* falls through */\n            case 'hour':\n                this.minutes(0);\n            /* falls through */\n            case 'minute':\n                this.seconds(0);\n            /* falls through */\n            case 'second':\n                this.milliseconds(0);\n        }\n\n        // weeks are a special case\n        if (units === 'week') {\n            this.weekday(0);\n        }\n        if (units === 'isoWeek') {\n            this.isoWeekday(1);\n        }\n\n        // quarters are also special\n        if (units === 'quarter') {\n            this.month(Math.floor(this.month() / 3) * 3);\n        }\n\n        return this;\n    }\n\n    function endOf(units) {\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond') {\n            return this;\n        }\n\n        // 'date' is an alias for 'day', so it should be considered as such.\n        if (units === 'date') {\n            units = 'day';\n        }\n\n        return this.startOf(units).add(1, units === 'isoWeek' ? 'week' : units).subtract(1, 'ms');\n    }\n\n    function valueOf() {\n        return this._d.valueOf() - (this._offset || 0) * 60000;\n    }\n\n    function unix() {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate() {\n        return new Date(this.valueOf());\n    }\n\n    function toArray() {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject() {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON() {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2() {\n        return isValid(this);\n    }\n\n    function parsingFlags() {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt() {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken(token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg', 'weekYear');\n    addWeekYearFormatToken('ggggg', 'weekYear');\n    addWeekYearFormatToken('GGGG', 'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n    // PARSING\n\n    addRegexToken('G', matchSigned);\n    addRegexToken('g', matchSigned);\n    addRegexToken('GG', match1to2, match2);\n    addRegexToken('gg', match1to2, match2);\n    addRegexToken('GGGG', match1to4, match4);\n    addRegexToken('gggg', match1to4, match4);\n    addRegexToken('GGGGG', match1to6, match6);\n    addRegexToken('ggggg', match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear(input) {\n        return getSetWeekYearHelper.call(this, input, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear(input) {\n        return getSetWeekYearHelper.call(this, input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear() {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter(input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIOROITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D', match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ? locale._dayOfMonthOrdinalParse || locale._ordinalParse : locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0], 10);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD', match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear(input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m', match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s', match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S', match1to3, match1);\n    addRegexToken('SS', match1to3, match2);\n    addRegexToken('SSS', match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z', 0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr() {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName() {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add = add;\n    proto.calendar = calendar$1;\n    proto.clone = clone;\n    proto.diff = diff;\n    proto.endOf = endOf;\n    proto.format = format;\n    proto.from = from;\n    proto.fromNow = fromNow;\n    proto.to = to;\n    proto.toNow = toNow;\n    proto.get = stringGet;\n    proto.invalidAt = invalidAt;\n    proto.isAfter = isAfter;\n    proto.isBefore = isBefore;\n    proto.isBetween = isBetween;\n    proto.isSame = isSame;\n    proto.isSameOrAfter = isSameOrAfter;\n    proto.isSameOrBefore = isSameOrBefore;\n    proto.isValid = isValid$2;\n    proto.lang = lang;\n    proto.locale = locale;\n    proto.localeData = localeData;\n    proto.max = prototypeMax;\n    proto.min = prototypeMin;\n    proto.parsingFlags = parsingFlags;\n    proto.set = stringSet;\n    proto.startOf = startOf;\n    proto.subtract = subtract;\n    proto.toArray = toArray;\n    proto.toObject = toObject;\n    proto.toDate = toDate;\n    proto.toISOString = toISOString;\n    proto.inspect = inspect;\n    proto.toJSON = toJSON;\n    proto.toString = toString;\n    proto.unix = unix;\n    proto.valueOf = valueOf;\n    proto.creationData = creationData;\n\n    // Year\n    proto.year = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n\n    // Week Year\n    proto.weekYear = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n\n    // Quarter\n    proto.quarter = proto.quarters = getSetQuarter;\n\n    // Month\n    proto.month = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n\n    // Week\n    proto.week = proto.weeks = getSetWeek;\n    proto.isoWeek = proto.isoWeeks = getSetISOWeek;\n    proto.weeksInYear = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n\n    // Day\n    proto.date = getSetDayOfMonth;\n    proto.day = proto.days = getSetDayOfWeek;\n    proto.weekday = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear = getSetDayOfYear;\n\n    // Hour\n    proto.hour = proto.hours = getSetHour;\n\n    // Minute\n    proto.minute = proto.minutes = getSetMinute;\n\n    // Second\n    proto.second = proto.seconds = getSetSecond;\n\n    // Millisecond\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n\n    // Offset\n    proto.utcOffset = getSetOffset;\n    proto.utc = setOffsetToUTC;\n    proto.local = setOffsetToLocal;\n    proto.parseZone = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST = isDaylightSavingTime;\n    proto.isLocal = isLocal;\n    proto.isUtcOffset = isUtcOffset;\n    proto.isUtc = isUtc;\n    proto.isUTC = isUtc;\n\n    // Timezone\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n\n    // Deprecations\n    proto.dates = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix(input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone() {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat(string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar = calendar;\n    proto$1.longDateFormat = longDateFormat;\n    proto$1.invalidDate = invalidDate;\n    proto$1.ordinal = ordinal;\n    proto$1.preparse = preParsePostFormat;\n    proto$1.postformat = preParsePostFormat;\n    proto$1.relativeTime = relativeTime;\n    proto$1.pastFuture = pastFuture;\n    proto$1.set = set;\n\n    // Month\n    proto$1.months = localeMonths;\n    proto$1.monthsShort = localeMonthsShort;\n    proto$1.monthsParse = localeMonthsParse;\n    proto$1.monthsRegex = monthsRegex;\n    proto$1.monthsShortRegex = monthsShortRegex;\n\n    // Week\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    // Day of Week\n    proto$1.weekdays = localeWeekdays;\n    proto$1.weekdaysMin = localeWeekdaysMin;\n    proto$1.weekdaysShort = localeWeekdaysShort;\n    proto$1.weekdaysParse = localeWeekdaysParse;\n\n    proto$1.weekdaysRegex = weekdaysRegex;\n    proto$1.weekdaysShortRegex = weekdaysShortRegex;\n    proto$1.weekdaysMinRegex = weekdaysMinRegex;\n\n    // Hours\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1(format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl(format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl(localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths(format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort(format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal: function ordinal(number) {\n            var b = number % 10,\n                output = toInt(number % 100 / 10) === 1 ? 'th' : b === 1 ? 'st' : b === 2 ? 'nd' : b === 3 ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs() {\n        var data = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days = mathAbs(this._days);\n        this._months = mathAbs(this._months);\n\n        data.milliseconds = mathAbs(data.milliseconds);\n        data.seconds = mathAbs(data.seconds);\n        data.minutes = mathAbs(data.minutes);\n        data.hours = mathAbs(data.hours);\n        data.months = mathAbs(data.months);\n        data.years = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1(duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days += direction * other._days;\n        duration._months += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1(input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1(input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil(number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble() {\n        var milliseconds = this._milliseconds;\n        var days = this._days;\n        var months = this._months;\n        var data = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!(milliseconds >= 0 && days >= 0 && months >= 0 || milliseconds <= 0 && days <= 0 && months <= 0)) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds = absFloor(milliseconds / 1000);\n        data.seconds = seconds % 60;\n\n        minutes = absFloor(seconds / 60);\n        data.minutes = minutes % 60;\n\n        hours = absFloor(minutes / 60);\n        data.hours = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days = days;\n        data.months = months;\n        data.years = years;\n\n        return this;\n    }\n\n    function daysToMonths(days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays(months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as(units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            return units === 'month' ? months : months / 12;\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week':\n                    return days / 7 + milliseconds / 6048e5;\n                case 'day':\n                    return days + milliseconds / 864e5;\n                case 'hour':\n                    return days * 24 + milliseconds / 36e5;\n                case 'minute':\n                    return days * 1440 + milliseconds / 6e4;\n                case 'second':\n                    return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond':\n                    return Math.floor(days * 864e5) + milliseconds;\n                default:\n                    throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1() {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return this._milliseconds + this._days * 864e5 + this._months % 12 * 2592e6 + toInt(this._months / 12) * 31536e6;\n    }\n\n    function makeAs(alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds = makeAs('s');\n    var asMinutes = makeAs('m');\n    var asHours = makeAs('h');\n    var asDays = makeAs('d');\n    var asWeeks = makeAs('w');\n    var asMonths = makeAs('M');\n    var asYears = makeAs('y');\n\n    function get$2(units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds = makeGetter('seconds');\n    var minutes = makeGetter('minutes');\n    var hours = makeGetter('hours');\n    var days = makeGetter('days');\n    var months = makeGetter('months');\n    var years = makeGetter('years');\n\n    function weeks() {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44, // a few seconds to seconds\n        s: 45, // seconds to minute\n        m: 45, // minutes to hour\n        h: 22, // hours to day\n        d: 26, // days to month\n        M: 11 // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1(posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds = round(duration.as('s'));\n        var minutes = round(duration.as('m'));\n        var hours = round(duration.as('h'));\n        var days = round(duration.as('d'));\n        var months = round(duration.as('M'));\n        var years = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds] || seconds < thresholds.s && ['ss', seconds] || minutes <= 1 && ['m'] || minutes < thresholds.m && ['mm', minutes] || hours <= 1 && ['h'] || hours < thresholds.h && ['hh', hours] || days <= 1 && ['d'] || days < thresholds.d && ['dd', days] || months <= 1 && ['M'] || months < thresholds.M && ['MM', months] || years <= 1 && ['y'] || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding(roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof roundingFunction === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold(threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize(withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days = abs$1(this._days);\n        var months = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes = absFloor(seconds / 60);\n        hours = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds;\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        return (total < 0 ? '-' : '') + 'P' + (Y ? Y + 'Y' : '') + (M ? M + 'M' : '') + (D ? D + 'D' : '') + (h || m || s ? 'T' : '') + (h ? h + 'H' : '') + (m ? m + 'M' : '') + (s ? s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid = isValid$1;\n    proto$2.abs = abs;\n    proto$2.add = add$1;\n    proto$2.subtract = subtract$1;\n    proto$2.as = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds = asSeconds;\n    proto$2.asMinutes = asMinutes;\n    proto$2.asHours = asHours;\n    proto$2.asDays = asDays;\n    proto$2.asWeeks = asWeeks;\n    proto$2.asMonths = asMonths;\n    proto$2.asYears = asYears;\n    proto$2.valueOf = valueOf$1;\n    proto$2._bubble = bubble;\n    proto$2.get = get$2;\n    proto$2.milliseconds = milliseconds;\n    proto$2.seconds = seconds;\n    proto$2.minutes = minutes;\n    proto$2.hours = hours;\n    proto$2.days = days;\n    proto$2.weeks = weeks;\n    proto$2.months = months;\n    proto$2.years = years;\n    proto$2.humanize = humanize;\n    proto$2.toISOString = toISOString$1;\n    proto$2.toString = toISOString$1;\n    proto$2.toJSON = toISOString$1;\n    proto$2.locale = locale;\n    proto$2.localeData = localeData;\n\n    // Deprecations\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.18.1';\n\n    setHookCallback(createLocal);\n\n    hooks.fn = proto;\n    hooks.min = min;\n    hooks.max = max;\n    hooks.now = now;\n    hooks.utc = createUTC;\n    hooks.unix = createUnix;\n    hooks.months = listMonths;\n    hooks.isDate = isDate;\n    hooks.locale = getSetGlobalLocale;\n    hooks.invalid = createInvalid;\n    hooks.duration = createDuration;\n    hooks.isMoment = isMoment;\n    hooks.weekdays = listWeekdays;\n    hooks.parseZone = createInZone;\n    hooks.localeData = getLocale;\n    hooks.isDuration = isDuration;\n    hooks.monthsShort = listMonthsShort;\n    hooks.weekdaysMin = listWeekdaysMin;\n    hooks.defineLocale = defineLocale;\n    hooks.updateLocale = updateLocale;\n    hooks.locales = listLocales;\n    hooks.weekdaysShort = listWeekdaysShort;\n    hooks.normalizeUnits = normalizeUnits;\n    hooks.relativeTimeRounding = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat = getCalendarFormat;\n    hooks.prototype = proto;\n\n    return hooks;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)(module)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _d = __webpack_require__(1);\n\n// takes a supplied date and will disable all brushes except the given dates.\nexports.default = function () {\n  var currentDate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  (0, _d.selectAll)('.brush').each(function () {\n    var brushSel = (0, _d.select)(this);\n    if (!brushSel.classed(currentDate)) {\n      brushSel.select('.selection').style('display', 'none');\n      brushSel.selectAll('.handle').style('display', 'none');\n    }\n  });\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.compose = exports.applyMiddleware = exports.bindActionCreators = exports.combineReducers = exports.createStore = undefined;\n\nvar _createStore = __webpack_require__(8);\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nvar _combineReducers = __webpack_require__(37);\n\nvar _combineReducers2 = _interopRequireDefault(_combineReducers);\n\nvar _bindActionCreators = __webpack_require__(38);\n\nvar _bindActionCreators2 = _interopRequireDefault(_bindActionCreators);\n\nvar _applyMiddleware = __webpack_require__(39);\n\nvar _applyMiddleware2 = _interopRequireDefault(_applyMiddleware);\n\nvar _compose = __webpack_require__(13);\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _warning = __webpack_require__(12);\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (false) {\n  (0, _warning2.default)('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexports.createStore = _createStore2.default;\nexports.combineReducers = _combineReducers2.default;\nexports.bindActionCreators = _bindActionCreators2.default;\nexports.applyMiddleware = _applyMiddleware2.default;\nexports.compose = _compose2.default;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActionTypes = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = createStore;\n\nvar _isPlainObject = __webpack_require__(9);\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _symbolObservable = __webpack_require__(34);\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = exports.ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!(0, _isPlainObject2.default)(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if ((typeof observer === 'undefined' ? 'undefined' : _typeof(observer)) !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[_symbolObservable2.default] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[_symbolObservable2.default] = observable, _ref2;\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _baseGetTag = __webpack_require__(26);\n\nvar _baseGetTag2 = _interopRequireDefault(_baseGetTag);\n\nvar _getPrototype = __webpack_require__(31);\n\nvar _getPrototype2 = _interopRequireDefault(_getPrototype);\n\nvar _isObjectLike = __webpack_require__(33);\n\nvar _isObjectLike2 = _interopRequireDefault(_isObjectLike);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!(0, _isObjectLike2.default)(value) || (0, _baseGetTag2.default)(value) != objectTag) {\n    return false;\n  }\n  var proto = (0, _getPrototype2.default)(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n}\n\nexports.default = isPlainObject;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _root = __webpack_require__(27);\n\nvar _root2 = _interopRequireDefault(_root);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Built-in value references. */\nvar _Symbol = _root2.default.Symbol;\n\nexports.default = _Symbol;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = warning;\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = compose;\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _d = __webpack_require__(1);\n\n// Easy d3 transition maker.\n// giving the transition a name avoids conflicts\nexports.default = function () {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'sliding';\n  var speed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n  return (0, _d.transition)(name).duration(speed);\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _dateToId = __webpack_require__(16);\n\nvar _dateToId2 = _interopRequireDefault(_dateToId);\n\nvar _makeScales = __webpack_require__(17);\n\nvar _makeScales2 = _interopRequireDefault(_makeScales);\n\nvar _subsetData = __webpack_require__(18);\n\nvar _subsetData2 = _interopRequireDefault(_subsetData);\n\nvar _groupData = __webpack_require__(19);\n\nvar _groupData2 = _interopRequireDefault(_groupData);\n\nvar _groupTags = __webpack_require__(21);\n\nvar _groupTags2 = _interopRequireDefault(_groupTags);\n\nvar _makeTagInput = __webpack_require__(22);\n\nvar _makeTagInput2 = _interopRequireDefault(_makeTagInput);\n\nvar _disableBrushes = __webpack_require__(6);\n\nvar _disableBrushes2 = _interopRequireDefault(_disableBrushes);\n\nvar _addTag = __webpack_require__(23);\n\nvar _addTag2 = _interopRequireDefault(_addTag);\n\nvar _deleteTag = __webpack_require__(24);\n\nvar _deleteTag2 = _interopRequireDefault(_deleteTag);\n\nvar _addData = __webpack_require__(25);\n\nvar _addData2 = _interopRequireDefault(_addData);\n\nvar _redux = __webpack_require__(7);\n\nvar _index = __webpack_require__(40);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _TagLegend = __webpack_require__(44);\n\nvar _TagLegend2 = _interopRequireDefault(_TagLegend);\n\nvar _DayChart = __webpack_require__(45);\n\nvar _DayChart2 = _interopRequireDefault(_DayChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* Takes multiple day's worth of data and spins out a day viz for each along with\n*  some tagging logic to go with it.\n*/\nvar VisualizeDays = function VisualizeDays(config) {\n  var domTarget = config.domTarget,\n      _config$yMax = config.yMax,\n      yMax = _config$yMax === undefined ? 200 : _config$yMax,\n      _config$margins = config.margins,\n      margins = _config$margins === undefined ? { left: 40, right: 80, top: 60, bottom: 30 } : _config$margins,\n      _config$fontFamily = config.fontFamily,\n      fontFamily = _config$fontFamily === undefined ? 'optima' : _config$fontFamily,\n      tagMessage = config.tagMessage;\n  var _config$dayHeight = config.dayHeight,\n      dayHeight = _config$dayHeight === undefined ? 200 : _config$dayHeight,\n      _config$width = config.width,\n      width = _config$width === undefined ? d3.select(domTarget).style('width') : _config$width;\n\n  // Set up store;\n\n  var store = (0, _redux.createStore)(_index2.default);\n\n  // // Setting up action emmiters ///////\n  var addTag = (0, _addTag2.default)(store);\n  var deleteTag = (0, _deleteTag2.default)(store);\n  var addData = (0, _addData2.default)(store);\n\n  var sel = d3.select(domTarget);\n\n  // set up function to generate a common set of scales for all the days.\n  var scalesGen = (0, _makeScales2.default)(yMax);\n\n  // set up data subseting function using supplied x and y keys\n  var dataSubsetter = (0, _subsetData2.default)({ xVal: 'time', yVal: 'value' });\n\n  // set up legend with the standard defaults and then call it.\n  var legendGen = (0, _TagLegend2.default)({ sel: sel, fontFamily: fontFamily });\n  legendGen({}, []);\n\n  // // append a hidden div to act as our tagging interface.\n  (0, _makeTagInput2.default)(sel);\n\n  var svg = sel.append('svg').attr('id', 'dayViz');\n\n  // behavior when we get new data from the server.\n  var renderViz = function renderViz(data, tags, tagColors) {\n    var groupedData = (0, _groupData2.default)(data);\n    var groupedWithTags = (0, _groupTags2.default)(groupedData, tags);\n    var cWidth = width - margins.left - margins.right;\n    var cHeight = dayHeight - margins.top - margins.bottom;\n\n    legendGen(tagColors, tags);\n\n    svg.style('height', groupedWithTags.length * dayHeight).style('width', width);\n\n    var dayChart = (0, _DayChart2.default)({\n      dataSubsetter: dataSubsetter,\n      scalesGen: scalesGen,\n      height: cHeight,\n      width: cWidth,\n      addTag: addTag,\n      deleteTag: deleteTag,\n      tagColors: tagColors\n    });\n\n    var days = svg.selectAll('.dayViz').data(groupedWithTags, function (d) {\n      return d.date;\n    });\n\n    // ENTER new days\n    days.enter().append('g').attr('class', 'dayViz').attr('id', function (d) {\n      return (0, _dateToId2.default)(d.date);\n    }).attr('width', width).attr('height', dayHeight).merge(days) // merge with the updating elements too.\n    .attr('transform', function (d, i) {\n      return 'translate(' + margins.left + ', ' + (margins.top + i * dayHeight) + ')';\n    }).call(function (selection) {\n      selection.each(function (d, i) {\n        // generate chart here; `d` is the data and `this` is the element\n        dayChart(d, this);\n      });\n    });\n\n    // Remove days no longer present\n    days.exit().remove();\n  };\n\n  // when new data is sent to the vis send action to redux store to add it.\n  var newData = function newData(data) {\n    addData(data);\n  };\n\n  var rerender = function rerender() {\n    var resize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    (0, _disableBrushes2.default)(''); // kill and brushes that may be open.\n\n    var _store$getState = store.getState(),\n        data = _store$getState.data,\n        tags = _store$getState.tags,\n        tagColors = _store$getState.tagColors;\n\n    if (resize) renderViz(data, [], tagColors);\n    // rerender viz with new tags or data\n    renderViz(data, tags, tagColors);\n    // send tags to shiny \n    tagMessage(tags);\n  };\n\n  var resize = function resize(newWidth) {\n    var newHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : dayHeight;\n\n    width = newWidth;\n    dayHeight = newHeight;\n    rerender(true);\n  };\n\n  store.subscribe(function () {\n    rerender();\n  });\n\n  return {\n    newData: newData,\n    resize: resize\n  };\n};\n\n// actions and reducers\n\n\nmodule.exports = VisualizeDays;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// The default -s in the dates cant be used as ids in html.\n// converts a date string to an id for use with managing divs.\nmodule.exports = function (date) {\n  return 'date_' + date.replace(/-/g, '_');\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _rambda = __webpack_require__(0);\n\nvar _d = __webpack_require__(1);\n\nvar _secondsToTime = __webpack_require__(3);\n\nvar _secondsToTime2 = _interopRequireDefault(_secondsToTime);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// returns a scale for x y and to convert to seconds from screen position\n// as well as returning a function for recomputing the size dependent components.\n// the height and width are post margins convention.\nvar makeScales = (0, _rambda.curry)(function (yMax, height, width) {\n  var x = (0, _d.scaleTime)().domain([(0, _secondsToTime2.default)(0), (0, _secondsToTime2.default)(86400)]).range([0, width]);\n\n  var y = (0, _d.scaleLinear)().domain([0, yMax]).range([height, 0]);\n\n  var toSeconds = (0, _d.scaleLinear)().range([0, 86400]).domain([0, width]);\n\n  return {\n    x: x,\n    y: y,\n    toSeconds: toSeconds\n  };\n});\n\nmodule.exports = makeScales;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rambda = __webpack_require__(0);\n\nvar _secondsToTime = __webpack_require__(3);\n\nvar _secondsToTime2 = _interopRequireDefault(_secondsToTime);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Takes a setup object first that shouldnt change througout the whole app lifecycle. \n// It defaults, perhaps unwisely, to transform the x values from a seconds in the day \n// to a javascript time. This is provided as an option so it can be disabled for testing. \nexports.default = (0, _rambda.curry)(function (_ref, type, data) {\n  var _ref$xVal = _ref.xVal,\n      xVal = _ref$xVal === undefined ? 'time' : _ref$xVal,\n      _ref$yVal = _ref.yVal,\n      yVal = _ref$yVal === undefined ? 'value' : _ref$yVal,\n      _ref$xTransform = _ref.xTransform,\n      xTransform = _ref$xTransform === undefined ? _secondsToTime2.default : _ref$xTransform;\n  return data.filter(function (d) {\n    return d.type == type;\n  }).map(function (d) {\n    return {\n      x: xTransform(+d[xVal]),\n      y: +d[yVal]\n    };\n  });\n});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringToDate = __webpack_require__(20);\n\nvar _stringToDate2 = _interopRequireDefault(_stringToDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (data) {\n  var grouped = data.reduce(function (grouped, current) {\n    // check if current date is already in key\n    var dateSeen = grouped.hasOwnProperty(current.date);\n    // if this is the first time seeing this date, initialize an empty array to push to.\n    if (!dateSeen) {\n      grouped[current.date] = [];\n    }\n\n    // send the whole object through to the outcome.\n    grouped[current.date].push(current);\n\n    return grouped;\n  }, {});\n\n  return Object.keys(grouped).map(function (day) {\n    return {\n      date: day,\n      data: grouped[day]\n    };\n  }).sort(function (a, b) {\n    return (0, _stringToDate2.default)(b.date) - (0, _stringToDate2.default)(a.date);\n  });\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = __webpack_require__(4);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (d) {\n  return (0, _moment2.default)(d).toDate();\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (groupedDays, tags) {\n  return groupedDays.map(function (date) {\n    var dayTags = tags.filter(function (tag) {\n      return tag.date == date.date;\n    });\n    return {\n      date: date.date,\n      data: date.data,\n      tags: dayTags\n    };\n  });\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (sel) {\n  var edgeRoundness = '8px';\n\n  // Main container div for all selection.\n  var tagBody = sel.append('div').attr('id', 'tagInput').style('position', 'absolute').style('text-align', 'center').style('padding', '8px 8px').style('border-radius', edgeRoundness).style('background-color', '#1f78b4').style('display', 'none');\n\n  // displayed text for tag (e.g. between time and b)\n  tagBody.style('cursor', 'default').style('text-shadow', 'black 0px 0px 20px').style('color', 'white').append('span');\n\n  var tagForm = tagBody.append('form');\n\n  // Wrap tagging in a form element to allow for enter to be used to submit a tag.\n  // Text input for tag label\n  tagForm.append('input').attr('type', 'text').attr('name', 'activity_tag').style('margin-top', '4px').style('margin-right', '4px').style('background-image', 'linear-gradient(#b5b5b5, #858385)').style('border-radius', edgeRoundness).style('border', '1px solid #464646').style('padding', '1px 4px').style('text-shadow', 'black 0px 0px 20px');\n\n  // add submit button\n  tagForm.append('input').attr('type', 'submit').attr('value', 'tag').style('margin-left', '3px').style('border', '0').style('background-image', 'linear-gradient(#b5b5b5, #858385)').style('border-radius', edgeRoundness);\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rambda = __webpack_require__(0);\n\n// behavior once a tag is made.\nexports.default = (0, _rambda.curry)(function (store, tag) {\n  store.dispatch({ type: 'ADD_TAG', tag: tag });\n});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rambda = __webpack_require__(0);\n\n// behavior once a tag is made.\nexports.default = (0, _rambda.curry)(function (store, tag) {\n  store.dispatch({ type: 'DELETE_TAG', tag: tag });\n});\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rambda = __webpack_require__(0);\n\n// emits action to add data to redux store. \nexports.default = (0, _rambda.curry)(function (store, data) {\n  store.dispatch({ type: 'ADD_DATA', data: data });\n});\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Symbol2 = __webpack_require__(10);\n\nvar _Symbol3 = _interopRequireDefault(_Symbol2);\n\nvar _getRawTag = __webpack_require__(29);\n\nvar _getRawTag2 = _interopRequireDefault(_getRawTag);\n\nvar _objectToString = __webpack_require__(30);\n\nvar _objectToString2 = _interopRequireDefault(_objectToString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol3.default ? _Symbol3.default.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value) ? (0, _getRawTag2.default)(value) : (0, _objectToString2.default)(value);\n}\n\nexports.default = baseGetTag;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _freeGlobal = __webpack_require__(28);\n\nvar _freeGlobal2 = _interopRequireDefault(_freeGlobal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Detect free variable `self`. */\nvar freeSelf = (typeof self === 'undefined' ? 'undefined' : _typeof(self)) == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal2.default || freeSelf || Function('return this')();\n\nexports.default = root;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = (typeof global === 'undefined' ? 'undefined' : _typeof(global)) == 'object' && global && global.Object === Object && global;\n\nexports.default = freeGlobal;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(11)))\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Symbol2 = __webpack_require__(10);\n\nvar _Symbol3 = _interopRequireDefault(_Symbol2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol3.default ? _Symbol3.default.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexports.default = getRawTag;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexports.default = objectToString;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _overArg = __webpack_require__(32);\n\nvar _overArg2 = _interopRequireDefault(_overArg);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Built-in value references. */\nvar getPrototype = (0, _overArg2.default)(Object.getPrototypeOf, Object);\n\nexports.default = getPrototype;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\n\nexports.default = overArg;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object';\n}\n\nexports.default = isObjectLike;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(35);\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, module) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = __webpack_require__(36);\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { 'default': obj };\n}\n\nvar root; /* global window */\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (true) {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(11), __webpack_require__(5)(module)))\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = combineReducers;\n\nvar _createStore = __webpack_require__(8);\n\nvar _isPlainObject = __webpack_require__(9);\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _warning = __webpack_require__(12);\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === _createStore.ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!(0, _isPlainObject2.default)(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: _createStore.ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + _createStore.ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {\n      if (typeof reducers[key] === 'undefined') {\n        (0, _warning2.default)('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (false) {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        (0, _warning2.default)(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = bindActionCreators;\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if ((typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = applyMiddleware;\n\nvar _compose = __webpack_require__(13);\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = _compose2.default.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _redux = __webpack_require__(7);\n\nvar _dataReducer = __webpack_require__(41);\n\nvar _dataReducer2 = _interopRequireDefault(_dataReducer);\n\nvar _tagReducer = __webpack_require__(42);\n\nvar _tagReducer2 = _interopRequireDefault(_tagReducer);\n\nvar _tagColorsReducer = __webpack_require__(43);\n\nvar _tagColorsReducer2 = _interopRequireDefault(_tagColorsReducer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mainReducer = (0, _redux.combineReducers)({\n  data: _dataReducer2.default,\n  tags: _tagReducer2.default,\n  tagColors: _tagColorsReducer2.default\n});\n\nmodule.exports = mainReducer;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar dataReducer = function dataReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case 'ADD_DATA':\n      return [].concat(_toConsumableArray(action.data));\n    default:\n      return state;\n  }\n};\n\nmodule.exports = dataReducer;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar tagReducer = function tagReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case 'ADD_TAG':\n      return [].concat(_toConsumableArray(state), [action.tag]);\n    case 'DELETE_TAG':\n      return state.filter(function (t) {\n        return t !== action.tag;\n      });\n    default:\n      return state;\n  }\n};\n\nmodule.exports = tagReducer;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _rambda = __webpack_require__(0);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// pallet from colorbrewer.\nvar tagColors = ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'];\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments[1];\n\n  switch (action.type) {\n    case 'ADD_TAG':\n      // get list of unique tags\n      var tag = action.tag.tag;\n\n      var uniqueTags = Object.keys(state);\n      var oldTag = uniqueTags.includes(tag);\n      // debugger;\n      return !oldTag ? _extends({}, state, _defineProperty({}, tag, tagColors[uniqueTags.length % tagColors.length])) : state;\n    default:\n      return state;\n  }\n};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _rambda = __webpack_require__(0);\n\nvar _transition = __webpack_require__(14);\n\nvar _transition2 = _interopRequireDefault(_transition);\n\nvar _trySelect = __webpack_require__(2);\n\nvar _trySelect2 = _interopRequireDefault(_trySelect);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Creates a legend that updates with the currently present tags.\n * Tags come in form of array of objects [{tag, start, end, color}]\n * Tag colors is object keyed by tag label {running: 'green', ...} etc. \n*/\n\nvar TagLegend = (0, _rambda.curry)(function (config, tagColors, tags) {\n  var sel = config.sel,\n      _config$fontFamily = config.fontFamily,\n      fontFamily = _config$fontFamily === undefined ? 'optima' : _config$fontFamily,\n      _config$transitionSpe = config.transitionSpeed,\n      transitionSpeed = _config$transitionSpe === undefined ? 500 : _config$transitionSpe;\n\n  // check if we already have a legend here.\n\n  var noLegend = sel.select('#tagLegend').empty();\n\n  var tryDiv = (0, _trySelect2.default)(sel, 'div');\n\n  var el = tryDiv('#tagLegend').style('font-family', fontFamily);\n\n  // a few setup things that only need to be run if this is the first time the legend is being drawn.\n  if (noLegend) {\n    el // Header\n    .append('div').attr('class', 'legendHeader').style('padding', '10px').append('h2').text('Current Tags:');\n  }\n\n  // set up flex box environment for parent div\n  var legendHolder = (0, _trySelect2.default)(el, 'div', '.legend_holder').style('display', 'flex').style('flex-wrap', 'wrap');\n\n  // Sort through tags and find which ones are shown and their colors.\n  var currentTags = Object.keys(tagColors).map(function (tag) {\n    return {\n      tag: tag,\n      color: tagColors[tag],\n      numTimesSeen: tags.filter(function (t) {\n        return t.tag === tag;\n      }).length\n    };\n  }).filter(function (tag) {\n    return tag.numTimesSeen > 0;\n  });\n\n  // JOIN\n  var tagDivs = legendHolder.selectAll('.tagColor').data(currentTags, function (d) {\n    return d.tag;\n  });\n\n  // EXIT\n  tagDivs.exit().transition((0, _transition2.default)('exiting', transitionSpeed)).style('opacity', 0).remove();\n\n  // UPDATE\n  tagDivs.select('.times_seen').text(function (d) {\n    return '# times: ' + d.numTimesSeen;\n  });\n\n  // ENTER\n  var enterDiv = tagDivs.enter().append('div').attr('class', 'tagColor').style('width', '100px').style('margin', '5px').style('padding', '3px').style('border-radius', '10px').style('text-align', 'center');\n\n  enterDiv.append('span').style('text-shadow', 'black 0px 0px 10px').style('color', 'white').style('font-weight', 'bold').text(function (d) {\n    return d.tag;\n  });\n\n  enterDiv.append('br');\n\n  enterDiv.append('span').attr('class', 'times_seen').style('text-shadow', 'black 0px 0px 10px').style('color', 'white').text(function (d) {\n    return '# times: ' + d.numTimesSeen;\n  });\n\n  enterDiv.transition((0, _transition2.default)('entering', transitionSpeed)).style('background-color', function (d) {\n    return d.color;\n  });\n});\nmodule.exports = TagLegend;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rambda = __webpack_require__(0);\n\nvar _d = __webpack_require__(1);\n\nvar d3 = _interopRequireWildcard(_d);\n\nvar _trySelect = __webpack_require__(2);\n\nvar _trySelect2 = _interopRequireDefault(_trySelect);\n\nvar _drawAxes = __webpack_require__(46);\n\nvar _drawAxes2 = _interopRequireDefault(_drawAxes);\n\nvar _writeDate = __webpack_require__(47);\n\nvar _writeDate2 = _interopRequireDefault(_writeDate);\n\nvar _drawLine = __webpack_require__(49);\n\nvar _drawLine2 = _interopRequireDefault(_drawLine);\n\nvar _drawTags = __webpack_require__(50);\n\nvar _drawTags2 = _interopRequireDefault(_drawTags);\n\nvar _lineGenerators = __webpack_require__(51);\n\nvar _disableBrushes = __webpack_require__(6);\n\nvar _disableBrushes2 = _interopRequireDefault(_disableBrushes);\n\nvar _editTagInput = __webpack_require__(52);\n\nvar _editTagInput2 = _interopRequireDefault(_editTagInput);\n\nvar _resetBrushes = __webpack_require__(54);\n\nvar _resetBrushes2 = _interopRequireDefault(_resetBrushes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar hideInput = function hideInput() {\n  return d3.select('#tagInput').style('display', 'none');\n};\n\n// import addTag from './actions/addTag';\n\n/* Takes a bunch of self explanatory variables, but mostly the data as a json file and the date \n * @param {Array} data - This is an array of objects with keys \"hr\", \"steps\", and \"time\".\n * @param {String} date - String of the date in MM-DD-YYYY format. \n * @param {Object} scales - Object housing three d3 scales: x, y, and toSeconds\n * @param {Object} margins - Follows the standard d3 margin conventions. Gives padding on each side of chart. \n * @param {Number} [height = 200] - height isn pixels of the days plot\n * @param {Number} [width = 1000] - Width in pixels of days plot\n * @param {Number} [lineThickness = 1] - Plot line thickness. \n * @param {String} [hrColor = '#8da0cb'] - Hex code for heartrate line color\n * @param {String} [stepsColor = '#66c2a5'] - Hex code for steps bar color.\n * @param {String} [fontFamily = 'avenir'] - Valid css name for a font for axes. \n*/\nexports.default = (0, _rambda.curry)(function (config, _ref, selection) {\n  var date = _ref.date,\n      data = _ref.data,\n      tags = _ref.tags;\n  var dataSubsetter = config.dataSubsetter,\n      scalesGen = config.scalesGen,\n      height = config.height,\n      width = config.width,\n      addTag = config.addTag,\n      deleteTag = config.deleteTag,\n      tagColors = config.tagColors,\n      _config$lineThickness = config.lineThickness,\n      lineThickness = _config$lineThickness === undefined ? 1.25 : _config$lineThickness,\n      _config$hrColor = config.hrColor,\n      hrColor = _config$hrColor === undefined ? '#d95f02' : _config$hrColor,\n      _config$stepsColor = config.stepsColor,\n      stepsColor = _config$stepsColor === undefined ? '#1b9e77' : _config$stepsColor;\n\n\n  var svg = d3.select(selection);\n  var scales = scalesGen(height, width);\n  var hrData = dataSubsetter('heart rate', data);\n  var stepsData = dataSubsetter('steps', data);\n\n  var tryG = (0, _trySelect2.default)(svg, 'g');\n\n  var hrG = tryG('.hr_plot');\n  var stepsG = tryG('.steps_plot');\n\n  (0, _drawAxes2.default)({ svg: svg, scales: scales, height: height });\n  (0, _writeDate2.default)({ width: width, height: height }, svg, date);\n\n  // HR line\n  (0, _drawLine2.default)({\n    gEl: hrG,\n    lineGen: (0, _lineGenerators.lineGen)(scales),\n    lineData: hrData\n  }).style('stroke', hrColor).style('stroke-width', lineThickness).style('fill', 'none');\n\n  // steps line\n  (0, _drawLine2.default)({\n    gEl: stepsG,\n    lineGen: (0, _lineGenerators.areaGen)(scales),\n    lineData: stepsData\n  }).style('fill', stepsColor).style('fill-opacity', 0.5);\n\n  var onBrush = function onBrush() {\n    try {\n      var rangeInSeconds = d3.event.selection.map(function (pos) {\n        return scales.toSeconds(pos);\n      });\n\n      // kill all the brushes on other dates\n      (0, _disableBrushes2.default)(date);\n\n      // move input\n      moveInput(rangeInSeconds, d3.event.sourceEvent);\n    } catch (e) {\n      hideInput();\n    }\n  };\n\n  var brushG = svg.append('g').attr('class', 'brush ' + date);\n  var brush = d3.brushX().extent([[0, 0], [width, height]]).on('start brush end', onBrush);\n\n  var brushReset = (0, _resetBrushes2.default)(brushG, brush);\n\n  brushG.call(brush);\n\n  var onTagDelete = function onTagDelete(tag) {\n    deleteTag(tag);\n    hideInput();\n    brushReset();\n  };\n\n  (0, _drawTags2.default)({ svg: svg, scales: scales, height: height, onTagDelete: onTagDelete, tagColors: tagColors }, tags);\n\n  var moveInput = (0, _editTagInput2.default)({\n    type: 'move',\n    date: date,\n    addTag: addTag,\n    hideInput: hideInput,\n    brushReset: brushReset\n  });\n});\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _trySelect = __webpack_require__(2);\n\nvar _trySelect2 = _interopRequireDefault(_trySelect);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (_ref) {\n  var svg = _ref.svg,\n      scales = _ref.scales,\n      height = _ref.height;\n\n  // Add the axes holders\n  var tryG = (0, _trySelect2.default)(svg, 'g');\n\n  // draw x-axis\n  tryG('.x_axis').attr('transform', 'translate(0,0)').attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(scales.x).tickFormat(d3.timeFormat('%I %p')));\n\n  // draw y-axis\n  tryG('.y_axis').call(d3.axisLeft(scales.y).ticks(5));\n};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rambda = __webpack_require__(0);\n\nvar _trySelect = __webpack_require__(2);\n\nvar _trySelect2 = _interopRequireDefault(_trySelect);\n\nvar _toMonthDay = __webpack_require__(48);\n\nvar _toMonthDay2 = _interopRequireDefault(_toMonthDay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _rambda.curry)(function (_ref, svg, date) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  var tryText = (0, _trySelect2.default)(svg, 'text');\n\n  tryText('.current_date').attr('text-anchor', 'middle').attr('font-size', 20).text((0, _toMonthDay2.default)(date)).attr('transform', 'translate(' + (width + 20) + ' , ' + height / 2.05 + ') rotate(90)');\n});\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = __webpack_require__(4);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (date) {\n  return (0, _moment2.default)(date).format('ddd MM/DD');\n};\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var gEl = _ref.gEl,\n      lineGen = _ref.lineGen,\n      lineData = _ref.lineData;\n\n  // grab the correct g element\n  var pathEl = gEl.selectAll('path').data([lineData], function (d) {\n    return d;\n  });\n\n  // Update existing line\n  pathEl.attr('d', lineGen);\n\n  // ENTER new line\n  pathEl.enter().append('path').attr('d', lineGen);\n\n  // Exit old\n  pathEl.exit().remove();\n\n  return gEl.selectAll('path');\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _trySelect = __webpack_require__(2);\n\nvar _trySelect2 = _interopRequireDefault(_trySelect);\n\nvar _secondsToTime = __webpack_require__(3);\n\nvar _secondsToTime2 = _interopRequireDefault(_secondsToTime);\n\nvar _transition = __webpack_require__(14);\n\nvar _transition2 = _interopRequireDefault(_transition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar barThickness = 20;\n// const {trans} = require('./chartHelpers');\n\n/* Is supplied with a svg object and some config options and then exposes \n *  a way of plotting tagged events when supplied with an array of tags. \n */\n\nexports.default = function (config, tags) {\n  var svg = config.svg,\n      scales = config.scales,\n      height = config.height,\n      onTagDelete = config.onTagDelete,\n      tagColors = config.tagColors;\n\n\n  var secToPlot = function secToPlot(secs) {\n    return scales.x((0, _secondsToTime2.default)(secs));\n  };\n\n  var tagBars = (0, _trySelect2.default)(svg, 'g', '.tagsContainer').selectAll('rect').data(tags, function (t) {\n    return t.start.toString() + '-' + t.date;\n  });\n\n  // Update bars\n  // tagBars\n  //   .attr('transform', `translate(0,0)`)\n  //   .attr('transform', (d) => `translate(${secToPlot(d.start)},0)`);\n\n  // Add new bars\n  tagBars.enter().append('g').attr('class', 'tag').attr('transform', function (d) {\n    return 'translate(' + secToPlot(d.start) + ',0)';\n  }).on('mouseenter', onMouseover).on('mouseleave', onMouseout).each(function (d) {\n    d3.select(this).append('rect').attr('class', 'tag_bar').style('fill-opacity', '0.5').attr('y', height).attr('rx', barThickness * 0.5).attr('ry', barThickness * 0.5).attr('height', barThickness).attr('width', 1e-6).style('fill', function (d) {\n      return tagColors[d.tag];\n    }).transition((0, _transition2.default)('barEnter', 500)).attr('width', function (d) {\n      return secToPlot(d.end) - secToPlot(d.start);\n    });\n  });\n\n  // //Remove days no longer present\n  tagBars.exit().remove();\n\n  //   /** Behavior when individual tag is moused over */\n  function onMouseover(selectedTag) {\n    var buttonRadius = barThickness * 0.5;\n\n    // append delete button\n    var deleteButton = d3.select(this).append('g').attr('class', 'delete_button').attr('transform', function (d) {\n      return 'translate(' + buttonRadius + ',' + (height + buttonRadius) + ')';\n    }).attr('opacity', 1e-6).on('click', function (d) {\n      d3.select(this).remove(); // get rid of button\n      onTagDelete(d); // do other tag deletion logic\n    });\n\n    var deleteCircle = deleteButton.append('circle').attr('r', buttonRadius).attr('fill', 'grey');\n\n    var deleteX = deleteButton.append('text').attr('text-anchor', 'middle').style('stroke', '#f0f0f0').attr('dominant-baseline', 'central').text('X');\n\n    deleteButton.transition((0, _transition2.default)('expanding')).attr('opacity', 1);\n  }\n\n  /** Behavior when individual tag is moused off */\n  function onMouseout(selectedTag) {\n    d3.select(this).select('.delete_button').transition((0, _transition2.default)('expanding')).attr('opacity', 1e-6).remove();\n  }\n};\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar lineGen = function lineGen(scales) {\n  return (0, _d.line)().x(function (d) {\n    return scales.x(d.x);\n  }).y(function (d) {\n    return scales.y(d.y);\n  });\n};\n\nvar areaGen = function areaGen(scales) {\n  return (0, _d.area)().curve(d3.curveStepAfter).x(function (d) {\n    return scales.x(d.x);\n  }).y(function (d) {\n    return scales.y(0);\n  }).y1(function (d) {\n    return scales.y(d.y);\n  });\n};\n\nmodule.exports = { lineGen: lineGen, areaGen: areaGen };\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _rambda = __webpack_require__(0);\n\nvar _getTimeOfDay = __webpack_require__(53);\n\nvar _getTimeOfDay2 = _interopRequireDefault(_getTimeOfDay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _rambda.curry)(function (_ref, _ref2, _ref3) {\n  var type = _ref.type,\n      date = _ref.date,\n      addTag = _ref.addTag,\n      hideInput = _ref.hideInput,\n      brushReset = _ref.brushReset;\n\n  var _ref4 = _slicedToArray(_ref2, 2),\n      start = _ref4[0],\n      end = _ref4[1];\n\n  var pageX = _ref3.pageX,\n      pageY = _ref3.pageY;\n\n  var tagBody = d3.select('#tagInput');\n\n  // Main container div for all selection.\n  if (type === 'hide') {\n    tagBody.style('display', 'none');\n    return;\n  }\n\n  tagBody.style('display', 'block').style('left', pageX + 'px').style('top', pageY - 28 + 'px').select('span').text('Between ' + (0, _getTimeOfDay2.default)(start) + ' and ' + (0, _getTimeOfDay2.default)(end) + ':');\n\n  // deal with form submit behavior\n  tagBody.select('form').on('submit', function () {\n    d3.event.preventDefault();\n    var tag = tagBody.select('form').select('input')._groups[0][0].value;\n\n    // check to make sure the user put in some form of a tag.\n    var tagEmpty = tag === '';\n    if (tagEmpty) {\n      alert('Please enter a tag label.');\n      return;\n    }\n\n    var tagMsg = { tag: tag, start: start, end: end, date: date };\n\n    addTag(tagMsg);\n    hideInput();\n    brushReset();\n  });\n});\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n// input is an number representing seconds into a given day, \n// output is the time in hours mins. \nexports.default = function (secs) {\n  var hour = Math.floor(secs / 3600);\n  var amPm = hour < 12 ? 'AM' : 'PM';\n  var hour12 = hour <= 12 ? hour : hour - 12;\n  var mins = Math.floor((secs - hour * 3600) / 60);\n  var minPad = ('0' + mins).substr(mins.toString().length - 1);\n  return hour12 + ':' + minPad + amPm;\n};\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (selection, brush) {\n  return function () {\n    return selection.call(brush.move, null);\n  };\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// demo/tagViz.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 322e8928952ec4bc4fca","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 61);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction curry(fn) {\n  return function (x, y) {\n    if (y === undefined) {\n      return function (yHolder) {\n        return fn(x, yHolder);\n      };\n    }\n    return fn(x, y);\n  };\n}\n\nmodule.exports = curry;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction type(a) {\n  if (a === null) {\n\n    return \"Null\";\n  } else if (Array.isArray(a)) {\n\n    return \"Array\";\n  } else if (typeof a === \"boolean\") {\n\n    return \"Boolean\";\n  } else if (typeof a === \"number\") {\n\n    return \"Number\";\n  } else if (typeof a === \"string\") {\n\n    return \"String\";\n  } else if (a === undefined) {\n\n    return \"Undefined\";\n  } else if (a instanceof RegExp) {\n\n    return \"RegExp\";\n  }\n\n  var asStr = a.toString();\n\n  if (asStr.startsWith(\"async\")) {\n    return \"Async\";\n  } else if (asStr === \"[object Promise]\") {\n    return \"Promise\";\n  } else if (asStr.includes(\"function\") || asStr.includes(\"=>\")) {\n    return \"Function\";\n  }\n\n  return \"Object\";\n}\n\nmodule.exports = type;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction curryThree(fn) {\n  return function (x, y, z) {\n    if (y === undefined) {\n      var helper = function helper(yHolder, zHolder) {\n        return fn(x, yHolder, zHolder);\n      };\n      return curry(helper);\n    } else if (z === undefined) {\n      return function (zHolder) {\n        return fn(x, y, zHolder);\n      };\n    }\n    return fn(x, y, z);\n  };\n}\n\nmodule.exports = curryThree;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction baseSlice(array, start, end) {\n  var index = -1;\n  var length = array.length;\n\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : end - start >>> 0;\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n\n  return result;\n}\n\nmodule.exports = baseSlice;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction any(fn, arr) {\n\n  var counter = 0;\n  while (counter < arr.length) {\n    if (fn(arr[counter])) {\n      return true;\n    }\n    counter++;\n  }\n\n  return false;\n}\n\nmodule.exports = curry(any);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar equals = __webpack_require__(7);\nvar curry = __webpack_require__(0);\n\nfunction contains(val, arr) {\n  var index = -1;\n  var flag = false;\n  while (++index < arr.length && !flag) {\n    if (equals(arr[index], val)) {\n      flag = true;\n    }\n  }\n\n  return flag;\n}\n\nmodule.exports = curry(contains);\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction drop(dropNumber, a) {\n  return a.slice(dropNumber);\n}\n\nmodule.exports = curry(drop);\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\nvar type = __webpack_require__(1);\n\nfunction equals(a, b) {\n  if (a === b) {\n\n    return true;\n  }\n  var aType = type(a);\n  if (aType !== type(b)) {\n    return false;\n  }\n\n  if (aType === \"Array\") {\n    var aClone = Array.from(a);\n    var bClone = Array.from(b);\n\n    return aClone.sort().toString() === bClone.sort().toString();\n  }\n\n  if (aType === \"Object\") {\n    var aKeys = Object.keys(a);\n    if (aKeys.length === Object.keys(b).length) {\n      if (aKeys.length === 0) {\n        return true;\n      }\n      var flag = true;\n      aKeys.map(function (val) {\n        if (flag) {\n          var aValType = type(a[val]);\n          var bValType = type(b[val]);\n          if (aValType === bValType) {\n            if (aValType === \"Object\") {\n              if (Object.keys(a[val]).length === Object.keys(b[val]).length) {\n                if (Object.keys(a[val]).length !== 0) {\n                  if (!equals(a[val], b[val])) {\n                    flag = false;\n                  }\n                }\n              } else {\n                flag = false;\n              }\n            } else if (!equals(a[val], b[val])) {\n              flag = false;\n            }\n          } else {\n            flag = false;\n          }\n        }\n      });\n\n      return flag;\n    }\n  }\n\n  return false;\n}\n\nmodule.exports = curry(equals);\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction filter(fn, arr) {\n  var index = -1;\n  var resIndex = 0;\n  var len = arr.length;\n  var willReturn = [];\n\n  while (++index < len) {\n    var value = arr[index];\n    if (fn(value)) {\n      willReturn[resIndex++] = value;\n    }\n  }\n\n  return willReturn;\n}\n\nmodule.exports = curry(filter);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction map(fn, arr) {\n  var index = -1;\n  var length = arr.length;\n  var willReturn = Array(length);\n\n  while (++index < length) {\n    willReturn[index] = fn(arr[index]);\n  }\n\n  return willReturn;\n}\n\nmodule.exports = curry(map);\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction merge(obj, newProps) {\n  return Object.assign({}, obj, newProps);\n}\n\nmodule.exports = curry(merge);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction addIndex(functor) {\n  return function (fn) {\n    var cnt = 0;\n    var newFn = function newFn() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return fn.apply(null, [].concat(args, [cnt++]));\n    };\n\n    for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    return functor.apply(null, [newFn].concat(rest));\n  };\n}\n\nmodule.exports = addIndex;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curryThree = __webpack_require__(2);\n\nfunction adjust(fn, index, arr) {\n  var clone = arr.concat();\n\n  return clone.map(function (val, key) {\n    if (key === index) {\n      return fn(arr[index]);\n    }\n\n    return val;\n  });\n}\n\nmodule.exports = curryThree(adjust);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar filter = __webpack_require__(8);\n\nfunction all(condition, arr) {\n  if (arguments.length === 1) {\n    return function (arrHolder) {\n      return all(condition, arrHolder);\n    };\n  }\n\n  return filter(condition, arr).length === arr.length;\n}\n\nmodule.exports = all;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar any = __webpack_require__(4);\n\nfunction allPass(conditions, x) {\n  if (arguments.length === 1) {\n    return function (conditions) {\n      return allPass(conditions, xHolder);\n    };\n  }\n  return !any(function (condition) {\n    return !condition(x);\n  })(conditions);\n}\n\nmodule.exports = allPass;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction append(val, arr) {\n  var clone = arr.concat();\n  clone.push(val);\n\n  return clone;\n}\n\nmodule.exports = curry(append);\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction both(x, y) {\n  return function (input) {\n    return x(input) && y(input);\n  };\n}\n\nmodule.exports = curry(both);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// Taken from https://github.com/getify/Functional-Light-JS/blob/master/ch4.md\nvar compose = function compose() {\n  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (result) {\n    var list = fns.slice();\n\n    while (list.length > 0) {\n      result = list.pop()(result);\n    }\n\n    return result;\n  };\n};\n\nmodule.exports = compose;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// taken from the last comment of https://gist.github.com/mkuklis/5294248\n\nfunction curry(f) {\n  var a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  return function () {\n    for (var _len = arguments.length, p = Array(_len), _key = 0; _key < _len; _key++) {\n      p[_key] = arguments[_key];\n    }\n\n    return function (o) {\n      return o.length >= f.length ? f.apply(undefined, _toConsumableArray(o)) : curry(f, o);\n    }([].concat(_toConsumableArray(a), p));\n  };\n}\n\nmodule.exports = curry;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar type = __webpack_require__(1);\n\nfunction defaultTo(defaultArgument, inputArgument) {\n  if (arguments.length === 1) {\n    return function (inputArgumentHolder) {\n      return defaultTo(defaultArgument, inputArgumentHolder);\n    };\n  }\n  return inputArgument === undefined || !(type(inputArgument) === type(defaultArgument)) ? defaultArgument : inputArgument;\n}\n\nmodule.exports = defaultTo;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction dropLast(dropNumber, a) {\n\n  return a.slice(0, -dropNumber);\n}\n\nmodule.exports = curry(dropLast);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction either(x, y) {\n  return function (input) {\n    return x(input) || y(input);\n  };\n}\n\nmodule.exports = curry(either);\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction find(fn, arr) {\n  return arr.find(fn);\n}\n\nmodule.exports = curry(find);\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction findIndex(fn, arr) {\n  var length = arr.length;\n  var index = -1;\n\n  while (++index < length) {\n    if (fn(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nmodule.exports = curry(findIndex);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction flatten(arr, willReturn) {\n  willReturn = willReturn === undefined ? [] : willReturn;\n\n  for (var i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      flatten(arr[i], willReturn);\n    } else {\n      willReturn.push(arr[i]);\n    }\n  }\n\n  return willReturn;\n}\n\nmodule.exports = flatten;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction has(prop, obj) {\n  return obj[prop] !== undefined;\n}\n\nmodule.exports = curry(has);\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction head(a) {\n  if (typeof a === \"string\") {\n    return a[0] || \"\";\n  }\n\n  return a[0];\n}\n\nmodule.exports = head;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curryThree = __webpack_require__(2);\n\nfunction ifElse(conditionFn, ifFn, elseFn) {\n  return function (input) {\n    if (conditionFn(input) === true) {\n      return ifFn(input);\n    }\n    return elseFn(input);\n  };\n}\n\nmodule.exports = curryThree(ifElse);\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction indexOf(question, arr) {\n  var index = -1;\n  var length = arr.length;\n\n  while (++index < length) {\n    if (arr[index] === question) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nmodule.exports = curry(indexOf);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar baseSlice = __webpack_require__(3);\n\nfunction init(a) {\n  if (typeof a === \"string\") {\n    return a.slice(0, -1);\n  }\n\n  return a.length ? baseSlice(a, 0, -1) : [];\n}\n\nmodule.exports = init;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction helper(method, x, y) {\n  if (x === undefined) {\n    return function (xHolder, yHolder) {\n      return helper(method, xHolder, yHolder);\n    };\n  } else if (y === undefined) {\n    return function (yHolder) {\n      return helper(method, x, yHolder);\n    };\n  }\n  if (y[method] !== undefined) {\n    return y[method](x);\n  }\n}\n\nmodule.exports = helper;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curryThree = __webpack_require__(2);\n\nfunction mathHelper(operation, x, y) {\n  switch (operation) {\n    case '+':\n      return x + y;\n    case '-':\n      return x - y;\n    case '/':\n      return x / y;\n    case '*':\n      return x * y;\n    case '%':\n      return x % y;\n  }\n}\n\nmodule.exports = curryThree(mathHelper);\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction oppositeHelper(method, x, y) {\n  if (x === undefined) {\n    return function (xHolder, yHolder) {\n      return oppositeHelper(method, xHolder, yHolder);\n    };\n  } else if (y === undefined) {\n    return function (yHolder) {\n      return oppositeHelper(method, x, yHolder);\n    };\n  }\n  if (x[method] !== undefined) {\n    return x[method](y);\n  }\n}\n\nmodule.exports = oppositeHelper;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction propHelper(method, x) {\n  if (x === undefined) {\n    return function (xHolder) {\n      return propHelper(method, xHolder);\n    };\n  }\n\n  return x[method];\n}\n\nmodule.exports = propHelper;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction simpleHelper(method, x) {\n  if (x === undefined) {\n    return function (xHolder) {\n      return simpleHelper(method, xHolder);\n    };\n  }\n  if (x[method] !== undefined) {\n    return x[method]();\n  }\n}\n\nmodule.exports = simpleHelper;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction last(a) {\n  if (typeof a === \"string\") {\n    return a[a.length - 1] || \"\";\n  }\n\n  return a[a.length - 1];\n}\n\nmodule.exports = last;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction match(regex, str) {\n  var willReturn = str.match(regex);\n\n  return willReturn === null ? [] : willReturn;\n}\n\nmodule.exports = curry(match);\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar type = __webpack_require__(1);\n\nfunction omit(keys, obj) {\n  if (arguments.length === 1) {\n    return function (objHolder) {\n      return omit(keys, objHolder);\n    };\n  }\n  if (!(type(obj) === 'Object')) {\n    return undefined;\n  }\n  if (type(keys) === 'String') {\n    keys = keys.split(',').map(function (x) {\n      return x.trim();\n    });\n  }\n\n  var willReturn = {};\n  for (var key in obj) {\n    if (!keys.includes(key)) {\n      willReturn[key] = obj[key];\n    }\n  }\n\n  return willReturn;\n}\n\nmodule.exports = omit;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar type = __webpack_require__(1);\nvar merge = __webpack_require__(10);\n\nfunction partialCurry(fn) {\n  var inputArguments = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return function (inputArgumentsHolder) {\n    if (type(fn) === \"Async\" || type(fn) === \"Promise\") {\n      return new Promise(function (resolve, reject) {\n        fn(merge(inputArgumentsHolder, inputArguments)).then(resolve).catch(reject);\n      });\n    }\n    return fn(merge(inputArgumentsHolder, inputArguments));\n  };\n}\n\nmodule.exports = partialCurry;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar type = __webpack_require__(1);\n\nfunction path(pathArr, obj) {\n  if (arguments.length === 1) {\n    return function (objHolder) {\n      return path(pathArr, objHolder);\n    };\n  }\n  if (!(type(obj) === \"Object\")) {\n    return undefined;\n  }\n  var holder = obj;\n  var counter = 0;\n  if (typeof pathArr === \"string\") {\n    pathArr = pathArr.split(\".\");\n  }\n  while (counter < pathArr.length) {\n    if (holder === null || holder === undefined) {\n      return undefined;\n    }\n    holder = holder[pathArr[counter]];\n    counter++;\n  }\n\n  return holder;\n}\n\nmodule.exports = path;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar type = __webpack_require__(1);\n\nfunction pick(keys, obj) {\n  if (arguments.length === 1) {\n    return function (objHolder) {\n      return pick(keys, objHolder);\n    };\n  }\n  if (!(type(obj) === \"Object\")) {\n    return undefined;\n  }\n  if (type(keys) === 'String') {\n    keys = keys.split(',').map(function (x) {\n      return x.trim();\n    });\n  }\n\n  var willReturn = {};\n  var counter = 0;\n  while (counter < keys.length) {\n    if (keys[counter] in obj) {\n      willReturn[keys[counter]] = obj[keys[counter]];\n    }\n    counter++;\n  }\n\n  return willReturn;\n}\n\nmodule.exports = pick;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\nvar map = __webpack_require__(9);\n\nfunction pluck(keyToPluck, arr) {\n  var willReturn = [];\n  map(function (val) {\n    if (!(val[keyToPluck] === undefined)) {\n      willReturn.push(val[keyToPluck]);\n    }\n  }, arr);\n  return willReturn;\n}\n\nmodule.exports = curry(pluck);\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction prepend(val, arr) {\n  var clone = arr.concat();\n  clone.unshift(val);\n\n  return clone;\n}\n\nmodule.exports = curry(prepend);\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction prop(key, obj) {\n  return obj[key];\n}\n\nmodule.exports = curry(prop);\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curryThree = __webpack_require__(2);\n\nfunction propEq(key, val, obj) {\n  return obj[key] === val;\n}\n\nmodule.exports = curryThree(propEq);\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction range(start, end) {\n  var willReturn = [];\n  for (var i = start; i < end; i++) {\n    willReturn.push(i);\n  }\n\n  return willReturn;\n}\n\nmodule.exports = range;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curryThree = __webpack_require__(2);\n\nfunction reduce(fn, initialValue, arr) {\n  return arr.reduce(fn, initialValue);\n}\n\nmodule.exports = curryThree(reduce);\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction repeat(a, num) {\n  var willReturn = Array(num);\n\n  return willReturn.fill(a);\n}\n\nmodule.exports = curry(repeat);\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curryThree = __webpack_require__(2);\n\nfunction replace(regex, replacer, str) {\n  return str.replace(regex, replacer);\n}\n\nmodule.exports = curryThree(replace);\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction sort(fn, arr) {\n  var arrClone = arr.concat();\n\n  return arrClone.sort(fn);\n}\n\nmodule.exports = curry(sort);\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction sortBy(fn, arr) {\n  var arrClone = arr.concat();\n\n  return arrClone.sort(function (a, b) {\n    var fnA = fn(a);\n    var fnB = fn(b);\n    return fnA < fnB ? -1 : fnA > fnB ? 1 : 0;\n  });\n}\n\nmodule.exports = curry(sortBy);\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction split(glue, str) {\n\n  return str.split(glue);\n}\n\nmodule.exports = curry(split);\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\nfunction splitEvery(num, a) {\n  num = num > 1 ? num : 1;\n\n  var willReturn = [];\n  var counter = 0;\n  while (counter < a.length) {\n    willReturn.push(a.slice(counter, counter += num));\n  }\n\n  return willReturn;\n}\n\nmodule.exports = curry(splitEvery);\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar drop = __webpack_require__(6);\n\nfunction tail(arr) {\n\n  return drop(1, arr);\n}\n\nmodule.exports = tail;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\nvar baseSlice = __webpack_require__(3);\n\nfunction take(takeNumber, a) {\n  if (a === undefined) {\n    return function (holder) {\n      return take(takeNumber, holder);\n    };\n  } else if (typeof a === \"string\") {\n    return a.slice(0, takeNumber);\n  }\n\n  return baseSlice(a, 0, takeNumber);\n}\n\nmodule.exports = curry(take);\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar baseSlice = __webpack_require__(3);\nvar curry = __webpack_require__(0);\n\nfunction takeLast(takeNumber, a) {\n  var len = a.length;\n  takeNumber = takeNumber > len ? len : takeNumber;\n\n  if (typeof a === \"string\") {\n    return a.slice(len - takeNumber);\n  }\n  takeNumber = len - takeNumber;\n\n  return baseSlice(a, takeNumber, len);\n}\n\nmodule.exports = curry(takeLast);\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction tap(fn, input) {\n  fn(input);\n\n  return input;\n}\n\nmodule.exports = curry(tap);\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curry = __webpack_require__(0);\n\nfunction test(regex, str) {\n  return str.search(regex) === -1 ? false : true;\n}\n\nmodule.exports = curry(test);\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar contains = __webpack_require__(5);\n\nfunction uniq(arr) {\n  var index = -1;\n  var willReturn = [];\n  while (++index < arr.length) {\n    var value = arr[index];\n    if (!contains(value, willReturn)) {\n      willReturn.push(value);\n    }\n  }\n\n  return willReturn;\n}\n\nmodule.exports = uniq;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar curryThree = __webpack_require__(2);\n\nfunction update(index, newValue, arr) {\n  var arrClone = arr.concat();\n\n  return arrClone.fill(newValue, index, index + 1);\n}\n\nmodule.exports = curryThree(update);\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction values(obj) {\n  var willReturn = [];\n  for (var key in obj) {\n    willReturn.push(obj[key]);\n  }\n\n  return willReturn;\n}\n\nmodule.exports = values;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar helper = __webpack_require__(30);\nvar mathHelper = __webpack_require__(31);\nvar oppositeHelper = __webpack_require__(32);\nvar propHelper = __webpack_require__(33);\nvar simpleHelper = __webpack_require__(34);\n\nexports.add = mathHelper('+');\nexports.addIndex = __webpack_require__(11);\nexports.adjust = __webpack_require__(12);\nexports.always = function (x) {\n  return function () {\n    return x;\n  };\n};\nexports.any = __webpack_require__(4);\nexports.append = __webpack_require__(15);\nexports.all = __webpack_require__(13);\nexports.allPass = __webpack_require__(14);\nexports.both = __webpack_require__(16);\nexports.compose = __webpack_require__(17);\nexports.complement = function (fn) {\n  return function (input) {\n    return !Boolean(fn(input));\n  };\n};\nexports.concat = oppositeHelper(\"concat\");\nexports.contains = __webpack_require__(5);\nexports.curry = __webpack_require__(18);\nexports.defaultTo = __webpack_require__(19);\nexports.divide = mathHelper('/');\nexports.drop = __webpack_require__(6);\nexports.dropLast = __webpack_require__(20);\nexports.either = __webpack_require__(21);\nexports.endsWith = helper(\"endsWith\");\nexports.equals = __webpack_require__(7);\nexports.F = function () {\n  return false;\n};\nexports.filter = __webpack_require__(8);\nexports.find = __webpack_require__(22);\nexports.findIndex = __webpack_require__(23);\nexports.flatten = __webpack_require__(24);\nexports.has = __webpack_require__(25);\nexports.head = __webpack_require__(26);\nexports.identity = function (x) {\n  return x;\n};\nexports.ifElse = __webpack_require__(27);\nexports.includes = helper(\"includes\");\nexports.indexOf = __webpack_require__(28);\nexports.init = __webpack_require__(29);\nexports.join = helper('join');\nexports.last = __webpack_require__(35);\nexports.lastIndexOf = helper(\"lastIndexOf\");\nexports.length = propHelper(\"length\");\nexports.map = __webpack_require__(9);\nexports.match = __webpack_require__(36);\nexports.merge = __webpack_require__(10);\nexports.modulo = mathHelper('%');\nexports.multiply = mathHelper('*');\nexports.not = function (x) {\n  return !x;\n};\nexports.omit = __webpack_require__(37);\nexports.padEnd = helper('padEnd');\nexports.padStart = helper('padStart');\nexports.partialCurry = __webpack_require__(38);\nexports.path = __webpack_require__(39);\nexports.pick = __webpack_require__(40);\nexports.pluck = __webpack_require__(41);\nexports.prepend = __webpack_require__(42);\nexports.prop = __webpack_require__(43);\nexports.propEq = __webpack_require__(44);\nexports.range = __webpack_require__(45);\nexports.reduce = __webpack_require__(46);\nexports.repeat = __webpack_require__(47);\nexports.replace = __webpack_require__(48);\nexports.reverse = simpleHelper('reverse');\nexports.sort = __webpack_require__(49);\nexports.sortBy = __webpack_require__(50);\nexports.split = __webpack_require__(51);\nexports.splitEvery = __webpack_require__(52);\nexports.startsWith = helper(\"startsWith\");\nexports.subtract = mathHelper('-');\nexports.T = function () {\n  return true;\n};\nexports.tap = __webpack_require__(56);\nexports.tail = __webpack_require__(53);\nexports.take = __webpack_require__(54);\nexports.takeLast = __webpack_require__(55);\nexports.test = __webpack_require__(57);\nexports.toLower = simpleHelper(\"toLowerCase\");\nexports.toString = simpleHelper('toString');\nexports.toUpper = simpleHelper(\"toUpperCase\");\nexports.trim = simpleHelper(\"trim\");\nexports.type = __webpack_require__(1);\nexports.uniq = __webpack_require__(58);\nexports.update = __webpack_require__(59);\nexports.values = __webpack_require__(60);\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ./node_modules/rambda/index.js","// https://d3js.org Version 4.10.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar version = \"4.10.0\";\n\nvar ascending = function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n};\n\nvar bisector = function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n};\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\nvar bisectLeft = ascendingBisect.left;\n\nvar pairs = function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n};\n\nfunction pair(a, b) {\n  return [a, b];\n}\n\nvar cross = function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n};\n\nvar descending = function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n};\n\nvar number = function(x) {\n  return x === null ? NaN : +x;\n};\n\nvar variance = function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n};\n\nvar deviation = function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n};\n\nvar extent = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n};\n\nvar array = Array.prototype;\n\nvar slice = array.slice;\nvar map = array.map;\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar identity = function(x) {\n  return x;\n};\n\nvar sequence = function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n};\n\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\n\nvar ticks = function(start, stop, count) {\n  var reverse = stop < start,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  if (reverse) n = start, start = stop, stop = n;\n\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n};\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nvar sturges = function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n};\n\nvar histogram = function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = sequence(Math.ceil(x0 / tz) * tz, Math.floor(x1 / tz) * tz, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisectRight(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n};\n\nvar threshold = function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n};\n\nvar freedmanDiaconis = function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (threshold(values, 0.75) - threshold(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n};\n\nvar scott = function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n};\n\nvar max = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n};\n\nvar mean = function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n};\n\nvar median = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return threshold(numbers.sort(ascending), 0.5);\n};\n\nvar merge = function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n};\n\nvar min = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n};\n\nvar permute = function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n};\n\nvar scan = function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n};\n\nvar shuffle = function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n};\n\nvar sum = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n};\n\nvar transpose = function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n};\n\nfunction length(d) {\n  return d.length;\n}\n\nvar zip = function() {\n  return transpose(arguments);\n};\n\nvar slice$1 = Array.prototype.slice;\n\nvar identity$1 = function(x) {\n  return x;\n};\n\nvar top = 1;\nvar right = 2;\nvar bottom = 3;\nvar left = 4;\nvar epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number$1(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity$1) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number$1)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice$1.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice$1.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice$1.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nfunction axisTop(scale) {\n  return axis(top, scale);\n}\n\nfunction axisRight(scale) {\n  return axis(right, scale);\n}\n\nfunction axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nfunction axisLeft(scale) {\n  return axis(left, scale);\n}\n\nvar noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\n\nvar namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nvar namespace = function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n};\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nvar creator = function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n};\n\nvar nextId = 0;\n\nfunction local$1() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local$1.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nvar matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nvar matcher$1 = matcher;\n\nvar filterEvents = {};\n\nexports.event = null;\n\nif (typeof document !== \"undefined\") {\n  var element$1 = document.documentElement;\n  if (!(\"onmouseenter\" in element$1)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = exports.event; // Events can be reentrant (e.g., focus).\n    exports.event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      exports.event = event0;\n    }\n  };\n}\n\nfunction parseTypenames$1(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nvar selection_on = function(typename, value, capture) {\n  var typenames = parseTypenames$1(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n};\n\nfunction customEvent(event1, listener, that, args) {\n  var event0 = exports.event;\n  event1.sourceEvent = exports.event;\n  exports.event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    exports.event = event0;\n  }\n}\n\nvar sourceEvent = function() {\n  var current = exports.event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n};\n\nvar point = function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n};\n\nvar mouse = function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n};\n\nfunction none() {}\n\nvar selector = function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n};\n\nvar selection_select = function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nfunction empty$1() {\n  return [];\n}\n\nvar selectorAll = function(selector) {\n  return selector == null ? empty$1 : function() {\n    return this.querySelectorAll(selector);\n  };\n};\n\nvar selection_selectAll = function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n};\n\nvar selection_filter = function(match) {\n  if (typeof match !== \"function\") match = matcher$1(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nvar sparse = function(update) {\n  return new Array(update.length);\n};\n\nvar selection_enter = function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n};\n\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n\nvar constant$1 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nvar selection_data = function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant$1(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n};\n\nvar selection_exit = function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n};\n\nvar selection_merge = function(selection$$1) {\n\n  for (var groups0 = this._groups, groups1 = selection$$1._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n};\n\nvar selection_order = function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n};\n\nvar selection_sort = function(compare) {\n  if (!compare) compare = ascending$1;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n};\n\nfunction ascending$1(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nvar selection_call = function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n};\n\nvar selection_nodes = function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n};\n\nvar selection_node = function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n};\n\nvar selection_size = function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n};\n\nvar selection_empty = function() {\n  return !this.node();\n};\n\nvar selection_each = function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n};\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nvar selection_attr = function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n};\n\nvar defaultView = function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n};\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nvar selection_style = function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n};\n\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nvar selection_property = function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n};\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nvar selection_classed = function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n};\n\nfunction textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nvar selection_text = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n};\n\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nvar selection_html = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n};\n\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nvar selection_raise = function() {\n  return this.each(raise);\n};\n\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nvar selection_lower = function() {\n  return this.each(lower);\n};\n\nvar selection_append = function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n};\n\nfunction constantNull() {\n  return null;\n}\n\nvar selection_insert = function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n};\n\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nvar selection_remove = function() {\n  return this.each(remove);\n};\n\nvar selection_datum = function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n};\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nvar selection_dispatch = function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n};\n\nvar root = [null];\n\nfunction Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nvar select = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n};\n\nvar selectAll = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n};\n\nvar touch = function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n};\n\nvar touches = function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n};\n\nfunction nopropagation() {\n  exports.event.stopImmediatePropagation();\n}\n\nvar noevent = function() {\n  exports.event.preventDefault();\n  exports.event.stopImmediatePropagation();\n};\n\nvar dragDisable = function(view) {\n  var root = view.document.documentElement,\n      selection$$1 = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection$$1.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n};\n\nfunction yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection$$1 = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection$$1.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection$$1.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection$$1.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n\nvar constant$2 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter$1() {\n  return !exports.event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: exports.event.x, y: exports.event.y} : d;\n}\n\nfunction touchable() {\n  return \"ontouchstart\" in this;\n}\n\nvar drag = function() {\n  var filter = defaultFilter$1,\n      container = defaultContainer,\n      subject = defaultSubject,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(exports.event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    dragDisable(exports.event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = exports.event.clientX;\n    mousedowny = exports.event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = exports.event.clientX - mousedownx, dy = exports.event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(exports.event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(exports.event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches$$1 = exports.event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches$$1.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches$$1[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches$$1 = exports.event.changedTouches,\n        n = touches$$1.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches$$1[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches$$1 = exports.event.changedTouches,\n        n = touches$$1.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches$$1[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((exports.event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$2(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$2(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$2(_), drag) : subject;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n};\n\nvar define = function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n};\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\";\nvar reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\";\nvar reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\";\nvar reHex3 = /^#([0-9a-f]{3})$/;\nvar reHex6 = /^#([0-9a-f]{6})$/;\nvar reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\");\nvar reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\");\nvar reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\");\nvar reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\");\nvar reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\");\nvar reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI;\n\nvar Kn = 18;\nvar Xn = 0.950470;\nvar Yn = 1;\nvar Zn = 1.088830;\nvar t0 = 4 / 29;\nvar t1 = 6 / 29;\nvar t2 = 3 * t1 * t1;\nvar t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n\nvar A = -0.14861;\nvar B = +1.78277;\nvar C = -0.29227;\nvar D = -0.90649;\nvar E = +1.97294;\nvar ED = E * D;\nvar EB = E * B;\nvar BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n\nfunction basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nvar basis$1 = function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar basisClosed = function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar constant$3 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant$3(isNaN(a) ? b : a);\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant$3(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$3(isNaN(a) ? b : a);\n}\n\nvar interpolateRgb = (function rgbGamma(y) {\n  var color$$1 = gamma(y);\n\n  function rgb$$1(start, end) {\n    var r = color$$1((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color$$1(start.g, end.g),\n        b = color$$1(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$$1.gamma = rgbGamma;\n\n  return rgb$$1;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color$$1;\n    for (i = 0; i < n; ++i) {\n      color$$1 = rgb(colors[i]);\n      r[i] = color$$1.r || 0;\n      g[i] = color$$1.g || 0;\n      b[i] = color$$1.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color$$1.opacity = 1;\n    return function(t) {\n      color$$1.r = r(t);\n      color$$1.g = g(t);\n      color$$1.b = b(t);\n      return color$$1 + \"\";\n    };\n  };\n}\n\nvar rgbBasis = rgbSpline(basis$1);\nvar rgbBasisClosed = rgbSpline(basisClosed);\n\nvar array$1 = function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolateValue(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n};\n\nvar date = function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n};\n\nvar reinterpolate = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n};\n\nvar object = function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolateValue(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n};\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\nvar reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nvar interpolateString = function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: reinterpolate(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n};\n\nvar interpolateValue = function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant$3(b)\n      : (t === \"number\" ? reinterpolate\n      : t === \"string\" ? ((c = color(b)) ? (b = c, interpolateRgb) : interpolateString)\n      : b instanceof color ? interpolateRgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array$1\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : reinterpolate)(a, b);\n};\n\nvar interpolateRound = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n};\n\nvar degrees = 180 / Math.PI;\n\nvar identity$2 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nvar decompose = function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n};\n\nvar cssNode;\nvar cssRoot;\nvar cssView;\nvar svgNode;\n\nfunction parseCss(value) {\n  if (value === \"none\") return identity$2;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity$2;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity$2;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: reinterpolate(xa, xb)}, {i: i - 2, x: reinterpolate(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: reinterpolate(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: reinterpolate(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: reinterpolate(xa, xb)}, {i: i - 2, x: reinterpolate(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar rho = Math.SQRT2;\nvar rho2 = 2;\nvar rho4 = 4;\nvar epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nvar interpolateZoom = function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n};\n\nfunction hsl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = hsl(start)).h, (end = hsl(end)).h),\n        s = nogamma(start.s, end.s),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hsl$2 = hsl$1(hue);\nvar hslLong = hsl$1(nogamma);\n\nfunction lab$1(start, end) {\n  var l = nogamma((start = lab(start)).l, (end = lab(end)).l),\n      a = nogamma(start.a, end.a),\n      b = nogamma(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n\nfunction hcl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = hcl(start)).h, (end = hcl(end)).h),\n        c = nogamma(start.c, end.c),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hcl$2 = hcl$1(hue);\nvar hclLong = hcl$1(nogamma);\n\nfunction cubehelix$1(hue$$1) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix$$1(start, end) {\n      var h = hue$$1((start = cubehelix(start)).h, (end = cubehelix(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix$$1.gamma = cubehelixGamma;\n\n    return cubehelix$$1;\n  })(1);\n}\n\nvar cubehelix$2 = cubehelix$1(hue);\nvar cubehelixLong = cubehelix$1(nogamma);\n\nvar quantize = function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n};\n\nvar frame = 0;\nvar timeout = 0;\nvar interval = 0;\nvar pokeDelay = 1000;\nvar taskHead;\nvar taskTail;\nvar clockLast = 0;\nvar clockNow = 0;\nvar clockSkew = 0;\nvar clock = typeof performance === \"object\" && performance.now ? performance : Date;\nvar setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nfunction Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nfunction timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nfunction timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, delay);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clockNow, interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n\nvar timeout$1 = function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n};\n\nvar interval$1 = function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n};\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\n\nvar schedule = function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n};\n\nfunction init(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > CREATED) throw new Error(\"too late\");\n  return schedule;\n}\n\nfunction set$1(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > STARTING) throw new Error(\"too late\");\n  return schedule;\n}\n\nfunction get$1(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"too late\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout$1(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout$1(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n\nvar interrupt = function(node, name) {\n  var schedules = node.__transition,\n      schedule$$1,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule$$1 = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule$$1.state > STARTING && schedule$$1.state < ENDING;\n    schedule$$1.state = ENDED;\n    schedule$$1.timer.stop();\n    if (active) schedule$$1.on.call(\"interrupt\", node, node.__data__, schedule$$1.index, schedule$$1.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n};\n\nvar selection_interrupt = function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n};\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule$$1 = set$1(this, id),\n        tween = schedule$$1.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule$$1.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule$$1 = set$1(this, id),\n        tween = schedule$$1.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule$$1.tween = tween1;\n  };\n}\n\nvar transition_tween = function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get$1(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n};\n\nfunction tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule$$1 = set$1(this, id);\n    (schedule$$1.value || (schedule$$1.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get$1(node, id).value[name];\n  };\n}\n\nvar interpolate = function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? reinterpolate\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n};\n\nfunction attrRemove$1(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS$1(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant$1(name, interpolate$$1, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate$$1(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS$1(fullname, interpolate$$1, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate$$1(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction$1(name, interpolate$$1, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS$1(fullname, interpolate$$1, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n  };\n}\n\nvar transition_attr = function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS$1 : attrFunction$1)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS$1 : attrRemove$1)(fullname)\n      : (fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, i, value + \"\"));\n};\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nvar transition_attrTween = function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n};\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nvar transition_delay = function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get$1(this.node(), id).delay;\n};\n\nfunction durationFunction(id, value) {\n  return function() {\n    set$1(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set$1(this, id).duration = value;\n  };\n}\n\nvar transition_duration = function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get$1(this.node(), id).duration;\n};\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set$1(this, id).ease = value;\n  };\n}\n\nvar transition_ease = function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get$1(this.node(), id).ease;\n};\n\nvar transition_filter = function(match) {\n  if (typeof match !== \"function\") match = matcher$1(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n};\n\nvar transition_merge = function(transition$$1) {\n  if (transition$$1._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition$$1._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n};\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set$1;\n  return function() {\n    var schedule$$1 = sit(this, id),\n        on = schedule$$1.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule$$1.on = on1;\n  };\n}\n\nvar transition_on = function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get$1(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n};\n\nfunction removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nvar transition_remove = function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n};\n\nvar transition_select = function(select$$1) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select$$1 !== \"function\") select$$1 = selector(select$$1);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select$$1.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get$1(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n};\n\nvar transition_selectAll = function(select$$1) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select$$1 !== \"function\") select$$1 = selectorAll(select$$1);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select$$1.call(node, node.__data__, i, group), child, inherit = get$1(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n};\n\nvar Selection$1 = selection.prototype.constructor;\n\nvar transition_selection = function() {\n  return new Selection$1(this._groups, this._parents);\n};\n\nfunction styleRemove$1(name, interpolate$$1) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = styleValue(this, name),\n        value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant$1(name, interpolate$$1, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = styleValue(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate$$1(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction$1(name, interpolate$$1, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = styleValue(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);\n  };\n}\n\nvar transition_style = function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove$1(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction$1(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant$1(name, i, value + \"\"), priority);\n};\n\nfunction styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nvar transition_styleTween = function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n};\n\nfunction textConstant$1(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction$1(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nvar transition_text = function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction$1(tweenValue(this, \"text\", value))\n      : textConstant$1(value == null ? \"\" : value + \"\"));\n};\n\nvar transition_transition = function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get$1(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n};\n\nvar id = 0;\n\nfunction Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nfunction transition(name) {\n  return selection().transition(name);\n}\n\nfunction newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n\nfunction linear$1(t) {\n  return +t;\n}\n\nfunction quadIn(t) {\n  return t * t;\n}\n\nfunction quadOut(t) {\n  return t * (2 - t);\n}\n\nfunction quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n\nfunction cubicIn(t) {\n  return t * t * t;\n}\n\nfunction cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n\nvar exponent = 3;\n\nvar polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nvar polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nvar polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n\nvar pi = Math.PI;\nvar halfPi = pi / 2;\n\nfunction sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nfunction sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nfunction sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n\nfunction expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nfunction expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nfunction expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n\nfunction circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nfunction circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nfunction circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n\nvar b1 = 4 / 11;\nvar b2 = 6 / 11;\nvar b3 = 8 / 11;\nvar b4 = 3 / 4;\nvar b5 = 9 / 11;\nvar b6 = 10 / 11;\nvar b7 = 15 / 16;\nvar b8 = 21 / 22;\nvar b9 = 63 / 64;\nvar b0 = 1 / b1 / b1;\n\nfunction bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nfunction bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nfunction bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n\nvar overshoot = 1.70158;\n\nvar backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nvar backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nvar backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n\nvar tau = 2 * Math.PI;\nvar amplitude = 1;\nvar period = 0.3;\n\nvar elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nvar elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nvar elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nvar selection_transition = function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n};\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n\nvar root$1 = [null];\n\nvar active = function(node, name) {\n  var schedules = node.__transition,\n      schedule$$1,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule$$1 = schedules[i]).state > SCHEDULED && schedule$$1.name === name) {\n        return new Transition([[node]], root$1, name, +i);\n      }\n    }\n  }\n\n  return null;\n};\n\nvar constant$4 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar BrushEvent = function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n};\n\nfunction nopropagation$1() {\n  exports.event.stopImmediatePropagation();\n}\n\nvar noevent$1 = function() {\n  exports.event.preventDefault();\n  exports.event.stopImmediatePropagation();\n};\n\nvar MODE_DRAG = {name: \"drag\"};\nvar MODE_SPACE = {name: \"space\"};\nvar MODE_HANDLE = {name: \"handle\"};\nvar MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !exports.event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local$$1(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nfunction brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nfunction brushX() {\n  return brush$1(X);\n}\n\nfunction brushY() {\n  return brush$1(Y);\n}\n\nvar brush = function() {\n  return brush$1(XY);\n};\n\nfunction brush$1(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local$$1(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolateValue(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local$$1(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (exports.event.touches) { if (exports.event.changedTouches.length < exports.event.touches.length) return noevent$1(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = exports.event.target.__data__.type,\n        mode = (exports.event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (exports.event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local$$1(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && exports.event.shiftKey,\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (exports.event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(exports.event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(exports.event.view);\n    }\n\n    nopropagation$1();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent$1();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation$1();\n      if (exports.event.touches) {\n        if (exports.event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        yesdrag(exports.event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (exports.event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent$1();\n    }\n\n    function keyupped() {\n      switch (exports.event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (exports.event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent$1();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$4([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$4(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar pi$1 = Math.PI;\nvar halfPi$1 = pi$1 / 2;\nvar tau$1 = pi$1 * 2;\nvar max$1 = Math.max;\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nvar chord = function() {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = [],\n        groupIndex = sequence(n),\n        subgroupIndex = [],\n        chords = [],\n        groups = chords.groups = new Array(n),\n        subgroups = new Array(n * n),\n        k,\n        x,\n        x0,\n        dx,\n        i,\n        j;\n\n    // Compute the sum.\n    k = 0, i = -1; while (++i < n) {\n      x = 0, j = -1; while (++j < n) {\n        x += matrix[i][j];\n      }\n      groupSums.push(x);\n      subgroupIndex.push(sequence(n));\n      k += x;\n    }\n\n    // Sort groups\n    if (sortGroups) groupIndex.sort(function(a, b) {\n      return sortGroups(groupSums[a], groupSums[b]);\n    });\n\n    // Sort subgroups\n    if (sortSubgroups) subgroupIndex.forEach(function(d, i) {\n      d.sort(function(a, b) {\n        return sortSubgroups(matrix[i][a], matrix[i][b]);\n      });\n    });\n\n    // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified?\n    // TODO Allow padding to be specified as percentage?\n    k = max$1(0, tau$1 - padAngle * n) / k;\n    dx = k ? padAngle : tau$1 / n;\n\n    // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n    x = 0, i = -1; while (++i < n) {\n      x0 = x, j = -1; while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[dj * n + di] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: groupSums[di]\n      };\n      x += dx;\n    }\n\n    // Generate chords for each (non-empty) subgroup-subgroup link.\n    i = -1; while (++i < n) {\n      j = i - 1; while (++j < n) {\n        var source = subgroups[j * n + i],\n            target = subgroups[i * n + j];\n        if (source.value || target.value) {\n          chords.push(source.value < target.value\n              ? {source: target, target: source}\n              : {source: source, target: target});\n        }\n      }\n    }\n\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max$1(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n};\n\nvar slice$2 = Array.prototype.slice;\n\nvar constant$5 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar pi$2 = Math.PI;\nvar tau$2 = 2 * pi$2;\nvar epsilon$1 = 1e-6;\nvar tauEpsilon = tau$2 - epsilon$1;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi$2 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon$1) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau$2 + tau$2;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi$2)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nvar ribbon = function() {\n  var source = defaultSource,\n      target = defaultTarget,\n      radius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        argv = slice$2.call(arguments),\n        s = source.apply(this, argv),\n        t = target.apply(this, argv),\n        sr = +radius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi$1,\n        sa1 = endAngle.apply(this, argv) - halfPi$1,\n        sx0 = sr * cos(sa0),\n        sy0 = sr * sin(sa0),\n        tr = +radius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi$1,\n        ta1 = endAngle.apply(this, argv) - halfPi$1;\n\n    if (!context) context = buffer = path();\n\n    context.moveTo(sx0, sy0);\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) { // TODO sr !== tr?\n      context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n      context.arc(0, 0, tr, ta0, ta1);\n    }\n    context.quadraticCurveTo(0, 0, sx0, sy0);\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$5(+_), ribbon) : radius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$5(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$5(+_), ribbon) : endAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n};\n\nvar prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map$1.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map$1(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nvar nest = function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map$1(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n};\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map$1();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n\nfunction Set() {}\n\nvar proto = map$1.prototype;\n\nSet.prototype = set$2.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set$2(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nvar keys = function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n};\n\nvar values = function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n};\n\nvar entries = function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n};\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nvar dsv = function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns;\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I, c;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var k = 1;\n        c = text.charCodeAt(I++);\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.slice(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.slice(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && (a = f(a, n++)) == null) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n};\n\nvar csv = dsv(\",\");\n\nvar csvParse = csv.parse;\nvar csvParseRows = csv.parseRows;\nvar csvFormat = csv.format;\nvar csvFormatRows = csv.formatRows;\n\nvar tsv = dsv(\"\\t\");\n\nvar tsvParse = tsv.parse;\nvar tsvParseRows = tsv.parseRows;\nvar tsvFormat = tsv.format;\nvar tsvFormatRows = tsv.formatRows;\n\nvar center$1 = function(x, y) {\n  var nodes;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n};\n\nvar constant$6 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar jiggle = function() {\n  return (Math.random() - 0.5) * 1e-6;\n};\n\nvar tree_add = function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n};\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nfunction addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n\nvar tree_cover = function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n        break;\n      }\n      case 3: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the quadtree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n};\n\nvar tree_data = function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n};\n\nvar tree_extent = function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n};\n\nvar Quad = function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n};\n\nvar tree_find = function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n};\n\nvar tree_remove = function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n};\n\nfunction removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n\nvar tree_root = function() {\n  return this._root;\n};\n\nvar tree_size = function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n};\n\nvar tree_visit = function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n};\n\nvar tree_visitAfter = function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n};\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nvar tree_x = function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n};\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nvar tree_y = function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n};\n\nfunction quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nvar collide = function(radius) {\n  var nodes,\n      radii,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant$6(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x;\n            if (y === 0) y = jiggle(), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : radius;\n  };\n\n  return force;\n};\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nvar link = function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant$6(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map$1(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant$6(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n};\n\nfunction x$1(d) {\n  return d.x;\n}\n\nfunction y$1(d) {\n  return d.y;\n}\n\nvar initialRadius = 10;\nvar initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nvar simulation = function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map$1(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick() {\n    var i, n = nodes.length, node;\n\n    alpha += (alphaTarget - alpha) * alphaDecay;\n\n    forces.each(function(force) {\n      force(alpha);\n    });\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (node.fx == null) node.x += node.vx *= velocityDecay;\n      else node.x = node.fx, node.vx = 0;\n      if (node.fy == null) node.y += node.vy *= velocityDecay;\n      else node.y = node.fy, node.vy = 0;\n    }\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n};\n\nvar manyBody = function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant$6(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x$1, y$1).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = q.value)) {\n          strength += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / strength;\n      quad.y = y / strength;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n};\n\nvar x$2 = function(x) {\n  var strength = constant$6(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant$6(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : x;\n  };\n\n  return force;\n};\n\nvar y$2 = function(y) {\n  var strength = constant$6(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant$6(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : y;\n  };\n\n  return force;\n};\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nvar formatDecimal = function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n};\n\nvar exponent$1 = function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n};\n\nvar formatGroup = function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n};\n\nvar formatNumerals = function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n};\n\nvar formatDefault = function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n};\n\nvar prefixExponent;\n\nvar formatPrefixAuto = function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n};\n\nvar formatRounded = function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n};\n\nvar formatTypes = {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n\nvar identity$3 = function(x) {\n  return x;\n};\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nvar formatLocale = function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity$3,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity$3,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n};\n\nvar locale$1;\n\n\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale(definition) {\n  locale$1 = formatLocale(definition);\n  exports.format = locale$1.format;\n  exports.formatPrefix = locale$1.formatPrefix;\n  return locale$1;\n}\n\nvar precisionFixed = function(step) {\n  return Math.max(0, -exponent$1(Math.abs(step)));\n};\n\nvar precisionPrefix = function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3 - exponent$1(Math.abs(step)));\n};\n\nvar precisionRound = function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent$1(max) - exponent$1(step)) + 1;\n};\n\n// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nvar adder = function() {\n  return new Adder;\n};\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add$1(temp, y, this.t);\n    add$1(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add$1(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n\nvar epsilon$2 = 1e-6;\nvar epsilon2$1 = 1e-12;\nvar pi$3 = Math.PI;\nvar halfPi$2 = pi$3 / 2;\nvar quarterPi = pi$3 / 4;\nvar tau$3 = pi$3 * 2;\n\nvar degrees$1 = 180 / pi$3;\nvar radians = pi$3 / 180;\n\nvar abs = Math.abs;\nvar atan = Math.atan;\nvar atan2 = Math.atan2;\nvar cos$1 = Math.cos;\nvar ceil = Math.ceil;\nvar exp = Math.exp;\n\nvar log = Math.log;\nvar pow = Math.pow;\nvar sin$1 = Math.sin;\nvar sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nvar sqrt = Math.sqrt;\nvar tan = Math.tan;\n\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi$3 : Math.acos(x);\n}\n\nfunction asin(x) {\n  return x > 1 ? halfPi$2 : x < -1 ? -halfPi$2 : Math.asin(x);\n}\n\nfunction haversin(x) {\n  return (x = sin$1(x / 2)) * x;\n}\n\nfunction noop$1() {}\n\nfunction streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nvar geoStream = function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n};\n\nvar areaRingSum = adder();\n\nvar areaSum = adder();\nvar lambda00;\nvar phi00;\nvar lambda0;\nvar cosPhi0;\nvar sinPhi0;\n\nvar areaStream = {\n  point: noop$1,\n  lineStart: noop$1,\n  lineEnd: noop$1,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau$3 + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop$1;\n  },\n  sphere: function() {\n    areaSum.add(tau$3);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos$1(phi = phi / 2 + quarterPi), sinPhi0 = sin$1(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos$1(phi),\n      sinPhi = sin$1(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos$1(adLambda),\n      v = k * sdLambda * sin$1(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nvar area = function(object) {\n  areaSum.reset();\n  geoStream(object, areaStream);\n  return areaSum * 2;\n};\n\nfunction spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nfunction cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos$1(phi);\n  return [cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi)];\n}\n\nfunction cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nfunction cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nfunction cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nfunction cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nfunction cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n\nvar lambda0$1;\nvar phi0;\nvar lambda1;\nvar phi1;\nvar lambda2;\nvar lambda00$1;\nvar phi00$1;\nvar p0;\nvar deltaSum = adder();\nvar ranges;\nvar range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0$1 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon$2) phi1 = 90;\n    else if (deltaSum < -epsilon$2) phi0 = -90;\n    range[0] = lambda0$1, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0$1 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign$$1 = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees$1 * sign$$1,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign$$1 * lambda2 < lambdai && lambdai < sign$$1 * lambda)) {\n      phii = inflection[1] * degrees$1;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign$$1 * lambda2 < lambdai && lambdai < sign$$1 * lambda)) {\n      phii = -inflection[1] * degrees$1;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0$1) {\n        if (lambda < lambda0$1) lambda0$1 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0$1 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0$1, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00$1 = lambda, phi00$1 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00$1, phi00$1);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon$2) lambda0$1 = -(lambda1 = 180);\n  range[0] = lambda0$1, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nvar bounds = function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0$1 = phi0 = Infinity);\n  ranges = [];\n  geoStream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0$1 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0$1 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0$1, phi0], [lambda1, phi1]];\n};\n\nvar W0;\nvar W1;\nvar X0;\nvar Y0;\nvar Z0;\nvar X1;\nvar Y1;\nvar Z1;\nvar X2;\nvar Y2;\nvar Z2;\nvar lambda00$2;\nvar phi00$2;\nvar x0;\nvar y0;\nvar z0; // previous point\n\nvar centroidStream = {\n  sphere: noop$1,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos$1(phi);\n  centroidPointCartesian(cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos$1(phi);\n  x0 = cosPhi * cos$1(lambda);\n  y0 = cosPhi * sin$1(lambda);\n  z0 = sin$1(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos$1(phi),\n      x = cosPhi * cos$1(lambda),\n      y = cosPhi * sin$1(lambda),\n      z = sin$1(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00$2, phi00$2);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00$2 = lambda, phi00$2 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos$1(phi);\n  x0 = cosPhi * cos$1(lambda);\n  y0 = cosPhi * sin$1(lambda);\n  z0 = sin$1(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos$1(phi),\n      x = cosPhi * cos$1(lambda),\n      y = cosPhi * sin$1(lambda),\n      z = sin$1(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nvar centroid = function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  geoStream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2$1) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon$2) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2$1) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees$1, asin(z / sqrt(m)) * degrees$1];\n};\n\nvar constant$7 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar compose = function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n};\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi$3 ? lambda - tau$3 : lambda < -pi$3 ? lambda + tau$3 : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nfunction rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau$3) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi$3 ? lambda - tau$3 : lambda < -pi$3 ? lambda + tau$3 : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos$1(deltaPhi),\n      sinDeltaPhi = sin$1(deltaPhi),\n      cosDeltaGamma = cos$1(deltaGamma),\n      sinDeltaGamma = sin$1(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos$1(phi),\n        x = cos$1(lambda) * cosPhi,\n        y = sin$1(lambda) * cosPhi,\n        z = sin$1(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos$1(phi),\n        x = cos$1(lambda) * cosPhi,\n        y = sin$1(lambda) * cosPhi,\n        z = sin$1(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nvar rotation = function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees$1, coordinates[1] *= degrees$1, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees$1, coordinates[1] *= degrees$1, coordinates;\n  };\n\n  return forward;\n};\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nfunction circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos$1(radius),\n      sinRadius = sin$1(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau$3;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau$3;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos$1(t), -sinRadius * sin$1(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau$3 - epsilon$2) % tau$3;\n}\n\nvar circle = function() {\n  var center = constant$7([0, 0]),\n      radius = constant$7(90),\n      precision = constant$7(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees$1, x[1] *= degrees$1;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant$7([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$7(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant$7(+_), circle) : precision;\n  };\n\n  return circle;\n};\n\nvar clipBuffer = function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop$1,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n};\n\nvar clipLine = function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n};\n\nvar pointEqual = function(a, b) {\n  return abs(a[0] - b[0]) < epsilon$2 && abs(a[1] - b[1]) < epsilon$2;\n};\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nvar clipPolygon = function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link$1(subject);\n  link$1(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n};\n\nfunction link$1(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n\nvar clipMax = 1e9;\nvar clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nfunction clipExtent(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon$2 ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon$2 ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon$2 ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipPolygon(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n\nvar extent$1 = function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipExtent(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n};\n\nvar sum$1 = adder();\n\nvar polygonContains = function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin$1(lambda), -cos$1(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum$1.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin$1(phi0),\n        cosPhi0 = cos$1(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin$1(phi1),\n          cosPhi1 = cos$1(phi1),\n          delta = lambda1 - lambda0,\n          sign$$1 = delta >= 0 ? 1 : -1,\n          absDelta = sign$$1 * delta,\n          antimeridian = absDelta > pi$3,\n          k = sinPhi0 * sinPhi1;\n\n      sum$1.add(atan2(k * sign$$1 * sin$1(absDelta), cosPhi0 * cosPhi1 + k * cos$1(absDelta)));\n      angle += antimeridian ? delta + sign$$1 * tau$3 : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon$2 || angle < epsilon$2 && sum$1 < -epsilon$2) ^ (winding & 1);\n};\n\nvar lengthSum = adder();\nvar lambda0$2;\nvar sinPhi0$1;\nvar cosPhi0$1;\n\nvar lengthStream = {\n  sphere: noop$1,\n  point: noop$1,\n  lineStart: lengthLineStart,\n  lineEnd: noop$1,\n  polygonStart: noop$1,\n  polygonEnd: noop$1\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop$1;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0$2 = lambda, sinPhi0$1 = sin$1(phi), cosPhi0$1 = cos$1(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin$1(phi),\n      cosPhi = cos$1(phi),\n      delta = abs(lambda - lambda0$2),\n      cosDelta = cos$1(delta),\n      sinDelta = sin$1(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0$1 * sinPhi - sinPhi0$1 * cosPhi * cosDelta,\n      z = sinPhi0$1 * sinPhi + cosPhi0$1 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0$2 = lambda, sinPhi0$1 = sinPhi, cosPhi0$1 = cosPhi;\n}\n\nvar length$1 = function(object) {\n  lengthSum.reset();\n  geoStream(object, lengthStream);\n  return +lengthSum;\n};\n\nvar coordinates = [null, null];\nvar object$1 = {type: \"LineString\", coordinates: coordinates};\n\nvar distance = function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length$1(object$1);\n};\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ab = distance(coordinates[0], coordinates[1]),\n      ao = distance(coordinates[0], point),\n      ob = distance(point, coordinates[1]);\n  return ao + ob <= ab + epsilon$2;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nvar contains = function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n};\n\nfunction graticuleX(y0, y1, dy) {\n  var y = sequence(y0, y1 - epsilon$2, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = sequence(x0, x1 - epsilon$2, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nfunction graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return sequence(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(sequence(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(sequence(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon$2; }).map(x))\n        .concat(sequence(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon$2; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon$2], [180, 90 - epsilon$2]])\n      .extentMinor([[-180, -80 - epsilon$2], [180, 80 + epsilon$2]]);\n}\n\nfunction graticule10() {\n  return graticule()();\n}\n\nvar interpolate$1 = function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos$1(y0),\n      sy0 = sin$1(y0),\n      cy1 = cos$1(y1),\n      sy1 = sin$1(y1),\n      kx0 = cy0 * cos$1(x0),\n      ky0 = cy0 * sin$1(x0),\n      kx1 = cy1 * cos$1(x1),\n      ky1 = cy1 * sin$1(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin$1(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin$1(t *= d) / k,\n        A = sin$1(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees$1,\n      atan2(z, sqrt(x * x + y * y)) * degrees$1\n    ];\n  } : function() {\n    return [x0 * degrees$1, y0 * degrees$1];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n};\n\nvar identity$4 = function(x) {\n  return x;\n};\n\nvar areaSum$1 = adder();\nvar areaRingSum$1 = adder();\nvar x00;\nvar y00;\nvar x0$1;\nvar y0$1;\n\nvar areaStream$1 = {\n  point: noop$1,\n  lineStart: noop$1,\n  lineEnd: noop$1,\n  polygonStart: function() {\n    areaStream$1.lineStart = areaRingStart$1;\n    areaStream$1.lineEnd = areaRingEnd$1;\n  },\n  polygonEnd: function() {\n    areaStream$1.lineStart = areaStream$1.lineEnd = areaStream$1.point = noop$1;\n    areaSum$1.add(abs(areaRingSum$1));\n    areaRingSum$1.reset();\n  },\n  result: function() {\n    var area = areaSum$1 / 2;\n    areaSum$1.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart$1() {\n  areaStream$1.point = areaPointFirst$1;\n}\n\nfunction areaPointFirst$1(x, y) {\n  areaStream$1.point = areaPoint$1;\n  x00 = x0$1 = x, y00 = y0$1 = y;\n}\n\nfunction areaPoint$1(x, y) {\n  areaRingSum$1.add(y0$1 * x - x0$1 * y);\n  x0$1 = x, y0$1 = y;\n}\n\nfunction areaRingEnd$1() {\n  areaPoint$1(x00, y00);\n}\n\nvar x0$2 = Infinity;\nvar y0$2 = x0$2;\nvar x1 = -x0$2;\nvar y1 = x1;\n\nvar boundsStream$1 = {\n  point: boundsPoint$1,\n  lineStart: noop$1,\n  lineEnd: noop$1,\n  polygonStart: noop$1,\n  polygonEnd: noop$1,\n  result: function() {\n    var bounds = [[x0$2, y0$2], [x1, y1]];\n    x1 = y1 = -(y0$2 = x0$2 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint$1(x, y) {\n  if (x < x0$2) x0$2 = x;\n  if (x > x1) x1 = x;\n  if (y < y0$2) y0$2 = y;\n  if (y > y1) y1 = y;\n}\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0$1 = 0;\nvar Y0$1 = 0;\nvar Z0$1 = 0;\nvar X1$1 = 0;\nvar Y1$1 = 0;\nvar Z1$1 = 0;\nvar X2$1 = 0;\nvar Y2$1 = 0;\nvar Z2$1 = 0;\nvar x00$1;\nvar y00$1;\nvar x0$3;\nvar y0$3;\n\nvar centroidStream$1 = {\n  point: centroidPoint$1,\n  lineStart: centroidLineStart$1,\n  lineEnd: centroidLineEnd$1,\n  polygonStart: function() {\n    centroidStream$1.lineStart = centroidRingStart$1;\n    centroidStream$1.lineEnd = centroidRingEnd$1;\n  },\n  polygonEnd: function() {\n    centroidStream$1.point = centroidPoint$1;\n    centroidStream$1.lineStart = centroidLineStart$1;\n    centroidStream$1.lineEnd = centroidLineEnd$1;\n  },\n  result: function() {\n    var centroid = Z2$1 ? [X2$1 / Z2$1, Y2$1 / Z2$1]\n        : Z1$1 ? [X1$1 / Z1$1, Y1$1 / Z1$1]\n        : Z0$1 ? [X0$1 / Z0$1, Y0$1 / Z0$1]\n        : [NaN, NaN];\n    X0$1 = Y0$1 = Z0$1 =\n    X1$1 = Y1$1 = Z1$1 =\n    X2$1 = Y2$1 = Z2$1 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint$1(x, y) {\n  X0$1 += x;\n  Y0$1 += y;\n  ++Z0$1;\n}\n\nfunction centroidLineStart$1() {\n  centroidStream$1.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream$1.point = centroidPointLine;\n  centroidPoint$1(x0$3 = x, y0$3 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0$3, dy = y - y0$3, z = sqrt(dx * dx + dy * dy);\n  X1$1 += z * (x0$3 + x) / 2;\n  Y1$1 += z * (y0$3 + y) / 2;\n  Z1$1 += z;\n  centroidPoint$1(x0$3 = x, y0$3 = y);\n}\n\nfunction centroidLineEnd$1() {\n  centroidStream$1.point = centroidPoint$1;\n}\n\nfunction centroidRingStart$1() {\n  centroidStream$1.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd$1() {\n  centroidPointRing(x00$1, y00$1);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream$1.point = centroidPointRing;\n  centroidPoint$1(x00$1 = x0$3 = x, y00$1 = y0$3 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0$3,\n      dy = y - y0$3,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1$1 += z * (x0$3 + x) / 2;\n  Y1$1 += z * (y0$3 + y) / 2;\n  Z1$1 += z;\n\n  z = y0$3 * x - x0$3 * y;\n  X2$1 += z * (x0$3 + x);\n  Y2$1 += z * (y0$3 + y);\n  Z2$1 += z * 3;\n  centroidPoint$1(x0$3 = x, y0$3 = y);\n}\n\nfunction PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau$3);\n        break;\n      }\n    }\n  },\n  result: noop$1\n};\n\nvar lengthSum$1 = adder();\nvar lengthRing;\nvar x00$2;\nvar y00$2;\nvar x0$4;\nvar y0$4;\n\nvar lengthStream$1 = {\n  point: noop$1,\n  lineStart: function() {\n    lengthStream$1.point = lengthPointFirst$1;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint$1(x00$2, y00$2);\n    lengthStream$1.point = noop$1;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum$1;\n    lengthSum$1.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst$1(x, y) {\n  lengthStream$1.point = lengthPoint$1;\n  x00$2 = x0$4 = x, y00$2 = y0$4 = y;\n}\n\nfunction lengthPoint$1(x, y) {\n  x0$4 -= x, y0$4 -= y;\n  lengthSum$1.add(sqrt(x0$4 * x0$4 + y0$4 * y0$4));\n  x0$4 = x, y0$4 = y;\n}\n\nfunction PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle$1(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle$1(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle$1(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n\nvar index$1 = function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      geoStream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    geoStream(object, projectionStream(areaStream$1));\n    return areaStream$1.result();\n  };\n\n  path.measure = function(object) {\n    geoStream(object, projectionStream(lengthStream$1));\n    return lengthStream$1.result();\n  };\n\n  path.bounds = function(object) {\n    geoStream(object, projectionStream(boundsStream$1));\n    return boundsStream$1.result();\n  };\n\n  path.centroid = function(object) {\n    geoStream(object, projectionStream(centroidStream$1));\n    return centroidStream$1.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity$4) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n};\n\nvar clip = function(pointVisible, clipLine, interpolate, start) {\n  return function(rotate, sink) {\n    var line = clipLine(sink),\n        rotatedStart = rotate.invert(start[0], start[1]),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, rotatedStart);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipPolygon(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      var point = rotate(lambda, phi);\n      if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      var point = rotate(lambda, phi);\n      line.point(point[0], point[1]);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      var point = rotate(lambda, phi);\n      ringSink.point(point[0], point[1]);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n};\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi$2 - epsilon$2 : halfPi$2 - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi$2 - epsilon$2 : halfPi$2 - b[1]);\n}\n\nvar clipAntimeridian = clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi$3, -halfPi$2]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi$3 : -pi$3,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi$3) < epsilon$2) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi$2 : -halfPi$2);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi$3) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon$2) lambda0 -= sign0 * epsilon$2; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon$2) lambda1 -= sign1 * epsilon$2;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin$1(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon$2\n      ? atan((sin$1(phi0) * (cosPhi1 = cos$1(phi1)) * sin$1(lambda1)\n          - sin$1(phi1) * (cosPhi0 = cos$1(phi0)) * sin$1(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi$2;\n    stream.point(-pi$3, phi);\n    stream.point(0, phi);\n    stream.point(pi$3, phi);\n    stream.point(pi$3, 0);\n    stream.point(pi$3, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi$3, -phi);\n    stream.point(-pi$3, 0);\n    stream.point(-pi$3, phi);\n  } else if (abs(from[0] - to[0]) > epsilon$2) {\n    var lambda = from[0] < to[0] ? pi$3 : -pi$3;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n\nvar clipCircle = function(radius, delta) {\n  var cr = cos$1(radius),\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon$2; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos$1(lambda) * cos$1(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi$3 : -pi$3), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon$2;\n            point1[1] += epsilon$2;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi$3) < epsilon$2,\n        meridian = polar || delta < epsilon$2;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon$2 ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi$3 ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi$3 - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi$3, radius - pi$3]);\n};\n\nvar transform = function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n};\n\nfunction transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n\nfunction fitExtent(projection, extent, object) {\n  var w = extent[1][0] - extent[0][0],\n      h = extent[1][1] - extent[0][1],\n      clip = projection.clipExtent && projection.clipExtent();\n\n  projection\n      .scale(150)\n      .translate([0, 0]);\n\n  if (clip != null) projection.clipExtent(null);\n\n  geoStream(object, projection.stream(boundsStream$1));\n\n  var b = boundsStream$1.result(),\n      k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n      x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n      y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n  if (clip != null) projection.clipExtent(clip);\n\n  return projection\n      .scale(k * 150)\n      .translate([x, y]);\n}\n\nfunction fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nvar maxDepth = 16;\nvar cosMinDistance = cos$1(30 * radians); // cos(minimum angular distance)\n\nvar resample = function(project, delta2) {\n  return +delta2 ? resample$1(project, delta2) : resampleNone(project);\n};\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample$1(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon$2 || abs(lambda0 - lambda1) < epsilon$2 ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nfunction projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      dx, dy, lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n      theta = null, preclip = clipAntimeridian, // clip angle\n      x0 = null, y0, x1, y1, postclip = identity$4, // clip extent\n      delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    point = projectRotate(point[0] * radians, point[1] * radians);\n    return [point[0] * k + dx, dy - point[1] * k];\n  }\n\n  function invert(point) {\n    point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n    return point && [point[0] * degrees$1, point[1] * degrees$1];\n  }\n\n  function projectTransform(x, y) {\n    return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees$1;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity$4) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees$1, phi * degrees$1];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees$1, deltaPhi * degrees$1, deltaGamma * degrees$1];\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  function recenter() {\n    projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n    var center = project(lambda, phi);\n    dx = x - center[0] * k;\n    dy = y + center[1] * k;\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n\nfunction conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi$3 / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees$1, phi1 * degrees$1];\n  };\n\n  return p;\n}\n\nfunction cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos$1(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin$1(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n\nfunction conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin$1(y0), n = (sy0 + sin$1(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon$2) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin$1(y)) / n;\n    return [r * sin$1(x *= n), r0 - r * cos$1(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nvar conicEqualArea = function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n};\n\nvar albers = function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n};\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nvar albersUsa = function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon$2, y + 0.120 * k + epsilon$2], [x - 0.214 * k - epsilon$2, y + 0.234 * k - epsilon$2]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon$2, y + 0.166 * k + epsilon$2], [x - 0.115 * k - epsilon$2, y + 0.234 * k - epsilon$2]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n};\n\nfunction azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos$1(x),\n        cy = cos$1(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin$1(x),\n      k * sin$1(y)\n    ];\n  }\n}\n\nfunction azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin$1(c),\n        cc = cos$1(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n\nvar azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nvar azimuthalEqualArea = function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n};\n\nvar azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin$1(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nvar azimuthalEquidistant = function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n};\n\nfunction mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi$2 + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi$2];\n};\n\nvar mercator = function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau$3);\n};\n\nfunction mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi$3 * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n\nfunction tany(y) {\n  return tan((halfPi$2 + y) / 2);\n}\n\nfunction conicConformalRaw(y0, y1) {\n  var cy0 = cos$1(y0),\n      n = y0 === y1 ? sin$1(y0) : log(cy0 / cos$1(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi$2 + epsilon$2) y = -halfPi$2 + epsilon$2; }\n    else { if (y > halfPi$2 - epsilon$2) y = halfPi$2 - epsilon$2; }\n    var r = f / pow(tany(y), n);\n    return [r * sin$1(n * x), f - r * cos$1(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi$2];\n  };\n\n  return project;\n}\n\nvar conicConformal = function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n};\n\nfunction equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nvar equirectangular = function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n};\n\nfunction conicEquidistantRaw(y0, y1) {\n  var cy0 = cos$1(y0),\n      n = y0 === y1 ? sin$1(y0) : (cy0 - cos$1(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon$2) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin$1(nx), g - gy * cos$1(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nvar conicEquidistant = function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n};\n\nfunction gnomonicRaw(x, y) {\n  var cy = cos$1(y), k = cos$1(x) * cy;\n  return [cy * sin$1(x) / k, sin$1(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nvar gnomonic = function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n};\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity$4 : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nvar identity$5 = function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform$$1 = identity$4, // scale, translate and reflect\n      x0 = null, y0, x1, y1, clip = identity$4, // clip extent\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform$$1(clip(cacheStream = stream));\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (clip = _ == null ? (x0 = y0 = x1 = y1 = null, identity$4) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform$$1 = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform$$1 = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform$$1 = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform$$1 = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    }\n  };\n};\n\nfunction orthographicRaw(x, y) {\n  return [cos$1(y) * sin$1(x), sin$1(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nvar orthographic = function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon$2);\n};\n\nfunction stereographicRaw(x, y) {\n  var cy = cos$1(y), k = 1 + cos$1(x) * cy;\n  return [cy * sin$1(x) / k, sin$1(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nvar stereographic = function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n};\n\nfunction transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi$2 + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi$2];\n};\n\nvar transverseMercator = function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n};\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nvar cluster = function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n};\n\nfunction count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nvar node_count = function() {\n  return this.eachAfter(count);\n};\n\nvar node_each = function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n};\n\nvar node_eachBefore = function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n};\n\nvar node_eachAfter = function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n};\n\nvar node_sum = function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n};\n\nvar node_sort = function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n};\n\nvar node_path = function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n};\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n\nvar node_ancestors = function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n};\n\nvar node_descendants = function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n};\n\nvar node_leaves = function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n};\n\nvar node_links = function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n};\n\nfunction hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nfunction computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nfunction Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n\nvar slice$3 = Array.prototype.slice;\n\nfunction shuffle$1(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n\nvar enclose = function(circles) {\n  var i = 0, n = (circles = shuffle$1(slice$3.call(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n};\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n\nfunction place(a, b, c) {\n  var ax = a.x,\n      ay = a.y,\n      da = b.r + c.r,\n      db = a.r + c.r,\n      dx = b.x - ax,\n      dy = b.y - ay,\n      dc = dx * dx + dy * dy;\n  if (dc) {\n    var x = 0.5 + ((db *= db) - (da *= da)) / (2 * dc),\n        y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n    c.x = ax + x * dx + y * dy;\n    c.y = ay + x * dy - y * dx;\n  } else {\n    c.x = ax + db;\n    c.y = ay;\n  }\n}\n\nfunction intersects(a, b) {\n  var dx = b.x - a.x,\n      dy = b.y - a.y,\n      dr = a.r + b.r;\n  return dr * dr - 1e-6 > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node$1(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nfunction packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node$1(a), b = new Node$1(b), c = new Node$1(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node$1(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nvar siblings = function(circles) {\n  packEnclose(circles);\n  return circles;\n};\n\nfunction optional(f) {\n  return f == null ? null : required(f);\n}\n\nfunction required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n\nfunction constantZero() {\n  return 0;\n}\n\nvar constant$8 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction defaultRadius$1(d) {\n  return Math.sqrt(d.value);\n}\n\nvar index$2 = function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius$1))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant$8(+x), pack) : padding;\n  };\n\n  return pack;\n};\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n\nvar roundNode = function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n};\n\nvar treemapDice = function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n};\n\nvar partition = function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n};\n\nvar keyPrefix$1 = \"$\";\nvar preroot = {depth: -1};\nvar ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nvar stratify = function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var d,\n        i,\n        n = data.length,\n        root,\n        parent,\n        node,\n        nodes = new Array(n),\n        nodeId,\n        nodeKey,\n        nodeByKey = {};\n\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix$1 + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix$1 + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n};\n\nfunction defaultSeparation$1(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nvar tree = function() {\n  var separation = defaultSeparation$1,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n};\n\nvar treemapSlice = function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n};\n\nvar phi = (1 + Math.sqrt(5)) / 2;\n\nfunction squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nvar squarify = (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n\nvar index$3 = function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant$8(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n};\n\nvar binary = function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = (x0 * valueRight + x1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = (y0 * valueRight + y1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n};\n\nvar sliceDice = function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? treemapSlice : treemapDice)(parent, x0, y0, x1, y1);\n};\n\nvar resquarify = (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n\nvar area$1 = function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n};\n\nvar centroid$1 = function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n};\n\n// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nvar cross$1 = function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n};\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  var n = points.length,\n      indexes = [0, 1],\n      size = 2;\n\n  for (var i = 2; i < n; ++i) {\n    while (size > 1 && cross$1(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nvar hull = function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n};\n\nvar contains$1 = function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n};\n\nvar length$2 = function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.sqrt(xa * xa + ya * ya);\n  }\n\n  return perimeter;\n};\n\nvar slice$4 = [].slice;\n\nvar noabort = {};\n\nfunction Queue(size) {\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"defer after await\");\n    if (this._error != null) return this;\n    var t = slice$4.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke$1(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke$1(q) {\n  if (!q._start) {\n    try { start$1(q); } // let the current task complete\n    catch (e) {\n      if (q._tasks[q._ended + q._active - 1]) abort(q, e); // task errored synchronously\n      else if (!q._data) throw e; // await callback errored synchronously\n    }\n  }\n}\n\nfunction start$1(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke$1(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) {\n        try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) {\n    var d = q._data;\n    q._data = undefined; // allow gc\n    q._call(q._error, d);\n  }\n}\n\nfunction queue(concurrency) {\n  if (concurrency == null) concurrency = Infinity;\n  else if (!((concurrency = +concurrency) >= 1)) throw new Error(\"invalid concurrency\");\n  return new Queue(concurrency);\n}\n\nvar defaultSource$1 = function() {\n  return Math.random();\n};\n\nvar uniform = (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource$1);\n\nvar normal = (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource$1);\n\nvar logNormal = (function sourceRandomLogNormal(source) {\n  function randomLogNormal() {\n    var randomNormal = normal.source(source).apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource$1);\n\nvar irwinHall = (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    return function() {\n      for (var sum = 0, i = 0; i < n; ++i) sum += source();\n      return sum;\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource$1);\n\nvar bates = (function sourceRandomBates(source) {\n  function randomBates(n) {\n    var randomIrwinHall = irwinHall.source(source)(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource$1);\n\nvar exponential$1 = (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log(1 - source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource$1);\n\nvar request = function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map$1(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", ).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", ).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n};\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n\nvar type$1 = function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n};\n\nvar html = type$1(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n\nvar json = type$1(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n\nvar text = type$1(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n\nvar xml = type$1(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n\nvar dsv$1 = function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n};\n\nfunction responseOf(parse, row) {\n  return function(request$$1) {\n    return parse(request$$1.responseText, row);\n  };\n}\n\nvar csv$1 = dsv$1(\"text/csv\", csvParse);\n\nvar tsv$1 = dsv$1(\"text/tab-separated-values\", tsvParse);\n\nvar array$2 = Array.prototype;\n\nvar map$3 = array$2.map;\nvar slice$5 = array$2.slice;\n\nvar implicit = {name: \"implicit\"};\n\nfunction ordinal(range) {\n  var index = map$1(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice$5.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map$1();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice$5.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nfunction point$1() {\n  return pointish(band().paddingInner(1));\n}\n\nvar constant$9 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar number$2 = function(x) {\n  return +x;\n};\n\nvar unit = [0, 1];\n\nfunction deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant$9(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate$$1) {\n  return function(a, b) {\n    var r = reinterpolate$$1(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate$$1) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate$$1(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate$$1(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate$$1) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate$$1(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nfunction continuous(deinterpolate, reinterpolate$$1) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate$$1) : reinterpolate$$1)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map$3.call(_, number$2), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice$5.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice$5.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n\nvar tickFormat = function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return exports.formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return exports.format(specifier);\n};\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear$2() {\n  var scale = continuous(deinterpolateLinear, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear$2());\n  };\n\n  return linearish(scale);\n}\n\nfunction identity$6() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map$3.call(_, number$2), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity$6().domain(domain);\n  };\n\n  return linearish(scale);\n}\n\nvar nice = function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n};\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant$9(b);\n}\n\nfunction reinterpolate$1(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nfunction log$1() {\n  var scale = continuous(deinterpolate, reinterpolate$1).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = exports.format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log$1().base(base));\n  };\n\n  return scale;\n}\n\nfunction raise$1(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nfunction pow$1() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise$1(b, exponent) - (a = raise$1(a, exponent)))\n        ? function(x) { return (raise$1(x, exponent) - a) / b; }\n        : constant$9(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise$1(b, exponent) - (a = raise$1(a, exponent));\n    return function(t) { return raise$1(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow$1().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nfunction sqrt$1() {\n  return pow$1().exponent(0.5);\n}\n\nfunction quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisectRight(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice$5.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n\nfunction quantize$1() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisectRight(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice$5.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize$1()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n\nfunction threshold$1() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisectRight(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice$5.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice$5.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold$1()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n\nvar t0$1 = new Date;\nvar t1$1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0$1.setTime(+start), t1$1.setTime(+end);\n      floori(t0$1), floori(t1$1);\n      return Math.floor(count(t0$1, t1$1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar milliseconds = millisecond.range;\n\nvar durationSecond$1 = 1e3;\nvar durationMinute$1 = 6e4;\nvar durationHour$1 = 36e5;\nvar durationDay$1 = 864e5;\nvar durationWeek$1 = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationSecond$1) * durationSecond$1);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond$1);\n}, function(start, end) {\n  return (end - start) / durationSecond$1;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar seconds = second.range;\n\nvar minute = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationMinute$1) * durationMinute$1);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute$1);\n}, function(start, end) {\n  return (end - start) / durationMinute$1;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar minutes = minute.range;\n\nvar hour = newInterval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute$1 % durationHour$1;\n  if (offset < 0) offset += durationHour$1;\n  date.setTime(Math.floor((+date - offset) / durationHour$1) * durationHour$1 + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour$1);\n}, function(start, end) {\n  return (end - start) / durationHour$1;\n}, function(date) {\n  return date.getHours();\n});\n\nvar hours = hour.range;\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute$1) / durationDay$1;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute$1) / durationWeek$1;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar months = month.range;\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar years = year.range;\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute$1);\n}, function(start, end) {\n  return (end - start) / durationMinute$1;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour$1);\n}, function(start, end) {\n  return (end - start) / durationHour$1;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay$1;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek$1;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nvar utcYears = utcYear.range;\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day$$1 = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$$1 + 5) % 7 : d.w + d.U * 7 - (day$$1 + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\nvar numberRe = /^\\s*\\d+/;\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nvar locale$2;\n\n\n\n\n\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$2 = formatLocale$1(definition);\n  exports.timeFormat = locale$2.format;\n  exports.timeParse = locale$2.parse;\n  exports.utcFormat = locale$2.utcFormat;\n  exports.utcParse = locale$2.utcParse;\n  return locale$2;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : exports.utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : exports.utcParse(isoSpecifier);\n\nvar durationSecond = 1000;\nvar durationMinute = durationSecond * 60;\nvar durationHour = durationMinute * 60;\nvar durationDay = durationHour * 24;\nvar durationWeek = durationDay * 7;\nvar durationMonth = durationDay * 30;\nvar durationYear = durationDay * 365;\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$3(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(year$$1, month$$1, week, day$$1, hour$$1, minute$$1, second$$1, millisecond$$1, format) {\n  var scale = continuous(deinterpolateLinear, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second$$1,  1,      durationSecond],\n    [second$$1,  5,  5 * durationSecond],\n    [second$$1, 15, 15 * durationSecond],\n    [second$$1, 30, 30 * durationSecond],\n    [minute$$1,  1,      durationMinute],\n    [minute$$1,  5,  5 * durationMinute],\n    [minute$$1, 15, 15 * durationMinute],\n    [minute$$1, 30, 30 * durationMinute],\n    [  hour$$1,  1,      durationHour  ],\n    [  hour$$1,  3,  3 * durationHour  ],\n    [  hour$$1,  6,  6 * durationHour  ],\n    [  hour$$1, 12, 12 * durationHour  ],\n    [   day$$1,  1,      durationDay   ],\n    [   day$$1,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month$$1,  1,      durationMonth ],\n    [ month$$1,  3,  3 * durationMonth ],\n    [  year$$1,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date$$1) {\n    return (second$$1(date$$1) < date$$1 ? formatMillisecond\n        : minute$$1(date$$1) < date$$1 ? formatSecond\n        : hour$$1(date$$1) < date$$1 ? formatMinute\n        : day$$1(date$$1) < date$$1 ? formatHour\n        : month$$1(date$$1) < date$$1 ? (week(date$$1) < date$$1 ? formatDay : formatWeek)\n        : year$$1(date$$1) < date$$1 ? formatMonth\n        : formatYear)(date$$1);\n  }\n\n  function tickInterval(interval$$1, start, stop, step) {\n    if (interval$$1 == null) interval$$1 = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval$$1 === \"number\") {\n      var target = Math.abs(stop - start) / interval$$1,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval$$1);\n        interval$$1 = year$$1;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval$$1 = i[0];\n      } else {\n        step = tickStep(start, stop, interval$$1);\n        interval$$1 = millisecond$$1;\n      }\n    }\n\n    return step == null ? interval$$1 : interval$$1.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map$3.call(_, number$3)) : domain().map(date$1);\n  };\n\n  scale.ticks = function(interval$$1, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval$$1, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval$$1, step) {\n    var d = domain();\n    return (interval$$1 = tickInterval(interval$$1, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval$$1))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year$$1, month$$1, week, day$$1, hour$$1, minute$$1, second$$1, millisecond$$1, format));\n  };\n\n  return scale;\n}\n\nvar time = function() {\n  return calendar(year, month, sunday, day, hour, minute, second, millisecond, exports.timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n};\n\nvar utcTime = function() {\n  return calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, exports.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n};\n\nvar colors = function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n};\n\nvar category10 = colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n\nvar category20b = colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n\nvar category20c = colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n\nvar category20 = colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n\nvar cubehelix$3 = cubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n\nvar warm = cubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar cool = cubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nvar rainbow$1 = function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n};\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nvar viridis = ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nvar magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nvar inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nvar plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n\nfunction sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n\nvar constant$10 = function(x) {\n  return function constant() {\n    return x;\n  };\n};\n\nvar abs$1 = Math.abs;\nvar atan2$1 = Math.atan2;\nvar cos$2 = Math.cos;\nvar max$2 = Math.max;\nvar min$1 = Math.min;\nvar sin$2 = Math.sin;\nvar sqrt$2 = Math.sqrt;\n\nvar epsilon$3 = 1e-12;\nvar pi$4 = Math.PI;\nvar halfPi$3 = pi$4 / 2;\nvar tau$4 = 2 * pi$4;\n\nfunction acos$1(x) {\n  return x > 1 ? 0 : x < -1 ? pi$4 : Math.acos(x);\n}\n\nfunction asin$1(x) {\n  return x >= 1 ? halfPi$3 : x <= -1 ? -halfPi$3 : Math.asin(x);\n}\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt$2(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt$2(max$2(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nvar arc = function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant$10(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi$3,\n        a1 = endAngle.apply(this, arguments) - halfPi$3,\n        da = abs$1(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon$3)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau$4 - epsilon$3) {\n      context.moveTo(r1 * cos$2(a0), r1 * sin$2(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon$3) {\n        context.moveTo(r0 * cos$2(a1), r0 * sin$2(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon$3) && (padRadius ? +padRadius.apply(this, arguments) : sqrt$2(r0 * r0 + r1 * r1)),\n          rc = min$1(abs$1(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon$3) {\n        var p0 = asin$1(rp / r0 * sin$2(ap)),\n            p1 = asin$1(rp / r1 * sin$2(ap));\n        if ((da0 -= p0 * 2) > epsilon$3) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon$3) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos$2(a01),\n          y01 = r1 * sin$2(a01),\n          x10 = r0 * cos$2(a10),\n          y10 = r0 * sin$2(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon$3) {\n        var x11 = r1 * cos$2(a11),\n            y11 = r1 * sin$2(a11),\n            x00 = r0 * cos$2(a00),\n            y00 = r0 * sin$2(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi$4) {\n          var oc = da0 > epsilon$3 ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin$2(acos$1((ax * bx + ay * by) / (sqrt$2(ax * ax + ay * ay) * sqrt$2(bx * bx + by * by))) / 2),\n              lc = sqrt$2(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min$1(rc, (r0 - lc) / (kc - 1));\n          rc1 = min$1(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon$3)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon$3) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2$1(t0.y01, t0.x01), atan2$1(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2$1(t0.y01, t0.x01), atan2$1(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2$1(t0.cy + t0.y11, t0.cx + t0.x11), atan2$1(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2$1(t1.y11, t1.x11), atan2$1(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon$3) || !(da0 > epsilon$3)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon$3) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2$1(t0.y01, t0.x01), atan2$1(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2$1(t0.y01, t0.x01), atan2$1(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2$1(t0.cy + t0.y11, t0.cx + t0.x11), atan2$1(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2$1(t1.y11, t1.x11), atan2$1(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi$4 / 2;\n    return [cos$2(a) * r, sin$2(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant$10(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant$10(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant$10(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant$10(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$10(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$10(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$10(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n};\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nvar curveLinear = function(context) {\n  return new Linear(context);\n};\n\nfunction x$3(p) {\n  return p[0];\n}\n\nfunction y$3(p) {\n  return p[1];\n}\n\nvar line = function() {\n  var x = x$3,\n      y = y$3,\n      defined = constant$10(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$10(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$10(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$10(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n};\n\nvar area$2 = function() {\n  var x0 = x$3,\n      x1 = null,\n      y0 = constant$10(0),\n      y1 = y$3,\n      defined = constant$10(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$10(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$10(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$10(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$10(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$10(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$10(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$10(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n};\n\nvar descending$1 = function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n};\n\nvar identity$7 = function(d) {\n  return d;\n};\n\nvar pie = function() {\n  var value = identity$7,\n      sortValues = descending$1,\n      sort = null,\n      startAngle = constant$10(0),\n      endAngle = constant$10(tau$4),\n      padAngle = constant$10(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau$4, Math.max(-tau$4, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$10(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$10(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$10(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$10(+_), pie) : padAngle;\n  };\n\n  return pie;\n};\n\nvar curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nfunction curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n\nfunction lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nvar lineRadial$1 = function() {\n  return lineRadial(line().curve(curveRadialLinear));\n};\n\nvar areaRadial = function() {\n  var a = area$2().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n};\n\nvar pointRadial = function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n};\n\nvar slice$6 = Array.prototype.slice;\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link$2(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = x$3,\n      y = y$3,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice$6.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$10(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$10(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial$1(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nfunction linkHorizontal() {\n  return link$2(curveHorizontal);\n}\n\nfunction linkVertical() {\n  return link$2(curveVertical);\n}\n\nfunction linkRadial() {\n  var l = link$2(curveRadial$1);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n\nvar circle$2 = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi$4);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau$4);\n  }\n};\n\nvar cross$2 = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n\nvar tan30 = Math.sqrt(1 / 3);\nvar tan30_2 = tan30 * 2;\n\nvar diamond = {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n\nvar ka = 0.89081309152928522810;\nvar kr = Math.sin(pi$4 / 10) / Math.sin(7 * pi$4 / 10);\nvar kx = Math.sin(tau$4 / 10) * kr;\nvar ky = -Math.cos(tau$4 / 10) * kr;\n\nvar star = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau$4 * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n\nvar square = {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n\nvar sqrt3 = Math.sqrt(3);\n\nvar triangle = {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n\nvar c = -0.5;\nvar s = Math.sqrt(3) / 2;\nvar k = 1 / Math.sqrt(12);\nvar a = (k / 2 + 1) * 3;\n\nvar wye = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n\nvar symbols = [\n  circle$2,\n  cross$2,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nvar symbol = function() {\n  var type = constant$10(circle$2),\n      size = constant$10(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant$10(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant$10(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n};\n\nvar noop$2 = function() {};\n\nfunction point$2(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point$2(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point$2(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nvar basis$2 = function(context) {\n  return new Basis(context);\n};\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop$2,\n  areaEnd: noop$2,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point$2(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nvar basisClosed$1 = function(context) {\n  return new BasisClosed(context);\n};\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point$2(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nvar basisOpen = function(context) {\n  return new BasisOpen(context);\n};\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nvar bundle = (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n\nfunction point$3(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point$3(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point$3(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop$2,\n  areaEnd: noop$2,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$3(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = (function custom(tension) {\n\n  function cardinal$$1(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal$$1.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal$$1;\n})(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$3(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = (function custom(tension) {\n\n  function cardinal$$1(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal$$1.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal$$1;\n})(0);\n\nfunction point$4(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon$3) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon$3) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point$4(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop$2,\n  areaEnd: noop$2,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$4(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = (function custom(alpha) {\n\n  function catmullRom$$1(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom$$1.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom$$1;\n})(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$4(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = (function custom(alpha) {\n\n  function catmullRom$$1(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom$$1.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom$$1;\n})(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop$2,\n  areaEnd: noop$2,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nvar linearClosed = function(context) {\n  return new LinearClosed(context);\n};\n\nfunction sign$1(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign$1(s0) + sign$1(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point$5(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point$5(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point$5(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point$5(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nvar natural = function(context) {\n  return new Natural(context);\n};\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nvar step = function(context) {\n  return new Step(context, 0.5);\n};\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nvar none$1 = function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n};\n\nvar none$2 = function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n};\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nvar stack = function() {\n  var keys = constant$10([]),\n      order = none$2,\n      offset = none$1,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant$10(slice$6.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$10(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? none$2 : typeof _ === \"function\" ? _ : constant$10(slice$6.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? none$1 : _, stack) : offset;\n  };\n\n  return stack;\n};\n\nvar expand = function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none$1(series, order);\n};\n\nvar diverging = function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n};\n\nvar silhouette = function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none$1(series, order);\n};\n\nvar wiggle = function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none$1(series, order);\n};\n\nvar ascending$2 = function(series) {\n  var sums = series.map(sum$2);\n  return none$2(series).sort(function(a, b) { return sums[a] - sums[b]; });\n};\n\nfunction sum$2(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n\nvar descending$2 = function(series) {\n  return ascending$2(series).reverse();\n};\n\nvar insideOut = function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum$2),\n      order = none$2(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n};\n\nvar reverse = function(series) {\n  return none$2(series).reverse();\n};\n\nvar constant$11 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction x$4(d) {\n  return d[0];\n}\n\nfunction y$4(d) {\n  return d[1];\n}\n\nfunction RedBlackTree() {\n  this._ = null; // root node\n}\n\nfunction RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nfunction createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nfunction createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nfunction setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nfunction clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon$4\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon$4)) {\n      delete edges[i];\n    }\n  }\n}\n\nfunction createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nfunction cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nfunction cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nfunction sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nfunction clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon$4 || Math.abs(endY - startY) > epsilon$4) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon$4 && y1 - endY > epsilon$4 ? [x0, Math.abs(startX - x0) < epsilon$4 ? startY : y1]\n              : Math.abs(endY - y1) < epsilon$4 && x1 - endX > epsilon$4 ? [Math.abs(startY - y1) < epsilon$4 ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon$4 && endY - y0 > epsilon$4 ? [x1, Math.abs(startX - x1) < epsilon$4 ? startY : y0]\n              : Math.abs(endY - y0) < epsilon$4 && endX - x0 > epsilon$4 ? [Math.abs(startY - y0) < epsilon$4 ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n\nvar circlePool = [];\n\nvar firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nfunction attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2$2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nfunction detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nfunction removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon$4\n      && Math.abs(y - lArc.circle.cy) < epsilon$4) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon$4\n      && Math.abs(y - rArc.circle.cy) < epsilon$4) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon$4) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon$4) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon$4) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon$4) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n\nvar epsilon$4 = 1e-6;\nvar epsilon2$2 = 1e-12;\nvar beaches;\nvar cells;\nvar circles;\nvar edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nfunction Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n};\n\nvar voronoi = function() {\n  var x = x$4,\n      y = y$4,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon$4) * epsilon$4, Math.round(y(d, i, data) / epsilon$4) * epsilon$4];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$11(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$11(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n};\n\nvar constant$12 = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nvar identity$8 = new Transform(1, 0, 0);\n\ntransform$1.prototype = Transform.prototype;\n\nfunction transform$1(node) {\n  return node.__zoom || identity$8;\n}\n\nfunction nopropagation$2() {\n  exports.event.stopImmediatePropagation();\n}\n\nvar noevent$2 = function() {\n  exports.event.preventDefault();\n  exports.event.stopImmediatePropagation();\n};\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter$2() {\n  return !exports.event.button;\n}\n\nfunction defaultExtent$1() {\n  var e = this, w, h;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    w = e.width.baseVal.value;\n    h = e.height.baseVal.value;\n  } else {\n    w = e.clientWidth;\n    h = e.clientHeight;\n  }\n  return [[0, 0], [w, h]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity$8;\n}\n\nfunction defaultWheelDelta() {\n  return -exports.event.deltaY * (exports.event.deltaMode ? 120 : 1) / 500;\n}\n\nfunction touchable$1() {\n  return \"ontouchstart\" in this;\n}\n\nvar zoom = function() {\n  var filter = defaultFilter$2,\n      extent = defaultExtent$1,\n      wheelDelta = defaultWheelDelta,\n      k0 = 0,\n      k1 = Infinity,\n      x0 = -k1,\n      x1 = k1,\n      y0 = x0,\n      y1 = x1,\n      duration = 250,\n      interpolate = interpolateZoom,\n      gestures = [],\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection$$1) {\n    selection$$1\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable$1)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform$$1) {\n    var selection$$1 = collection.selection ? collection.selection() : collection;\n    selection$$1.property(\"__zoom\", defaultTransform);\n    if (collection !== selection$$1) {\n      schedule(collection, transform$$1);\n    } else {\n      selection$$1.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform$$1 === \"function\" ? transform$$1.apply(this, arguments) : transform$$1)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection$$1, k) {\n    zoom.scaleTo(selection$$1, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    });\n  };\n\n  zoom.scaleTo = function(selection$$1, k) {\n    zoom.transform(selection$$1, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = centroid(e),\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e);\n    });\n  };\n\n  zoom.translateBy = function(selection$$1, x, y) {\n    zoom.transform(selection$$1, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments));\n    });\n  };\n\n  zoom.translateTo = function(selection$$1, x, y) {\n    zoom.transform(selection$$1, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p = centroid(e);\n      return constrain(identity$8.translate(p[0], p[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e);\n    });\n  };\n\n  function scale(transform$$1, k) {\n    k = Math.max(k0, Math.min(k1, k));\n    return k === transform$$1.k ? transform$$1 : new Transform(k, transform$$1.x, transform$$1.y);\n  }\n\n  function translate(transform$$1, p0, p1) {\n    var x = p0[0] - p1[0] * transform$$1.k, y = p0[1] - p1[1] * transform$$1.k;\n    return x === transform$$1.x && y === transform$$1.y ? transform$$1 : new Transform(transform$$1.k, x, y);\n  }\n\n  function constrain(transform$$1, extent) {\n    var dx0 = transform$$1.invertX(extent[0][0]) - x0,\n        dx1 = transform$$1.invertX(extent[1][0]) - x1,\n        dy0 = transform$$1.invertY(extent[0][1]) - y0,\n        dy1 = transform$$1.invertY(extent[1][1]) - y1;\n    return transform$$1.translate(\n      dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n      dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n    );\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition$$1, transform$$1, center) {\n    transition$$1\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = center || centroid(e),\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform$$1 === \"function\" ? transform$$1.apply(that, args) : transform$$1,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args) {\n    for (var i = 0, n = gestures.length, g; i < n; ++i) {\n      if ((g = gestures[i]).that === that) {\n        return g;\n      }\n    }\n    return new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.index = -1;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.index = gestures.push(this) - 1;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform$$1) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform$$1.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform$$1.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform$$1.invert(this.touch1[0]);\n      this.that.__zoom = transform$$1;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        gestures.splice(this.index, 1);\n        this.index = -1;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(k0, Math.min(k1, t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent$2();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        v = select(exports.event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = exports.event.clientX,\n        y0 = exports.event.clientY;\n\n    dragDisable(exports.event.view);\n    nopropagation$2();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent$2();\n      if (!g.moved) {\n        var dx = exports.event.clientX - x0, dy = exports.event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(exports.event.view, g.moved);\n      noevent$2();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (exports.event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments));\n\n    noevent$2();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        touches$$1 = exports.event.changedTouches,\n        started,\n        n = touches$$1.length, i, t, p;\n\n    nopropagation$2();\n    for (i = 0; i < n; ++i) {\n      t = touches$$1[i], p = touch(this, touches$$1, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true;\n      else if (!g.touch1) g.touch1 = p;\n    }\n\n    // If this is a dbltap, reroute to the (optional) dblclick.zoom handler.\n    if (touchstarting) {\n      touchstarting = clearTimeout(touchstarting);\n      if (!g.touch1) {\n        g.end();\n        p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n        return;\n      }\n    }\n\n    if (started) {\n      touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    var g = gesture(this, arguments),\n        touches$$1 = exports.event.changedTouches,\n        n = touches$$1.length, i, t, p, l;\n\n    noevent$2();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    for (i = 0; i < n; ++i) {\n      t = touches$$1[i], p = touch(this, touches$$1, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent));\n  }\n\n  function touchended() {\n    var g = gesture(this, arguments),\n        touches$$1 = exports.event.changedTouches,\n        n = touches$$1.length, i, t;\n\n    nopropagation$2();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches$$1[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else g.end();\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant$12(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$12(!!_), zoom) : filter;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$12([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (k0 = +_[0], k1 = +_[1], zoom) : [k0, k1];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], zoom) : [[x0, y0], [x1, y1]];\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n};\n\nexports.version = version;\nexports.bisect = bisectRight;\nexports.bisectRight = bisectRight;\nexports.bisectLeft = bisectLeft;\nexports.ascending = ascending;\nexports.bisector = bisector;\nexports.cross = cross;\nexports.descending = descending;\nexports.deviation = deviation;\nexports.extent = extent;\nexports.histogram = histogram;\nexports.thresholdFreedmanDiaconis = freedmanDiaconis;\nexports.thresholdScott = scott;\nexports.thresholdSturges = sturges;\nexports.max = max;\nexports.mean = mean;\nexports.median = median;\nexports.merge = merge;\nexports.min = min;\nexports.pairs = pairs;\nexports.permute = permute;\nexports.quantile = threshold;\nexports.range = sequence;\nexports.scan = scan;\nexports.shuffle = shuffle;\nexports.sum = sum;\nexports.ticks = ticks;\nexports.tickIncrement = tickIncrement;\nexports.tickStep = tickStep;\nexports.transpose = transpose;\nexports.variance = variance;\nexports.zip = zip;\nexports.axisTop = axisTop;\nexports.axisRight = axisRight;\nexports.axisBottom = axisBottom;\nexports.axisLeft = axisLeft;\nexports.brush = brush;\nexports.brushX = brushX;\nexports.brushY = brushY;\nexports.brushSelection = brushSelection;\nexports.chord = chord;\nexports.ribbon = ribbon;\nexports.nest = nest;\nexports.set = set$2;\nexports.map = map$1;\nexports.keys = keys;\nexports.values = values;\nexports.entries = entries;\nexports.color = color;\nexports.rgb = rgb;\nexports.hsl = hsl;\nexports.lab = lab;\nexports.hcl = hcl;\nexports.cubehelix = cubehelix;\nexports.dispatch = dispatch;\nexports.drag = drag;\nexports.dragDisable = dragDisable;\nexports.dragEnable = yesdrag;\nexports.dsvFormat = dsv;\nexports.csvParse = csvParse;\nexports.csvParseRows = csvParseRows;\nexports.csvFormat = csvFormat;\nexports.csvFormatRows = csvFormatRows;\nexports.tsvParse = tsvParse;\nexports.tsvParseRows = tsvParseRows;\nexports.tsvFormat = tsvFormat;\nexports.tsvFormatRows = tsvFormatRows;\nexports.easeLinear = linear$1;\nexports.easeQuad = quadInOut;\nexports.easeQuadIn = quadIn;\nexports.easeQuadOut = quadOut;\nexports.easeQuadInOut = quadInOut;\nexports.easeCubic = cubicInOut;\nexports.easeCubicIn = cubicIn;\nexports.easeCubicOut = cubicOut;\nexports.easeCubicInOut = cubicInOut;\nexports.easePoly = polyInOut;\nexports.easePolyIn = polyIn;\nexports.easePolyOut = polyOut;\nexports.easePolyInOut = polyInOut;\nexports.easeSin = sinInOut;\nexports.easeSinIn = sinIn;\nexports.easeSinOut = sinOut;\nexports.easeSinInOut = sinInOut;\nexports.easeExp = expInOut;\nexports.easeExpIn = expIn;\nexports.easeExpOut = expOut;\nexports.easeExpInOut = expInOut;\nexports.easeCircle = circleInOut;\nexports.easeCircleIn = circleIn;\nexports.easeCircleOut = circleOut;\nexports.easeCircleInOut = circleInOut;\nexports.easeBounce = bounceOut;\nexports.easeBounceIn = bounceIn;\nexports.easeBounceOut = bounceOut;\nexports.easeBounceInOut = bounceInOut;\nexports.easeBack = backInOut;\nexports.easeBackIn = backIn;\nexports.easeBackOut = backOut;\nexports.easeBackInOut = backInOut;\nexports.easeElastic = elasticOut;\nexports.easeElasticIn = elasticIn;\nexports.easeElasticOut = elasticOut;\nexports.easeElasticInOut = elasticInOut;\nexports.forceCenter = center$1;\nexports.forceCollide = collide;\nexports.forceLink = link;\nexports.forceManyBody = manyBody;\nexports.forceSimulation = simulation;\nexports.forceX = x$2;\nexports.forceY = y$2;\nexports.formatDefaultLocale = defaultLocale;\nexports.formatLocale = formatLocale;\nexports.formatSpecifier = formatSpecifier;\nexports.precisionFixed = precisionFixed;\nexports.precisionPrefix = precisionPrefix;\nexports.precisionRound = precisionRound;\nexports.geoArea = area;\nexports.geoBounds = bounds;\nexports.geoCentroid = centroid;\nexports.geoCircle = circle;\nexports.geoClipExtent = extent$1;\nexports.geoContains = contains;\nexports.geoDistance = distance;\nexports.geoGraticule = graticule;\nexports.geoGraticule10 = graticule10;\nexports.geoInterpolate = interpolate$1;\nexports.geoLength = length$1;\nexports.geoPath = index$1;\nexports.geoAlbers = albers;\nexports.geoAlbersUsa = albersUsa;\nexports.geoAzimuthalEqualArea = azimuthalEqualArea;\nexports.geoAzimuthalEqualAreaRaw = azimuthalEqualAreaRaw;\nexports.geoAzimuthalEquidistant = azimuthalEquidistant;\nexports.geoAzimuthalEquidistantRaw = azimuthalEquidistantRaw;\nexports.geoConicConformal = conicConformal;\nexports.geoConicConformalRaw = conicConformalRaw;\nexports.geoConicEqualArea = conicEqualArea;\nexports.geoConicEqualAreaRaw = conicEqualAreaRaw;\nexports.geoConicEquidistant = conicEquidistant;\nexports.geoConicEquidistantRaw = conicEquidistantRaw;\nexports.geoEquirectangular = equirectangular;\nexports.geoEquirectangularRaw = equirectangularRaw;\nexports.geoGnomonic = gnomonic;\nexports.geoGnomonicRaw = gnomonicRaw;\nexports.geoIdentity = identity$5;\nexports.geoProjection = projection;\nexports.geoProjectionMutator = projectionMutator;\nexports.geoMercator = mercator;\nexports.geoMercatorRaw = mercatorRaw;\nexports.geoOrthographic = orthographic;\nexports.geoOrthographicRaw = orthographicRaw;\nexports.geoStereographic = stereographic;\nexports.geoStereographicRaw = stereographicRaw;\nexports.geoTransverseMercator = transverseMercator;\nexports.geoTransverseMercatorRaw = transverseMercatorRaw;\nexports.geoRotation = rotation;\nexports.geoStream = geoStream;\nexports.geoTransform = transform;\nexports.cluster = cluster;\nexports.hierarchy = hierarchy;\nexports.pack = index$2;\nexports.packSiblings = siblings;\nexports.packEnclose = enclose;\nexports.partition = partition;\nexports.stratify = stratify;\nexports.tree = tree;\nexports.treemap = index$3;\nexports.treemapBinary = binary;\nexports.treemapDice = treemapDice;\nexports.treemapSlice = treemapSlice;\nexports.treemapSliceDice = sliceDice;\nexports.treemapSquarify = squarify;\nexports.treemapResquarify = resquarify;\nexports.interpolate = interpolateValue;\nexports.interpolateArray = array$1;\nexports.interpolateBasis = basis$1;\nexports.interpolateBasisClosed = basisClosed;\nexports.interpolateDate = date;\nexports.interpolateNumber = reinterpolate;\nexports.interpolateObject = object;\nexports.interpolateRound = interpolateRound;\nexports.interpolateString = interpolateString;\nexports.interpolateTransformCss = interpolateTransformCss;\nexports.interpolateTransformSvg = interpolateTransformSvg;\nexports.interpolateZoom = interpolateZoom;\nexports.interpolateRgb = interpolateRgb;\nexports.interpolateRgbBasis = rgbBasis;\nexports.interpolateRgbBasisClosed = rgbBasisClosed;\nexports.interpolateHsl = hsl$2;\nexports.interpolateHslLong = hslLong;\nexports.interpolateLab = lab$1;\nexports.interpolateHcl = hcl$2;\nexports.interpolateHclLong = hclLong;\nexports.interpolateCubehelix = cubehelix$2;\nexports.interpolateCubehelixLong = cubehelixLong;\nexports.quantize = quantize;\nexports.path = path;\nexports.polygonArea = area$1;\nexports.polygonCentroid = centroid$1;\nexports.polygonHull = hull;\nexports.polygonContains = contains$1;\nexports.polygonLength = length$2;\nexports.quadtree = quadtree;\nexports.queue = queue;\nexports.randomUniform = uniform;\nexports.randomNormal = normal;\nexports.randomLogNormal = logNormal;\nexports.randomBates = bates;\nexports.randomIrwinHall = irwinHall;\nexports.randomExponential = exponential$1;\nexports.request = request;\nexports.html = html;\nexports.json = json;\nexports.text = text;\nexports.xml = xml;\nexports.csv = csv$1;\nexports.tsv = tsv$1;\nexports.scaleBand = band;\nexports.scalePoint = point$1;\nexports.scaleIdentity = identity$6;\nexports.scaleLinear = linear$2;\nexports.scaleLog = log$1;\nexports.scaleOrdinal = ordinal;\nexports.scaleImplicit = implicit;\nexports.scalePow = pow$1;\nexports.scaleSqrt = sqrt$1;\nexports.scaleQuantile = quantile;\nexports.scaleQuantize = quantize$1;\nexports.scaleThreshold = threshold$1;\nexports.scaleTime = time;\nexports.scaleUtc = utcTime;\nexports.schemeCategory10 = category10;\nexports.schemeCategory20b = category20b;\nexports.schemeCategory20c = category20c;\nexports.schemeCategory20 = category20;\nexports.interpolateCubehelixDefault = cubehelix$3;\nexports.interpolateRainbow = rainbow$1;\nexports.interpolateWarm = warm;\nexports.interpolateCool = cool;\nexports.interpolateViridis = viridis;\nexports.interpolateMagma = magma;\nexports.interpolateInferno = inferno;\nexports.interpolatePlasma = plasma;\nexports.scaleSequential = sequential;\nexports.creator = creator;\nexports.local = local$1;\nexports.matcher = matcher$1;\nexports.mouse = mouse;\nexports.namespace = namespace;\nexports.namespaces = namespaces;\nexports.select = select;\nexports.selectAll = selectAll;\nexports.selection = selection;\nexports.selector = selector;\nexports.selectorAll = selectorAll;\nexports.style = styleValue;\nexports.touch = touch;\nexports.touches = touches;\nexports.window = defaultView;\nexports.customEvent = customEvent;\nexports.arc = arc;\nexports.area = area$2;\nexports.line = line;\nexports.pie = pie;\nexports.areaRadial = areaRadial;\nexports.radialArea = areaRadial;\nexports.lineRadial = lineRadial$1;\nexports.radialLine = lineRadial$1;\nexports.pointRadial = pointRadial;\nexports.linkHorizontal = linkHorizontal;\nexports.linkVertical = linkVertical;\nexports.linkRadial = linkRadial;\nexports.symbol = symbol;\nexports.symbols = symbols;\nexports.symbolCircle = circle$2;\nexports.symbolCross = cross$2;\nexports.symbolDiamond = diamond;\nexports.symbolSquare = square;\nexports.symbolStar = star;\nexports.symbolTriangle = triangle;\nexports.symbolWye = wye;\nexports.curveBasisClosed = basisClosed$1;\nexports.curveBasisOpen = basisOpen;\nexports.curveBasis = basis$2;\nexports.curveBundle = bundle;\nexports.curveCardinalClosed = cardinalClosed;\nexports.curveCardinalOpen = cardinalOpen;\nexports.curveCardinal = cardinal;\nexports.curveCatmullRomClosed = catmullRomClosed;\nexports.curveCatmullRomOpen = catmullRomOpen;\nexports.curveCatmullRom = catmullRom;\nexports.curveLinearClosed = linearClosed;\nexports.curveLinear = curveLinear;\nexports.curveMonotoneX = monotoneX;\nexports.curveMonotoneY = monotoneY;\nexports.curveNatural = natural;\nexports.curveStep = step;\nexports.curveStepAfter = stepAfter;\nexports.curveStepBefore = stepBefore;\nexports.stack = stack;\nexports.stackOffsetExpand = expand;\nexports.stackOffsetDiverging = diverging;\nexports.stackOffsetNone = none$1;\nexports.stackOffsetSilhouette = silhouette;\nexports.stackOffsetWiggle = wiggle;\nexports.stackOrderAscending = ascending$2;\nexports.stackOrderDescending = descending$2;\nexports.stackOrderInsideOut = insideOut;\nexports.stackOrderNone = none$2;\nexports.stackOrderReverse = reverse;\nexports.timeInterval = newInterval;\nexports.timeMillisecond = millisecond;\nexports.timeMilliseconds = milliseconds;\nexports.utcMillisecond = millisecond;\nexports.utcMilliseconds = milliseconds;\nexports.timeSecond = second;\nexports.timeSeconds = seconds;\nexports.utcSecond = second;\nexports.utcSeconds = seconds;\nexports.timeMinute = minute;\nexports.timeMinutes = minutes;\nexports.timeHour = hour;\nexports.timeHours = hours;\nexports.timeDay = day;\nexports.timeDays = days;\nexports.timeWeek = sunday;\nexports.timeWeeks = sundays;\nexports.timeSunday = sunday;\nexports.timeSundays = sundays;\nexports.timeMonday = monday;\nexports.timeMondays = mondays;\nexports.timeTuesday = tuesday;\nexports.timeTuesdays = tuesdays;\nexports.timeWednesday = wednesday;\nexports.timeWednesdays = wednesdays;\nexports.timeThursday = thursday;\nexports.timeThursdays = thursdays;\nexports.timeFriday = friday;\nexports.timeFridays = fridays;\nexports.timeSaturday = saturday;\nexports.timeSaturdays = saturdays;\nexports.timeMonth = month;\nexports.timeMonths = months;\nexports.timeYear = year;\nexports.timeYears = years;\nexports.utcMinute = utcMinute;\nexports.utcMinutes = utcMinutes;\nexports.utcHour = utcHour;\nexports.utcHours = utcHours;\nexports.utcDay = utcDay;\nexports.utcDays = utcDays;\nexports.utcWeek = utcSunday;\nexports.utcWeeks = utcSundays;\nexports.utcSunday = utcSunday;\nexports.utcSundays = utcSundays;\nexports.utcMonday = utcMonday;\nexports.utcMondays = utcMondays;\nexports.utcTuesday = utcTuesday;\nexports.utcTuesdays = utcTuesdays;\nexports.utcWednesday = utcWednesday;\nexports.utcWednesdays = utcWednesdays;\nexports.utcThursday = utcThursday;\nexports.utcThursdays = utcThursdays;\nexports.utcFriday = utcFriday;\nexports.utcFridays = utcFridays;\nexports.utcSaturday = utcSaturday;\nexports.utcSaturdays = utcSaturdays;\nexports.utcMonth = utcMonth;\nexports.utcMonths = utcMonths;\nexports.utcYear = utcYear;\nexports.utcYears = utcYears;\nexports.timeFormatDefaultLocale = defaultLocale$1;\nexports.timeFormatLocale = formatLocale$1;\nexports.isoFormat = formatIso;\nexports.isoParse = parseIso;\nexports.now = now;\nexports.timer = timer;\nexports.timerFlush = timerFlush;\nexports.timeout = timeout$1;\nexports.interval = interval$1;\nexports.transition = transition;\nexports.active = active;\nexports.interrupt = interrupt;\nexports.voronoi = voronoi;\nexports.zoom = zoom;\nexports.zoomTransform = transform$1;\nexports.zoomIdentity = identity$8;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/d3/build/d3.js","import {curry} from 'rambda';\n\n// attempt to make a single selection using d3.select. If it succeeeds then it returns\n// that selection to you. Otherwise it adds the desired element type (e.g. div) in the slot\n// and gives it the class or id of the identifier.\nexport default curry(function(parent, type, identifier) {\n  const isClass = identifier.split('')[0] === '.';\n\n  const selectionAttempt = parent.select(identifier);\n\n  return selectionAttempt.empty()\n    ? parent.append(type).attr(isClass ? 'class' : 'id', identifier.slice(1))\n    : selectionAttempt;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/trySelect.js","import moment from 'moment';\nexport default (secs) => moment().startOf('day').seconds(secs);\n\n\n\n// WEBPACK FOOTER //\n// ./src/timeHelpers/secondsToTime.js","//! moment.js\n//! version : 2.18.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n\nfunction isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n\nfunction isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n\nfunction isObjectEmpty(obj) {\n    var k;\n    for (k in obj) {\n        // even if its not own property I'd still call it non-empty\n        return false;\n    }\n    return true;\n}\n\nfunction isUndefined(input) {\n    return input === void 0;\n}\n\nfunction isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n\nfunction isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n\nfunction map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n\nfunction hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n\nfunction extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n\nfunction createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n\nfunction defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null,\n        rfc2822         : false,\n        weekdayMismatch : false\n    };\n}\n\nfunction getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n\nvar some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nvar some$1 = some;\n\nfunction isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some$1.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nfunction createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nfunction copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i = 0; i < momentProperties.length; i++) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nfunction Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nfunction isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n\nfunction absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n\nfunction toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n\n// compare two arrays, return the number of differences\nfunction compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nfunction deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nfunction deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n\nfunction isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n\nfunction set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    this._dayOfMonthOrdinalParseLenient = new RegExp(\n        (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n            '|' + (/\\d{1,2}/).source);\n}\n\nfunction mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n\nfunction Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nvar keys$1 = keys;\n\nvar defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nfunction calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n\nvar defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nfunction longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n\nvar defaultInvalidDate = 'Invalid date';\n\nfunction invalidDate () {\n    return this._invalidDate;\n}\n\nvar defaultOrdinal = '%d';\nvar defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\nfunction ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\nvar defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    ss : '%d seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nfunction relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nfunction pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n\nvar aliases = {};\n\nfunction addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nfunction normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nfunction normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\nvar priorities = {};\n\nfunction addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nfunction getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n\nfunction makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set$1(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nfunction get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nfunction set$1 (mom, unit, value) {\n    if (mom.isValid()) {\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n    }\n}\n\n// MOMENTS\n\nfunction stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nfunction stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n\nfunction zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n\nvar formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nvar formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nfunction addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nfunction formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nfunction expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n\nvar match1         = /\\d/;            //       0 - 9\nvar match2         = /\\d\\d/;          //      00 - 99\nvar match3         = /\\d{3}/;         //     000 - 999\nvar match4         = /\\d{4}/;         //    0000 - 9999\nvar match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nvar match1to2      = /\\d\\d?/;         //       0 - 99\nvar match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nvar match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nvar match1to3      = /\\d{1,3}/;       //       0 - 999\nvar match1to4      = /\\d{1,4}/;       //       0 - 9999\nvar match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nvar matchUnsigned  = /\\d+/;           //       0 - inf\nvar matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nvar matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nvar matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nvar matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nvar matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n\nvar regexes = {};\n\nfunction addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nfunction getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nfunction regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nvar tokens = {};\n\nfunction addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nfunction addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nfunction addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n\nvar YEAR = 0;\nvar MONTH = 1;\nvar DATE = 2;\nvar HOUR = 3;\nvar MINUTE = 4;\nvar SECOND = 5;\nvar MILLISECOND = 6;\nvar WEEK = 7;\nvar WEEKDAY = 8;\n\nvar indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nvar indexOf$1 = indexOf;\n\nfunction daysInMonth(year, month) {\n    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nvar defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nfunction localeMonths (m, format) {\n    if (!m) {\n        return isArray(this._months) ? this._months :\n            this._months['standalone'];\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nvar defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nfunction localeMonthsShort (m, format) {\n    if (!m) {\n        return isArray(this._monthsShort) ? this._monthsShort :\n            this._monthsShort['standalone'];\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nfunction getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nfunction getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nfunction monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nfunction monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nfunction daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nfunction isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nvar getSetYear = makeGetSet('FullYear', true);\n\nfunction getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n\nfunction createDate (y, m, d, h, M, s, ms) {\n    // can't just apply() to create a date:\n    // https://stackoverflow.com/q/181348\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    // the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nfunction createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    // the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nfunction dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nfunction weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nfunction weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nfunction localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nvar defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nfunction localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nfunction localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nfunction getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nfunction getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nvar defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nfunction localeWeekdays (m, format) {\n    if (!m) {\n        return isArray(this._weekdays) ? this._weekdays :\n            this._weekdays['standalone'];\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nvar defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nfunction localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nvar defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nfunction localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse$1(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse$1.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nfunction getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nfunction getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nfunction weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nfunction weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nfunction weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('k',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\naddRegexToken('kk', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['k', 'kk'], function (input, array, config) {\n    var kInput = toInt(input);\n    array[HOUR] = kInput === 24 ? 0 : kInput;\n});\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nfunction localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nvar defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nfunction localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nvar getSetHour = makeGetSet('Hours', true);\n\n// months\n// week\n// weekdays\n// meridiem\nvar baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            require('./locale/' + name);\n            // because defineLocale currently also sets the global locale, we\n            // want to undo that for lazy loaded locales\n            getSetGlobalLocale(oldLocale);\n        } catch (e) { }\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nfunction getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nfunction defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nfunction updateLocale(name, config) {\n    if (config != null) {\n        var locale, parentConfig = baseConfig;\n        // MERGE\n        if (locales[name] != null) {\n            parentConfig = locales[name]._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nfunction getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nfunction listLocales() {\n    return keys$1(locales);\n}\n\nfunction checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nfunction configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\nvar basicRfcRegex = /^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d?\\d\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(?:\\d\\d)?\\d\\d\\s)(\\d\\d:\\d\\d)(\\:\\d\\d)?(\\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\\d{4}))$/;\n\n// date and time from ref 2822 format\nfunction configFromRFC2822(config) {\n    var string, match, dayFormat,\n        dateFormat, timeFormat, tzFormat;\n    var timezones = {\n        ' GMT': ' +0000',\n        ' EDT': ' -0400',\n        ' EST': ' -0500',\n        ' CDT': ' -0500',\n        ' CST': ' -0600',\n        ' MDT': ' -0600',\n        ' MST': ' -0700',\n        ' PDT': ' -0700',\n        ' PST': ' -0800'\n    };\n    var military = 'YXWVUTSRQPONZABCDEFGHIKLM';\n    var timezone, timezoneIndex;\n\n    string = config._i\n        .replace(/\\([^\\)]*\\)|[\\n\\t]/g, ' ') // Remove comments and folding whitespace\n        .replace(/(\\s\\s+)/g, ' ') // Replace multiple-spaces with a single space\n        .replace(/^\\s|\\s$/g, ''); // Remove leading and trailing spaces\n    match = basicRfcRegex.exec(string);\n\n    if (match) {\n        dayFormat = match[1] ? 'ddd' + ((match[1].length === 5) ? ', ' : ' ') : '';\n        dateFormat = 'D MMM ' + ((match[2].length > 10) ? 'YYYY ' : 'YY ');\n        timeFormat = 'HH:mm' + (match[4] ? ':ss' : '');\n\n        // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n        if (match[1]) { // day of week given\n            var momentDate = new Date(match[2]);\n            var momentDay = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][momentDate.getDay()];\n\n            if (match[1].substr(0,3) !== momentDay) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return;\n            }\n        }\n\n        switch (match[5].length) {\n            case 2: // military\n                if (timezoneIndex === 0) {\n                    timezone = ' +0000';\n                } else {\n                    timezoneIndex = military.indexOf(match[5][1].toUpperCase()) - 12;\n                    timezone = ((timezoneIndex < 0) ? ' -' : ' +') +\n                        (('' + timezoneIndex).replace(/^-?/, '0')).match(/..$/)[0] + '00';\n                }\n                break;\n            case 4: // Zone\n                timezone = timezones[match[5]];\n                break;\n            default: // UT or +/-9999\n                timezone = timezones[' GMT'];\n        }\n        match[5] = timezone;\n        config._i = match.splice(1).join('');\n        tzFormat = ' ZZ';\n        config._f = dayFormat + dateFormat + timeFormat + tzFormat;\n        configFromStringAndFormat(config);\n        getParsingFlags(config).rfc2822 = true;\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nfunction configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    configFromRFC2822(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    // Final attempt, use Input Fallback\n    hooks.createFromInputFallback(config);\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n\n// Pick the first defined of two or three arguments.\nfunction defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nfunction configFromArray (config) {\n    var i, date, input = [], currentDate, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear != null) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// constant that refers to the RFC 2822 form\nhooks.RFC_2822 = function () {};\n\n// date from string and format string\nfunction configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n    if (config._f === hooks.RFC_2822) {\n        configFromRFC2822(config);\n        return;\n    }\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n\n// date from string and array of format strings\nfunction configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n\nfunction configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nfunction prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (isUndefined(input)) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (isObject(input)) {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nfunction createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n\nfunction createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n\nvar prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nvar prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nfunction min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nfunction max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n\nvar now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n\nvar ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\nfunction isDurationValid(m) {\n    for (var key in m) {\n        if (!(ordering.indexOf(key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n            return false;\n        }\n    }\n\n    var unitHasDecimal = false;\n    for (var i = 0; i < ordering.length; ++i) {\n        if (m[ordering[i]]) {\n            if (unitHasDecimal) {\n                return false; // only allow non-integers for smallest unit\n            }\n            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                unitHasDecimal = true;\n            }\n        }\n    }\n\n    return true;\n}\n\nfunction isValid$1() {\n    return this._isValid;\n}\n\nfunction createInvalid$1() {\n    return createDuration(NaN);\n}\n\nfunction Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    this._isValid = isDurationValid(normalizedInput);\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nfunction isDuration (obj) {\n    return obj instanceof Duration;\n}\n\nfunction absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nfunction cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nfunction getSetOffset (input, keepLocalTime, keepMinutes) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16 && !keepMinutes) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nfunction getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nfunction setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nfunction setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nfunction setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm, false, true);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nfunction hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nfunction isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nfunction isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nfunction isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nfunction isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nfunction isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;\n\nfunction createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = createInvalid$1;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nfunction addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (days) {\n        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nvar add      = createAdder(1, 'add');\nvar subtract = createAdder(-1, 'subtract');\n\nfunction getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nfunction calendar$1 (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n\nfunction clone () {\n    return new Moment(this);\n}\n\nfunction isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nfunction isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nfunction isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nfunction isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nfunction isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nfunction isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n\nfunction diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    if (units === 'year' || units === 'month' || units === 'quarter') {\n        output = monthDiff(this, that);\n        if (units === 'quarter') {\n            output = output / 3;\n        } else if (units === 'year') {\n            output = output / 12;\n        }\n    } else {\n        delta = this - that;\n        output = units === 'second' ? delta / 1e3 : // 1000\n            units === 'minute' ? delta / 6e4 : // 1000 * 60\n            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n            delta;\n    }\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nfunction toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nfunction toISOString() {\n    if (!this.isValid()) {\n        return null;\n    }\n    var m = this.clone().utc();\n    if (m.year() < 0 || m.year() > 9999) {\n        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n    }\n    if (isFunction(Date.prototype.toISOString)) {\n        // native implementation is ~50x faster, use it when we can\n        return this.toDate().toISOString();\n    }\n    return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nfunction inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nfunction format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n\nfunction from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n\nfunction to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nfunction locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nvar lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nfunction localeData () {\n    return this._locale;\n}\n\nfunction startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nfunction endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n\nfunction valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nfunction unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nfunction toDate () {\n    return new Date(this.valueOf());\n}\n\nfunction toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nfunction toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nfunction toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n\nfunction isValid$2 () {\n    return isValid(this);\n}\n\nfunction parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nfunction invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n\nfunction creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nfunction getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nfunction getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nfunction getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nfunction getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nfunction getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    return isStrict ?\n      (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n      locale._dayOfMonthOrdinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0], 10);\n});\n\n// MOMENTS\n\nvar getSetDayOfMonth = makeGetSet('Date', true);\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nfunction getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nvar getSetMinute = makeGetSet('Minutes', false);\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nvar getSetSecond = makeGetSet('Seconds', false);\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nvar getSetMillisecond = makeGetSet('Milliseconds', false);\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nfunction getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nfunction getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n\nvar proto = Moment.prototype;\n\nproto.add               = add;\nproto.calendar          = calendar$1;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid$2;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nfunction preParsePostFormat (string) {\n    return string;\n}\n\nvar proto$1 = Locale.prototype;\n\nproto$1.calendar        = calendar;\nproto$1.longDateFormat  = longDateFormat;\nproto$1.invalidDate     = invalidDate;\nproto$1.ordinal         = ordinal;\nproto$1.preparse        = preParsePostFormat;\nproto$1.postformat      = preParsePostFormat;\nproto$1.relativeTime    = relativeTime;\nproto$1.pastFuture      = pastFuture;\nproto$1.set             = set;\n\n// Month\nproto$1.months            =        localeMonths;\nproto$1.monthsShort       =        localeMonthsShort;\nproto$1.monthsParse       =        localeMonthsParse;\nproto$1.monthsRegex       = monthsRegex;\nproto$1.monthsShortRegex  = monthsShortRegex;\n\n// Week\nproto$1.week = localeWeek;\nproto$1.firstDayOfYear = localeFirstDayOfYear;\nproto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nproto$1.weekdays       =        localeWeekdays;\nproto$1.weekdaysMin    =        localeWeekdaysMin;\nproto$1.weekdaysShort  =        localeWeekdaysShort;\nproto$1.weekdaysParse  =        localeWeekdaysParse;\n\nproto$1.weekdaysRegex       =        weekdaysRegex;\nproto$1.weekdaysShortRegex  =        weekdaysShortRegex;\nproto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nproto$1.isPM = localeIsPM;\nproto$1.meridiem = localeMeridiem;\n\nfunction get$1 (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get$1(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get$1(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get$1(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get$1(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nfunction listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nfunction listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nfunction listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nfunction listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nfunction listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n\ngetSetGlobalLocale('en', {\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n\n// Side effect imports\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nvar mathAbs = Math.abs;\n\nfunction abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n\nfunction addSubtract$1 (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nfunction add$1 (input, value) {\n    return addSubtract$1(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nfunction subtract$1 (input, value) {\n    return addSubtract$1(this, input, value, -1);\n}\n\nfunction absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n\nfunction bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nfunction daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nfunction monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n\nfunction as (units) {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nfunction valueOf$1 () {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nvar asMilliseconds = makeAs('ms');\nvar asSeconds      = makeAs('s');\nvar asMinutes      = makeAs('m');\nvar asHours        = makeAs('h');\nvar asDays         = makeAs('d');\nvar asWeeks        = makeAs('w');\nvar asMonths       = makeAs('M');\nvar asYears        = makeAs('y');\n\nfunction get$2 (units) {\n    units = normalizeUnits(units);\n    return this.isValid() ? this[units + 's']() : NaN;\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this.isValid() ? this._data[name] : NaN;\n    };\n}\n\nvar milliseconds = makeGetter('milliseconds');\nvar seconds      = makeGetter('seconds');\nvar minutes      = makeGetter('minutes');\nvar hours        = makeGetter('hours');\nvar days         = makeGetter('days');\nvar months       = makeGetter('months');\nvar years        = makeGetter('years');\n\nfunction weeks () {\n    return absFloor(this.days() / 7);\n}\n\nvar round = Math.round;\nvar thresholds = {\n    ss: 44,         // a few seconds to seconds\n    s : 45,         // seconds to minute\n    m : 45,         // minutes to hour\n    h : 22,         // hours to day\n    d : 26,         // days to month\n    M : 11          // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds <= thresholds.ss && ['s', seconds]  ||\n            seconds < thresholds.s   && ['ss', seconds] ||\n            minutes <= 1             && ['m']           ||\n            minutes < thresholds.m   && ['mm', minutes] ||\n            hours   <= 1             && ['h']           ||\n            hours   < thresholds.h   && ['hh', hours]   ||\n            days    <= 1             && ['d']           ||\n            days    < thresholds.d   && ['dd', days]    ||\n            months  <= 1             && ['M']           ||\n            months  < thresholds.M   && ['MM', months]  ||\n            years   <= 1             && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nfunction getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nfunction getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nfunction humanize (withSuffix) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var locale = this.localeData();\n    var output = relativeTime$1(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n\nvar abs$1 = Math.abs;\n\nfunction toISOString$1() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var seconds = abs$1(this._milliseconds) / 1000;\n    var days         = abs$1(this._days);\n    var months       = abs$1(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds;\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    return (total < 0 ? '-' : '') +\n        'P' +\n        (Y ? Y + 'Y' : '') +\n        (M ? M + 'M' : '') +\n        (D ? D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? h + 'H' : '') +\n        (m ? m + 'M' : '') +\n        (s ? s + 'S' : '');\n}\n\nvar proto$2 = Duration.prototype;\n\nproto$2.isValid        = isValid$1;\nproto$2.abs            = abs;\nproto$2.add            = add$1;\nproto$2.subtract       = subtract$1;\nproto$2.as             = as;\nproto$2.asMilliseconds = asMilliseconds;\nproto$2.asSeconds      = asSeconds;\nproto$2.asMinutes      = asMinutes;\nproto$2.asHours        = asHours;\nproto$2.asDays         = asDays;\nproto$2.asWeeks        = asWeeks;\nproto$2.asMonths       = asMonths;\nproto$2.asYears        = asYears;\nproto$2.valueOf        = valueOf$1;\nproto$2._bubble        = bubble;\nproto$2.get            = get$2;\nproto$2.milliseconds   = milliseconds;\nproto$2.seconds        = seconds;\nproto$2.minutes        = minutes;\nproto$2.hours          = hours;\nproto$2.days           = days;\nproto$2.weeks          = weeks;\nproto$2.months         = months;\nproto$2.years          = years;\nproto$2.humanize       = humanize;\nproto$2.toISOString    = toISOString$1;\nproto$2.toString       = toISOString$1;\nproto$2.toJSON         = toISOString$1;\nproto$2.locale         = locale;\nproto$2.localeData     = localeData;\n\n// Deprecations\nproto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\nproto$2.lang = lang;\n\n// Side effect imports\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n\n// Side effect imports\n\n\nhooks.version = '2.18.1';\n\nsetHookCallback(createLocal);\n\nhooks.fn                    = proto;\nhooks.min                   = min;\nhooks.max                   = max;\nhooks.now                   = now;\nhooks.utc                   = createUTC;\nhooks.unix                  = createUnix;\nhooks.months                = listMonths;\nhooks.isDate                = isDate;\nhooks.locale                = getSetGlobalLocale;\nhooks.invalid               = createInvalid;\nhooks.duration              = createDuration;\nhooks.isMoment              = isMoment;\nhooks.weekdays              = listWeekdays;\nhooks.parseZone             = createInZone;\nhooks.localeData            = getLocale;\nhooks.isDuration            = isDuration;\nhooks.monthsShort           = listMonthsShort;\nhooks.weekdaysMin           = listWeekdaysMin;\nhooks.defineLocale          = defineLocale;\nhooks.updateLocale          = updateLocale;\nhooks.locales               = listLocales;\nhooks.weekdaysShort         = listWeekdaysShort;\nhooks.normalizeUnits        = normalizeUnits;\nhooks.relativeTimeRounding = getSetRelativeTimeRounding;\nhooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\nhooks.calendarFormat        = getCalendarFormat;\nhooks.prototype             = proto;\n\nreturn hooks;\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/moment/moment.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","import {select, selectAll} from 'd3';\n\n// takes a supplied date and will disable all brushes except the given dates.\nexport default (currentDate = '') => {\n  selectAll('.brush').each(function() {\n    const brushSel = select(this);\n    if (!brushSel.classed(currentDate)) {\n      brushSel.select('.selection').style('display', 'none');\n      brushSel.selectAll('.handle').style('display', 'none');\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/disableBrushes.js","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };\n\n\n// WEBPACK FOOTER //\n// ./node_modules/redux/es/index.js","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/redux/es/createStore.js","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isPlainObject.js","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_Symbol.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/redux/es/utils/warning.js","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/redux/es/compose.js","import {transition} from 'd3';\n\n// Easy d3 transition maker.\n// giving the transition a name avoids conflicts\nexport default (name = 'sliding', speed = 500) =>\n  transition(name).duration(speed);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/transition.js","import dateToId from './chartFunctions/dateToId';\nimport makeScales from './chartFunctions/makeScales';\nimport subsetData from './dataFunctions/subsetData';\nimport groupData from './dataFunctions/groupData';\nimport groupTags from './dataFunctions/groupTags';\nimport makeTagInput from './chartFunctions/makeTagInput';\nimport disableBrushes from './chartFunctions/disableBrushes';\n\n// actions and reducers\nimport addTagAction from './actions/addTag';\nimport deleteTagAction from './actions/deleteTag';\nimport addDataAction from './actions/addData';\nimport {createStore} from 'redux';\nimport mainReducer from './reducers/index';\n\nimport TagLegend from './Tagger/TagLegend';\nimport DayChart from './DayChart';\n/* Takes multiple day's worth of data and spins out a day viz for each along with\n*  some tagging logic to go with it.\n*/\nconst VisualizeDays = (config) => {\n  const {\n    domTarget,\n    yMax = 200,\n    margins = {left: 40, right: 80, top: 60, bottom: 30},\n    fontFamily = 'optima',\n    tagMessage,\n  } = config;\n\n  let {dayHeight = 200, width = d3.select(domTarget).style('width')} = config;\n\n  // Set up store;\n  const store = createStore(mainReducer);\n\n  // // Setting up action emmiters ///////\n  const addTag = addTagAction(store);\n  const deleteTag = deleteTagAction(store);\n  const addData = addDataAction(store);\n\n  const sel = d3.select(domTarget);\n\n  // set up function to generate a common set of scales for all the days.\n  const scalesGen = makeScales(yMax);\n\n  // set up data subseting function using supplied x and y keys\n  const dataSubsetter = subsetData({xVal: 'time', yVal: 'value'});\n\n  // set up legend with the standard defaults and then call it.\n  const legendGen = TagLegend({sel, fontFamily});\n  legendGen({}, []);\n\n  // // append a hidden div to act as our tagging interface.\n  makeTagInput(sel);\n\n  const svg = sel.append('svg').attr('id', 'dayViz');\n\n  // behavior when we get new data from the server.\n  const renderViz = (data, tags, tagColors) => {\n    const groupedData = groupData(data);\n    const groupedWithTags = groupTags(groupedData, tags);\n    const cWidth = width - margins.left - margins.right;\n    const cHeight = dayHeight - margins.top - margins.bottom;\n\n    legendGen(tagColors, tags);\n\n    svg\n      .style('height', groupedWithTags.length * dayHeight)\n      .style('width', width);\n\n    const dayChart = DayChart({\n      dataSubsetter,\n      scalesGen,\n      height: cHeight,\n      width: cWidth,\n      addTag,\n      deleteTag,\n      tagColors,\n    });\n\n    const days = svg.selectAll('.dayViz').data(groupedWithTags, (d) => d.date);\n\n    // ENTER new days\n    days\n      .enter()\n      .append('g')\n      .attr('class', 'dayViz')\n      .attr('id', (d) => dateToId(d.date))\n      .attr('width', width)\n      .attr('height', dayHeight)\n      .merge(days) // merge with the updating elements too.\n      .attr(\n        'transform',\n        (d, i) => `translate(${margins.left}, ${margins.top + i * dayHeight})`\n      )\n      .call(function(selection) {\n        selection.each(function(d, i) {\n          // generate chart here; `d` is the data and `this` is the element\n          dayChart(d, this);\n        });\n      });\n\n    // Remove days no longer present\n    days.exit().remove();\n  };\n\n  // when new data is sent to the vis send action to redux store to add it.\n  const newData = (data) => {\n    addData(data);\n  };\n\n  const rerender = (resize = false) => {\n    disableBrushes(''); // kill and brushes that may be open.\n    const {data, tags, tagColors} = store.getState();\n    if (resize) renderViz(data, [], tagColors);\n    // rerender viz with new tags or data\n    renderViz(data, tags, tagColors);\n    // send tags to shiny \n    tagMessage(tags);\n  };\n\n  const resize = (newWidth, newHeight = dayHeight) => {\n    width = newWidth;\n    dayHeight = newHeight;\n    rerender(true);\n  };\n\n  store.subscribe(() => {\n    rerender();\n  });\n\n  return {\n    newData,\n    resize,\n  };\n};\n\nmodule.exports = VisualizeDays;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// The default -s in the dates cant be used as ids in html.\n// converts a date string to an id for use with managing divs.\nmodule.exports = (date) => `date_${date.replace(/-/g, '_')}`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/dateToId.js","import {curry} from 'rambda';\nimport {scaleTime, scaleLinear} from 'd3';\nimport secondsToTime from '../timeHelpers/secondsToTime';\n\n// returns a scale for x y and to convert to seconds from screen position\n// as well as returning a function for recomputing the size dependent components.\n// the height and width are post margins convention.\nconst makeScales = curry((yMax, height, width) => {\n  let x = scaleTime()\n    .domain([secondsToTime(0), secondsToTime(86400)])\n    .range([0, width]);\n\n  let y = scaleLinear().domain([0, yMax]).range([height, 0]);\n\n  let toSeconds = scaleLinear().range([0, 86400]).domain([0, width]);\n\n  return {\n    x,\n    y,\n    toSeconds,\n  };\n});\n\nmodule.exports = makeScales;\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/makeScales.js","import {curry} from 'rambda';\nimport secondsToTime from '../timeHelpers/secondsToTime';\n\n// Takes a setup object first that shouldnt change througout the whole app lifecycle. \n// It defaults, perhaps unwisely, to transform the x values from a seconds in the day \n// to a javascript time. This is provided as an option so it can be disabled for testing. \nexport default curry(\n  ({xVal = 'time', yVal = 'value', xTransform = secondsToTime}, type, data) =>\n    data.filter((d) => d.type == type).map((d) => ({\n      x: xTransform(+d[xVal]),\n      y: +d[yVal],\n    }))\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/dataFunctions/subsetData.js","import stringToDate from '../timeHelpers/stringToDate';\n\nexport default (data) => {\n  const grouped = data.reduce((grouped, current) => {\n    // check if current date is already in key\n    const dateSeen = grouped.hasOwnProperty(current.date);\n    // if this is the first time seeing this date, initialize an empty array to push to.\n    if (!dateSeen) {\n      grouped[current.date] = [];\n    }\n\n    // send the whole object through to the outcome.\n    grouped[current.date].push(current);\n\n    return grouped;\n  }, {});\n\n  return Object.keys(grouped)\n    .map((day) => ({\n      date: day,\n      data: grouped[day],\n    }))\n    .sort((a, b) => stringToDate(b.date) - stringToDate(a.date));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dataFunctions/groupData.js","import moment from 'moment';\n\nexport default (d) => moment(d).toDate();\n\n\n\n// WEBPACK FOOTER //\n// ./src/timeHelpers/stringToDate.js","export default (groupedDays, tags) =>\n  groupedDays.map((date) => {\n    const dayTags = tags.filter((tag) => tag.date == date.date);\n    return {\n      date: date.date,\n      data: date.data,\n      tags: dayTags,\n    };\n  });\n\n\n\n// WEBPACK FOOTER //\n// ./src/dataFunctions/groupTags.js","export default (sel) => {\n  const edgeRoundness = '8px';\n\n  // Main container div for all selection.\n  const tagBody = sel\n    .append('div')\n    .attr('id', 'tagInput')\n    .style('position', 'absolute')\n    .style('text-align', 'center')\n    .style('padding', '8px 8px')\n    .style('border-radius', edgeRoundness)\n    .style('background-color', '#1f78b4')\n    .style('display', 'none');\n\n  // displayed text for tag (e.g. between time and b)\n  tagBody\n    .style('cursor', 'default')\n    .style('text-shadow', 'black 0px 0px 20px')\n    .style('color', 'white')\n    .append('span');\n\n  const tagForm = tagBody.append('form');\n\n  // Wrap tagging in a form element to allow for enter to be used to submit a tag.\n  // Text input for tag label\n  tagForm\n    .append('input')\n    .attr('type', 'text')\n    .attr('name', 'activity_tag')\n    .style('margin-top', '4px')\n    .style('margin-right', '4px')\n    .style('background-image', 'linear-gradient(#b5b5b5, #858385)')\n    .style('border-radius', edgeRoundness)\n    .style('border', '1px solid #464646')\n    .style('padding', '1px 4px')\n    .style('text-shadow', 'black 0px 0px 20px');\n\n  // add submit button\n  tagForm\n    .append('input')\n    .attr('type', 'submit')\n    .attr('value', 'tag')\n    .style('margin-left', '3px')\n    .style('border', '0')\n    .style('background-image', 'linear-gradient(#b5b5b5, #858385)')\n    .style('border-radius', edgeRoundness);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/makeTagInput.js","import {curry} from 'rambda';\n\n// behavior once a tag is made.\nexport default curry((store, tag) => {\n  store.dispatch({type: 'ADD_TAG', tag});\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/addTag.js","import {curry} from 'rambda';\n\n// behavior once a tag is made.\nexport default curry((store, tag) => {\n  store.dispatch({type: 'DELETE_TAG', tag});\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/deleteTag.js","import {curry} from 'rambda';\n\n// emits action to add data to redux store. \nexport default curry((store, data) => {\n  store.dispatch({type: 'ADD_DATA', data});\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/addData.js","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseGetTag.js","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_root.js","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_freeGlobal.js","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_getRawTag.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_objectToString.js","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_getPrototype.js","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_overArg.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isObjectLike.js","module.exports = require('./lib/index');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/symbol-observable/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/symbol-observable/lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/symbol-observable/lib/ponyfill.js","import { ActionTypes } from './createStore';\nimport isPlainObject from 'lodash-es/isPlainObject';\nimport warning from './utils/warning';\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nexport default function combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/redux/es/combineReducers.js","function bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/redux/es/bindActionCreators.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport compose from './compose';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nexport default function applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/redux/es/applyMiddleware.js","import {combineReducers} from 'redux';\nimport dataReducer from './dataReducer';\nimport tagReducer from './tagReducer';\nimport tagColorsReducer from './tagColorsReducer';\n\nconst mainReducer = combineReducers({\n  data: dataReducer,\n  tags: tagReducer,\n  tagColors: tagColorsReducer,\n});\n\nmodule.exports = mainReducer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.js","const dataReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD_DATA':\n      return [...action.data];\n    default:\n      return state;\n  }\n};\n\nmodule.exports = dataReducer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/dataReducer.js","const tagReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD_TAG':\n      return [...state, action.tag];\n    case 'DELETE_TAG':\n      return state.filter((t) => t !== action.tag);\n    default:\n      return state;\n  }\n};\n\nmodule.exports = tagReducer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/tagReducer.js","import { uniq, map } from 'rambda';\n\n// pallet from colorbrewer.\nconst tagColors = [\n  '#e41a1c',\n  '#377eb8',\n  '#4daf4a',\n  '#984ea3',\n  '#ff7f00',\n  '#ffff33',\n  '#a65628',\n  '#f781bf',\n  '#999999'\n];\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case 'ADD_TAG':\n      // get list of unique tags\n      const { tag } = action.tag;\n      const uniqueTags = Object.keys(state);\n      const oldTag = uniqueTags.includes(tag);\n      // debugger;\n      return !oldTag\n        ? { ...state, [tag]: tagColors[uniqueTags.length % tagColors.length] }\n        : state;\n    default:\n      return state;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/tagColorsReducer.js","import {curry} from 'rambda';\n\nimport trans from '../chartFunctions/transition';\nimport trySelect from '../chartFunctions/trySelect';\n\n/** Creates a legend that updates with the currently present tags.\n * Tags come in form of array of objects [{tag, start, end, color}]\n * Tag colors is object keyed by tag label {running: 'green', ...} etc. \n*/\n\nconst TagLegend = curry((config, tagColors, tags) => {\n  const {sel, fontFamily = 'optima', transitionSpeed = 500} = config;\n\n  // check if we already have a legend here.\n  const noLegend = sel.select('#tagLegend').empty();\n\n  const tryDiv = trySelect(sel, 'div');\n\n  const el = tryDiv('#tagLegend').style('font-family', fontFamily);\n\n  // a few setup things that only need to be run if this is the first time the legend is being drawn.\n  if (noLegend) {\n    el // Header\n      .append('div')\n      .attr('class', 'legendHeader')\n      .style('padding', '10px')\n      .append('h2')\n      .text('Current Tags:');\n  }\n\n  // set up flex box environment for parent div\n  const legendHolder = trySelect(el, 'div', '.legend_holder')\n    .style('display', 'flex')\n    .style('flex-wrap', 'wrap');\n\n  // Sort through tags and find which ones are shown and their colors.\n  const currentTags = Object.keys(tagColors)\n    .map((tag) => ({\n      tag,\n      color: tagColors[tag],\n      numTimesSeen: tags.filter((t) => t.tag === tag).length,\n    }))\n    .filter((tag) => tag.numTimesSeen > 0);\n\n  // JOIN\n  const tagDivs = legendHolder\n    .selectAll('.tagColor')\n    .data(currentTags, (d) => d.tag);\n\n  // EXIT\n  tagDivs\n    .exit()\n    .transition(trans('exiting', transitionSpeed))\n    .style('opacity', 0)\n    .remove();\n\n  // UPDATE\n  tagDivs.select('.times_seen').text((d) => `# times: ${d.numTimesSeen}`);\n\n  // ENTER\n  const enterDiv = tagDivs\n    .enter()\n    .append('div')\n    .attr('class', 'tagColor')\n    .style('width', '100px')\n    .style('margin', '5px')\n    .style('padding', '3px')\n    .style('border-radius', '10px')\n    .style('text-align', 'center');\n\n  enterDiv\n    .append('span')\n    .style('text-shadow', 'black 0px 0px 10px')\n    .style('color', 'white')\n    .style('font-weight', 'bold')\n    .text((d) => d.tag);\n\n  enterDiv.append('br');\n\n  enterDiv\n    .append('span')\n    .attr('class', 'times_seen')\n    .style('text-shadow', 'black 0px 0px 10px')\n    .style('color', 'white')\n    .text((d) => `# times: ${d.numTimesSeen}`);\n\n  enterDiv\n    .transition(trans('entering', transitionSpeed))\n    .style('background-color', (d) => d.color);\n});\nmodule.exports = TagLegend;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Tagger/TagLegend.js","import {curry} from 'rambda';\nimport * as d3 from 'd3';\n\nimport trySelect from './chartFunctions/trySelect';\nimport drawAxes from './chartFunctions/drawAxes';\nimport writeDate from './chartFunctions/writeDate';\nimport drawLine from './chartFunctions/drawLine';\nimport drawTags from './chartFunctions/drawTags';\nimport {lineGen, areaGen} from './chartFunctions/lineGenerators';\nimport disableBrushes from './chartFunctions/disableBrushes';\nimport editTagInput from './chartFunctions/editTagInput';\nimport resetBrushes from './chartFunctions/resetBrushes';\n\nconst hideInput = () => d3.select('#tagInput').style('display', 'none');\n\n// import addTag from './actions/addTag';\n\n/* Takes a bunch of self explanatory variables, but mostly the data as a json file and the date \n * @param {Array} data - This is an array of objects with keys \"hr\", \"steps\", and \"time\".\n * @param {String} date - String of the date in MM-DD-YYYY format. \n * @param {Object} scales - Object housing three d3 scales: x, y, and toSeconds\n * @param {Object} margins - Follows the standard d3 margin conventions. Gives padding on each side of chart. \n * @param {Number} [height = 200] - height isn pixels of the days plot\n * @param {Number} [width = 1000] - Width in pixels of days plot\n * @param {Number} [lineThickness = 1] - Plot line thickness. \n * @param {String} [hrColor = '#8da0cb'] - Hex code for heartrate line color\n * @param {String} [stepsColor = '#66c2a5'] - Hex code for steps bar color.\n * @param {String} [fontFamily = 'avenir'] - Valid css name for a font for axes. \n*/\nexport default curry((config, {date, data, tags}, selection) => {\n  const {\n    dataSubsetter,\n    scalesGen,\n    height,\n    width,\n    addTag,\n    deleteTag,\n    tagColors,\n    lineThickness = 1.25,\n    hrColor = '#d95f02',\n    stepsColor = '#1b9e77',\n  } = config;\n\n\n  const svg = d3.select(selection);\n  let scales = scalesGen(height, width);\n  const hrData = dataSubsetter('heart rate', data);\n  const stepsData = dataSubsetter('steps', data);\n\n  const tryG = trySelect(svg, 'g');\n\n  const hrG = tryG('.hr_plot');\n  const stepsG = tryG('.steps_plot');\n\n  drawAxes({svg, scales, height});\n  writeDate({width, height}, svg, date);\n\n  // HR line\n  drawLine({\n    gEl: hrG,\n    lineGen: lineGen(scales),\n    lineData: hrData,\n  })\n    .style('stroke', hrColor)\n    .style('stroke-width', lineThickness)\n    .style('fill', 'none');\n\n  // steps line\n  drawLine({\n    gEl: stepsG,\n    lineGen: areaGen(scales),\n    lineData: stepsData,\n  })\n    .style('fill', stepsColor)\n    .style('fill-opacity', 0.5);\n\n  const onBrush = function() {\n    try {\n      const rangeInSeconds = d3.event.selection.map((pos) =>\n        scales.toSeconds(pos)\n      );\n\n      // kill all the brushes on other dates\n      disableBrushes(date);\n\n      // move input\n      moveInput(rangeInSeconds, d3.event.sourceEvent);\n    } catch (e) {\n      hideInput();\n    }\n  };\n\n  const brushG = svg.append('g').attr('class', 'brush ' + date);\n  const brush = d3\n    .brushX()\n    .extent([[0, 0], [width, height]])\n    .on('start brush end', onBrush);\n\n  const brushReset = resetBrushes(brushG, brush);\n\n  brushG.call(brush);\n\n  const onTagDelete = (tag) => {\n    deleteTag(tag);\n    hideInput();\n    brushReset();\n  };\n\n  drawTags({svg, scales, height, onTagDelete, tagColors}, tags);\n\n  const moveInput = editTagInput({\n    type: 'move',\n    date,\n    addTag,\n    hideInput,\n    brushReset,\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/DayChart.js","import trySelect from './trySelect';\n\nexport default ({svg, scales, height}) => {\n  // Add the axes holders\n  const tryG = trySelect(svg, 'g');\n\n  // draw x-axis\n  tryG('.x_axis')\n    .attr('transform', 'translate(0,0)')\n    .attr('transform', `translate(0,${height})`)\n    .call(d3.axisBottom(scales.x).tickFormat(d3.timeFormat('%I %p')));\n\n  // draw y-axis\n  tryG('.y_axis').call(d3.axisLeft(scales.y).ticks(5));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/drawAxes.js","import {curry} from 'rambda';\n\nimport trySelect from './trySelect';\nimport toMonthDay from '../timeHelpers/toMonthDay';\n\nexport default curry(({width, height}, svg, date) => {\n  const tryText = trySelect(svg, 'text');\n\n  tryText('.current_date')\n    .attr('text-anchor', 'middle')\n    .attr('font-size', 20)\n    .text(toMonthDay(date))\n    .attr(\n      'transform',\n      `translate(${width + 20} , ${height/2.05}) rotate(90)`\n    );\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/writeDate.js","import moment from 'moment';\n\nexport default (date) => moment(date).format('ddd MM/DD');\n\n\n\n// WEBPACK FOOTER //\n// ./src/timeHelpers/toMonthDay.js","export default ({gEl, lineGen, lineData}) => {\n  // grab the correct g element\n  const pathEl = gEl.selectAll('path').data([lineData], (d) => d);\n\n  // Update existing line\n  pathEl.attr('d', lineGen);\n\n  // ENTER new line\n  pathEl.enter().append('path').attr('d', lineGen);\n\n  // Exit old\n  pathEl.exit().remove();\n\n  return gEl.selectAll('path');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/drawLine.js","import trySelect from './trySelect';\nimport secondsToTime from '../timeHelpers/secondsToTime';\nimport trans from './transition';\n\nconst barThickness = 20;\n// const {trans} = require('./chartHelpers');\n\n/* Is supplied with a svg object and some config options and then exposes \n *  a way of plotting tagged events when supplied with an array of tags. \n */\nexport default (config, tags) => {\n  const {svg, scales, height, onTagDelete, tagColors} = config;\n\n  const secToPlot = (secs) => scales.x(secondsToTime(secs));\n\n  const tagBars = trySelect(svg, 'g', '.tagsContainer')\n    .selectAll('rect')\n    .data(tags, (t) => `${t.start.toString()}-${t.date}`);\n\n  // Update bars\n  // tagBars\n  //   .attr('transform', `translate(0,0)`)\n  //   .attr('transform', (d) => `translate(${secToPlot(d.start)},0)`);\n\n  // Add new bars\n  tagBars\n    .enter()\n    .append('g')\n    .attr('class', 'tag')\n    .attr('transform', (d) => `translate(${secToPlot(d.start)},0)`)\n    .on('mouseenter', onMouseover)\n    .on('mouseleave', onMouseout)\n    .each(function(d) {\n      d3\n        .select(this)\n        .append('rect')\n        .attr('class', 'tag_bar')\n        .style('fill-opacity', '0.5')\n        .attr('y', height)\n        .attr('rx', barThickness * 0.5)\n        .attr('ry', barThickness * 0.5)\n        .attr('height', barThickness)\n        .attr('width', 1e-6)\n        .style('fill', (d) => tagColors[d.tag])\n        .transition(trans('barEnter', 500))\n        .attr('width', (d) => secToPlot(d.end) - secToPlot(d.start));\n    });\n\n  // //Remove days no longer present\n  tagBars.exit().remove();\n\n  //   /** Behavior when individual tag is moused over */\n  function onMouseover(selectedTag) {\n    const buttonRadius = barThickness * 0.5;\n\n    // append delete button\n    const deleteButton = d3\n      .select(this)\n      .append('g')\n      .attr('class', 'delete_button')\n      .attr(\n        'transform',\n        (d) => `translate(${buttonRadius},${height + buttonRadius})`\n      )\n      .attr('opacity', 1e-6)\n      .on('click', function(d) {\n        d3.select(this).remove(); // get rid of button\n        onTagDelete(d); // do other tag deletion logic\n      });\n\n    const deleteCircle = deleteButton\n      .append('circle')\n      .attr('r', buttonRadius)\n      .attr('fill', 'grey');\n\n    const deleteX = deleteButton\n      .append('text')\n      .attr('text-anchor', 'middle')\n      .style('stroke', '#f0f0f0')\n      .attr('dominant-baseline', 'central')\n      .text('X');\n\n    deleteButton.transition(trans('expanding')).attr('opacity', 1);\n  }\n\n  /** Behavior when individual tag is moused off */\n  function onMouseout(selectedTag) {\n    d3\n      .select(this)\n      .select('.delete_button')\n      .transition(trans('expanding'))\n      .attr('opacity', 1e-6)\n      .remove();\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/drawTags.js","import {area, line} from 'd3';\n\nconst lineGen = (scales) => line()\n  .x((d) => scales.x(d.x))\n  .y((d) => scales.y(d.y));\n\nconst areaGen = (scales) =>\n  area()\n    .curve(d3.curveStepAfter)\n    .x((d) => scales.x(d.x))\n    .y((d) => scales.y(0))\n    .y1((d) => scales.y(d.y));\n\nmodule.exports = {lineGen, areaGen};\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/lineGenerators.js","import {curry} from 'rambda';\nimport getTimeOfDay from '../timeHelpers/getTimeOfDay';\n\nexport default curry(\n  (\n    {type, date, addTag, hideInput, brushReset},\n    [start, end],\n    {pageX, pageY}\n  ) => {\n    const tagBody = d3.select('#tagInput');\n\n    // Main container div for all selection.\n    if (type === 'hide') {\n      tagBody.style('display', 'none');\n      return;\n    }\n\n    tagBody\n      .style('display', 'block')\n      .style('left', pageX + 'px')\n      .style('top', pageY - 28 + 'px')\n      .select('span')\n      .text(`Between ${getTimeOfDay(start)} and ${getTimeOfDay(end)}:`);\n\n    // deal with form submit behavior\n    tagBody.select('form').on('submit', () => {\n      d3.event.preventDefault();\n      const tag = tagBody.select('form').select('input')._groups[0][0].value;\n\n      // check to make sure the user put in some form of a tag.\n      const tagEmpty = tag === '';\n      if (tagEmpty) {\n        alert('Please enter a tag label.');\n        return;\n      }\n\n      const tagMsg = {tag, start, end, date};\n\n      addTag(tagMsg);\n      hideInput();\n      brushReset();\n    });\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/editTagInput.js","// input is an number representing seconds into a given day, \n// output is the time in hours mins. \nexport default (secs) => {\n  const hour = Math.floor(secs / 3600);\n  const amPm = hour < 12 ? 'AM' : 'PM';\n  const hour12 = hour <= 12 ? hour : hour - 12;\n  const mins = Math.floor((secs - hour * 3600) / 60);\n  const minPad = ('0' + mins).substr(mins.toString().length - 1);\n  return `${hour12}:${minPad}${amPm}`;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/timeHelpers/getTimeOfDay.js","export default (selection, brush) => () => selection.call(brush.move, null);\n\n\n\n// WEBPACK FOOTER //\n// ./src/chartFunctions/resetBrushes.js"],"sourceRoot":""}